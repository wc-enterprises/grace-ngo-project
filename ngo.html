<span class="help-block has-error" id="email-error"></span>
</div>
<div class="form-group">
    <div class="input-group">
        <div class="input-group-addon"><i class="fa fa-lock"></i></div>
        <input autocomplete="off" class="form-control" data-content="Enter Password you have created by the link sending by us" data-error="Please Enter Password!" data-placement="top" data-toggle="popover" data-trigger="hover" id="password" maxlength="40" onkeyup="chkvalidpass(this.value);"
            placeholder="Password" required="" type="password" />
        <a href="#" style="position: absolute; margin: 9px 0px 0px 11px;"><span class="glyphicon glyphicon-info-sign" data-original-title="Please enter Password" data-toggle="tooltip"></span></a>
    </div>
    <div class="help-block with-errors" style="margin-left:-194px;"></div>
    <div class="password_error help-block" style="margin-left:-125px;display:none;color:#a94442;">
        <ul class="list-unstyled">
            <li>Please enter valid Password!</li>
        </ul>
    </div>
    <span class="help-block has-error" id="password-error"></span>
</div>
<div class="form-group">
    <div id="captchaimagehere" style="float: left; margin-bottom: 15px;"><img alt=" " src="https://ngodarpan.gov.in/captcha/1681177626.6266.jpg" style="width: 220; height: 40; border: 0;" /></div>
    <div class="col-md-4">
        <a class="refresh" href="javascript:void(0)" style="margin-right:50px;"><img height="40px" id="ref_symbol" src="https://ngodarpan.gov.in/assets/images/reload.png" width="40px" /></a>
    </div>
</div>
<div class="form-group">
    <input autocomplete="off" class="form-control" data-error="Please Enter Valid Security Code!" id="captcha" maxlength="8" pattern="^[A-z0-9]{1,}$" placeholder="Enter Security Code Display Above" required="" type="text" value="" />
    <div class="help-block with-errors" style="margin-left:-172px;"></div>
    <div class="captcha_error help-block" style="margin-left:-52px;display:none;color:#a94442;">
        <ul class="list-unstyled">
            <li>Please Enter Valid Security Code OR Close Window and Try Again!</li>
        </ul>
    </div>
</div>
<div class="login_exist alert alert-danger" role="alert" style="display:none;">UserID or password is Invalid
</div>
<button class="btn btn-primary btn-xs forget-link" style="display:none;float:left; height: 25px;background-color: #337ab7;border-color: #2e6da4;color: #fff;margin-bottom:20px;" type="button">Forget Password</button>
<button class="btn btn-primary btn-xs login-otp-link" style="display:none;float:right; height: 25px;background-color: #337ab7;border-color: #2e6da4;color: #fff;" type="button">Login Via OTP</button>
<input id="sdfsdfdfdsff" name="sdfsdfdfdsff" type="hidden" value="" />
<button class="btn btn-block bt-login has-spinner" data-loading-text="Signing In...." id="login_btn" type="submit">Sign In</button>
<div class="clearfix"></div>
</input>
</form>
</div>
<div class="tab-pane" id="profile" role="tabpanel">

    <span class="response_error" id="registration_fail" style="display: none;">Registration failed, please try again.</span>
    <div class="clearfix"></div>
    <!-- Step 1 Registration Form-->
    <form class="shake" data-toggle="validator" id="regForm" role="form">
        <input name="" type="hidden" value="">
        <legend>Step 1 of 3</legend>
        <font color="red"><span id="signup_otp_error"></span></font>
        <div class="form-group">
            <label class="control-label" for="name" style="margin: 0px 0px 13px -217px;">Name of NGO/VO</label>
            <div class="input-group">
                <div class="input-group-addon"><i class="fa fa-user"></i></div>
                <input autocomplete="off" class="form-control" data-content="Contain upto 200 characters &amp; valid characters are a-z, A-Z, 0-9,+,&amp;,., (, -,_, ),/,! " data-error="Please Enter Valid Ngo Name!" data-minlength="2" data-placement="top" data-toggle="popover"
                    data-trigger="hover" id="ngo_name" maxlength="200" onblur="chkngoname(this.value);" pattern="[a-zA-Z0-9:.)(&amp;\}\+\/\s\,\!\'-_]+" placeholder="Enter Ngo Name" required="" type="text" />
                <a href="#" style="position: absolute; margin: 9px 0px 0px 11px;"><span class="glyphicon glyphicon-info-sign" data-original-title="Only  Characters a-z, A-Z, 0-9,+,&amp;,., (, -,_, ),/, !  are allowed" data-toggle="tooltip"></span></a>
            </div>
            <div class="help-block with-errors" style="margin-left:-159px;"></div>
            <div class="db_check_ngo help-block" style="margin-left:-125px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Ngo Name Already exist in Records!</li>
                </ul>
            </div>
            <div class="ngo_name_empty help-block" style="margin-left:-125px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please Enter Ngo Name!</li>
                </ul>
            </div>
            <div class="ngo_name_valid help-block" style="margin-left:-36px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please Enter valid Ngo Name with valid alphabets Characters</li>
                </ul>
            </div>
            <div class="ngo_name_char_length help-block" style="margin-left:-125px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please Enter valid Ngo Name length</li>
                </ul>
            </div>
            <span class="help-block has-error" data-error="0" id="username-error"></span>
        </div>
        <div class="form-group">
            <label class="control-label" for="name" style="margin: 0px 0px 13px -128px;">Contact Person Mobile Number</label>
            <div class="input-group">
                <div class="input-group-addon"><i class="fa fa-mobile"></i></div>
                <input autocomplete="off" class="form-control" data-content="Please enter a valid 10-digit mobile number without any country code. You will receive an OTP at given mobile number." data-error="Please Enter Valid Mobile Number!" data-placement="top" data-toggle="popover"
                    data-trigger="hover" id="mobile" maxlength="10" pattern="[789][0-9]{9}" placeholder="Enter Mobile Number" required="" type="text" />
                <a href="#" style="position: absolute; margin: 9px 0px 0px 11px;"><span class="glyphicon glyphicon-info-sign" data-original-title="Only Numeric Character Are allowed" data-toggle="tooltip"></span></a>
            </div>
            <div class="help-block with-errors" style="margin-left:-132px;"></div>
            <div class="db_check_mobile help-block" style="margin-left:-125px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Mobile Already exist in Records!</li>
                </ul>
            </div>
            <div class="mobile_empty help-block" style="margin-left:-125px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please enter Mobile Number!</li>
                </ul>
            </div>
            <div class="mobile_valid help-block" style="margin-left:-11px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Enter valid Mobile Number that contains valid 10 Numeric Character without "0" &amp; "91"!</li>
                </ul>
            </div>
            <span class="help-block has-error" data-error="0" id="username-error"></span>
        </div>
        <div class="form-group">
            <label class="control-label" for="name" style="margin: 0px 0px 13px -191px;">Contact Person Email</label>
            <div class="input-group">
                <div class="input-group-addon"><i class="fa fa-at"></i></div>
                <input autocomplete="off" class="form-control" data-content="Please enter a valid email id.You will receive an OTP at given Email id" data-error="Please Enter valid Email!" data-placement="top" data-toggle="popover" data-trigger="hover" id="email" pattern="\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+"
                    placeholder="Enter Email" required="" type="text" />
                <a href="#" style="position: absolute; margin: 9px 0px 0px 11px;"><span class="glyphicon glyphicon-info-sign" data-original-title="Enter Valid Email, Example: username@domain.com" data-toggle="tooltip"></span></a>
            </div>
            <div class="help-block with-errors" style="margin-left:-198px;"></div>
            <div class="db_check_email help-block" style="margin-left:-125px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Email Already exist in Records!</li>
                </ul>
            </div>
            <div class="email_empty help-block" style="margin-left:-125px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please Enter Email!</li>
                </ul>
            </div>
            <div class="email_valid help-block" style="margin-left:-125px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please Enter Valid Email!</li>
                </ul>
            </div>
            <span class="help-block has-error" data-error="0" id="email-error"></span>
        </div>
        <div class="form-group">
            <div id="captchaimagehere11" style="float: left; margin-bottom: 15px;"><img alt=" " src="https://ngodarpan.gov.in/captcha/1681177626.7125.jpg" style="width: 220; height: 40; border: 0;" /></div>
            <div class="col-md-4">
                <a class="refresh11" href="javascript:void(0)" style="margin-right:50px;"><img height="40px" id="ref_symbol" src="https://ngodarpan.gov.in/assets/images/reload.png" width="40px" /></a>
            </div>
        </div>
        <div class="form-group">
            <input autocomplete="off" class="form-control" data-error="Please Enter Valid Security Code!" id="captcha11" maxlength="8" pattern="^[A-z0-9]{1,}$" placeholder="Enter Security Code Display Above" required="" type="text" value="" />
            <div class="help-block with-errors" style="margin-left:-140px;"></div>
            <div class="captcha_error11 help-block" style="margin-left:-2px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please Enter Valid Security Code OR Close Window and Try Again!</li>
                </ul>
            </div>
        </div>
        <div>
            <ul style="font-size:11px; font-weight:600; text-align : left; list-style-type:none ">
                <li>- There are total 3 Steps for Creating an Account at Portal</li>
                <li>- First Step : Input NGO / Entity Name exactly similar as given on PAN Card </li>
                <li>- Email and Mobile number should be working and accessible for OTPs. </li>
                <li> - Step 2: PAN of NGO / Entity need to be given which will be matched with Name of NGO / Entity gien at Step 1 </li>
                <li> - Step 3: Password can only be created when Step 2 is passed successfully </li>
            </ul>
        </div>
        <button class="btn btn-block bt-login has-spinner" data-loading-text="Registering...." id="register_btn" type="submit">Submit</button>
        <div class="clearfix"></div>
        </input>
    </form>
    <!-- Step 2 Registration Form-->
    <form class="shake" data-toggle="validator" id="regForm2" role="form" style="display:none;">
        <input name="csrf_test_name" type="hidden" value="e93979689006f6411e3f92ba7b0b0fe4">
        <input id="hidden_mob_otp" name="hidden_mob_otp" type="hidden" value="" />
        <input id="hidden_email_otp" name="hidden_email_otp" type="hidden" value="" />
        <legend>Step 2 of 3</legend>
        <div class="form-group">
            <label class="control-label" for="name" style="margin: 0px 0px 13px -217px;">Name of NGO/VO</label>
            <div class="input-group">
                <div class="input-group-addon" id="dp1Icon"><i class="fa fa-user"></i></div>
                <span class="input-group-addon blocked hidden" id="dp1Icon_blocked"><i class="fa fa-user"></i></span>
                <input autocomplete="off" class="form-control" id="ngo_name2" type="text" />
            </div>
        </div>
        <div class="form-group">
            <label class="control-label" for="name" style="margin: 0px 0px 13px -128px;">Contact Person Mobile Number</label>
            <div class="input-group">
                <div class="input-group-addon" id="dp2Icon"><i class="fa fa-mobile"></i></div>
                <span class="input-group-addon blocked hidden" id="dp2Icon_blocked"><i class="fa fa-mobile"></i></span>
                <input autocomplete="off" class="form-control" id="mobile2" type="text" value="" />
            </div>
        </div>
        <div class="form-group">
            <label class="control-label" for="name" style="margin: 0px 0px 13px -191px;">Contact Person Email</label>
            <div class="input-group">
                <div class="input-group-addon" id="dp3Icon"><i class="fa fa-at"></i></div>
                <span class="input-group-addon blocked hidden" id="dp3Icon_blocked"><i class="fa fa-at"></i></span>
                <input class="form-control" id="email2" type="email" value="" />
            </div>
        </div>
        <div class="form-group">
            <!-- <span id="dummy_otp_mobile"></span> -->
            <label class="control-label" for="name" style="margin: 0 0 12px -261px;">Mobile OTP</label>
            <!-- <div class="input-group"> -->
            <!-- <div class="input-group-addon"><i class="fa fa-mobile"></i></div> -->
            <input autocomplete="off" class="form-control" data-content="Please enter a valid OTP Recieved on your mobile number given in step 1." data-error="Please Enter Valid Mobile OTP!" data-placement="top" data-toggle="popover" data-trigger="hover" id="mob_otp"
                maxlength="6" name="mobile_otp" onkeyup="clearerror(this.value);" pattern="\d*" placeholder="Enter an Mobile OTP" required="" type="text" />
            <a href="#" style="position: absolute; margin: -28px 0 0 180px;"><span class="glyphicon glyphicon-info-sign" data-original-title="Please Enter OTP you recieved on mobile number you have entered in step 1" data-toggle="tooltip"></span></a>
            <div class="otp_check_mobile help-block" style="margin-left:-11px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please enter a valid OTP Recieved on your mobile number given in step 1!</li>
                </ul>
            </div>
            <div class="otp_enter_mobile help-block" style="margin-left:-11px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please enter a OTP Recieved on your mobile number given in step 1!</li>
                </ul>
            </div>
            <div class="otp_status_mobile help-block" style="margin-left:-11px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please enter a Valid OTP Recieved on your mobile number given in step 1!</li>
                </ul>
            </div>
            <div class="help-block with-errors" style="margin-left:-148px;"></div>
            <font color="red"><span id="signup_otp_error1"></span></font>
            <span class="signup_otp_sent_msg" style="display:none;float:left; height: 25px;color: #337ab7;margin-top:5px;">OTP has been sent to Mobile &amp; Email</span>
            <a class="btn btn-primary btn-xs signup-resend-otp-link" href="javascript:void(0);" style="display:none;float:right; height: 25px;margin-top:5px;margin-bottom:18px;background-color: #337ab7;border-color: #2e6da4;color: #fff;">Resend OTP</a>
            <!-- </div> -->
        </div>
        <div class="form-group">
            <!-- <span id="dummy_otp_email"></span> -->
            <label class="control-label" for="name" id="style_email_otp" style="margin: 17px 0px 13px -269px;">Email OTP</label>
            <!-- <div class="input-group"> -->
            <!-- <div class="input-group-addon"><i class="fa fa-at"></i></div> -->
            <input autocomplete="off" class="form-control" data-content="Please enter a valid OTP Recieved on your Email given in step 1." data-error="Please Enter Valid Email OTP!" data-placement="top" data-toggle="popover" data-trigger="hover" id="email_otp" maxlength="6"
                name="email_otp" onkeyup="clearerror(this.value);" pattern="\d*" placeholder="Enter an Email OTP" required="" type="text" />
            <a href="#" style="position: absolute; margin: -28px 0 0 180px;"><span class="glyphicon glyphicon-info-sign" data-original-title="Please Enter OTP you recieved on email you have entered in step 1" data-toggle="tooltip"></span></a>
            <div class="help-block with-errors" style="margin-left:-148px;"></div>
            <div class="otp_check_email help-block" style="margin-left:-11px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please enter a valid Email OTP Recieved on your Email given in step 1!</li>
                </ul>
            </div>
            <div class="otp_enter_email help-block" style="margin-left:-11px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please enter a Email OTP Recieved on your mobile number given in step 1!</li>
                </ul>
            </div>
            <div class="otp_status_email help-block" style="margin-left:-11px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please enter a Valid Email OTP Recieved on your mobile number given in step 1!</li>
                </ul>
            </div>
            <!-- </div> -->
        </div>
        <div class="form-group">
            <label class="control-label" for="name" style="margin: 0px 0px 13px -171px;">Organisation PAN Name</label>
            <input autocomplete="off" class="form-control" data-error="Please Enter Valid Pan Name!" disabled="disabled" id="ngoo_pan_name" name="ngoo_pan_name" pattern="[a-zA-Z0-9:.)(&amp;\}\+\/\s\,\!\'-_]+" placeholder="Enter NGO Name As Appears On Pan Card" required=""
                type="text" />
            <div class="help-block with-errors"></div>
            <div class="help-block with-errors pan_name_error" style="display:none;color:#a94442;"></div>
        </div>
        <div class="form-group">
            <input data-error="Please check if pan name is different from member name" id="ngo_name_differ" name="ngo_name_differ" type="checkbox" /> Please check if NGO name appears on pan card is different from NGO name you have entered
            <div class="help-block with-errors"></div>
            <div class="help-block with-errors pan_name_differ_error" style="display:none;color:#a94442;"></div>
        </div>
        <div class="form-group">
            <label class="control-label" for="name" style="margin: 0px 0px 13px -160px;">Organisation PAN Number</label>
            <input autocomplete="off" class="form-control" data-content="Please enter a valid Organisation PAN." data-error="Please Enter Valid PAN!" data-placement="top" data-toggle="popover" data-trigger="hover" id="org_pan" maxlength="10" name="org_pan" pattern="[a-zA-Z]{5}\d{4}[A-Za-z]{1}"
                placeholder="Enter an Org Pan Number" required="" type="text" />
            <a href="#" style="position: absolute; margin: -28px 0 0 180px;"><span class="glyphicon glyphicon-info-sign" data-original-title="Help text" data-toggle="tooltip"></span></a>
            <div class="help-block with-errors" style="margin-left:-148px;"></div>
            <div class="org_pan_enter help-block" style="margin-left:-11px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please enter a Org PAN !</li>
                </ul>
            </div>
            <div class="org_pan_valid help-block" style="margin-left:-11px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please enter a valid Org PAN Format!</li>
                </ul>
            </div>
            <div class="org_pan_status help-block" style="margin-left:-11px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Pan Already exist in our Records!</li>
                </ul>
            </div>
            <div class="ngoo_pan_status" style="display:none;color:#fff;background-color: #5bbd72;"></div>
        </div>
        <div class="form-group">
            <label class="control-label" for="org_pan_terms_check"></label>
            <input data-error="You must agree to the terms and conditions" id="org_pan_terms_check" name="org_pan_terms_check" style="margin: 0px 8px 0px -9px;" type="checkbox" />I agree to the <a data-target="#popup5" data-toggle="modal" href="javascript:void(0)">NGO Pan Card terms and conditions</a>
            <div
                class="help-block with-errors"></div>
        <div class="help-block with-errors org_pan_terms_check_error" style="display:none;color:#a94442;"></div>
</div>
<div class="form-group">
    <div id="captchaimagehere1" style="float: left; margin-bottom: 19px;margin-top: 6px;"><img alt=" " src="https://ngodarpan.gov.in/captcha/1681177626.7978.jpg" style="width: 220; height: 40; border: 0;" /></div>
    <div class="col-md-4">
        <a class="refresh1" href="javascript:void(0)" style="margin-right:50px;margin-bottom: 24px;"><img height="40px" id="ref_symbol" src="https://ngodarpan.gov.in/assets/images/reload.png" width="40px" /></a>
    </div>
</div>
<div class="form-group">
    <input autocomplete="off" class="form-control" data-error="Please Enter Valid Security Code!" id="captcha1" maxlength="8" pattern="^[A-z0-9]{1,}$" placeholder="Enter Security Code Display Above" required="" type="text" value="" />
    <div class="help-block with-errors" style="margin-left:-140px;"></div>
    <div class="captcha_error1 help-block" style="margin-left:-3px;display:none;color:#a94442;">
        <ul class="list-unstyled">
            <li>Please Enter Valid Security Code OR Close Window and Try Again!</li>
        </ul>
    </div>
</div>
<input id="signup_otp_id" name="signup_otp_id" type="hidden" value="" />
<input id="signup_otp_type" name="signup_otp_type" type="hidden" value="" />
<button class="btn btn-block bt-login has-spinner" data-loading-text="Registering...." id="register_btn3" type="submit">Create Password</button>
<div class="clearfix"></div>
</input>
</form>
<!-- Step 3 Registration Form-->
<form class="shake" data-toggle="validator" id="passwordForm" role="form" style="display:none;">
    <input name="csrf_test_name" type="hidden" value="e93979689006f6411e3f92ba7b0b0fe4">
    <input id="request_key_p" type="hidden" value="" />
    <legend>Step 3 of 3</legend>
    <div class="form-group">
        <label class="control-label" for="name" style="margin: 0px 0px 13px -205px;">Organisation PAN</label>
        <div class="input-group">
            <input class="form-control" id="pan_ngo" type="text" value="" />
        </div>
    </div>
    <div class="form-group">
        <label class="control-labl" for="pwd" style="margin: 0px 0px 13px -269px;">Password</label>
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-key fa-fw"></i></div>
            <input class="form-control" data-content="Password must contain 6 to 10 characters and it must contain one upper case letter and one number. May contain letters (a-z, A-Z) ,numbers (0-9) and special characters like at (@), dollor ($), percent (%) and ampersnd (&amp;).It is case-sensitive.Spaces are not permitted."
                data-error="Please Enter Valid Password!" data-minlength="6" data-placement="top" data-toggle="popover" data-trigger="hover" id="password1" name="password1" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" placeholder="Enter password" required=""
                type="password" />
        </div>
        <div class="password1_valid help-block" style="margin-left:-11px;display:none;color:#a94442;">
            <ul class="list-unstyled">
                <li>Please enter Password</li>
            </ul>
        </div>
        <div class="password1_format help-block" style="margin-left:-11px;display:none;color:#a94442;">
            <ul class="list-unstyled">
                <li>Password must contain 6 to 10 characters and it must contain one upper case letter and one number. May contain letters (a-z, A-Z) ,numbers (0-9) and special characters like at (@), dollor ($), percent (%) and ampersnd (&amp;).It is case-sensitive.Spaces
                    are not permitted.</li>
            </ul>
        </div>
        <div class="help-block with-errors" style="margin-left:-195px;"></div>
    </div>
    <div class="form-group">
        <label class="control-label" for="confirm_pwd" style="margin: 0px 0px 13px -213px;">Confirm Password</label>
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-key fa-fw"></i></div>
            <input class="form-control" data-content="Repeat Same Password" data-error="Please Enter Confirm Password!" data-match="#password1" data-match-error="Password are not same" data-placement="top" data-toggle="popover" data-trigger="hover" id="password2"
                name="password2" placeholder="Enter Confirm Password" required="" type="password" />
        </div>
        <div class="password2_valid help-block" style="margin-left:-11px;display:none;color:#a94442;">
            <ul class="list-unstyled">
                <li>Please enter Confirm Password</li>
            </ul>
        </div>
        <div class="pwd_not_match help-block" style="margin-left:-11px;display:none;color:#a94442;">
            <ul class="list-unstyled">
                <li>Password &amp; Confirm Password must be same</li>
            </ul>
        </div>
        <div class="help-block with-errors" style="margin-left:-139px;"></div>
    </div>
    <div class="form-group">
        <div id="captchaimagehere2" style="float: left; margin-bottom: 15px;"><img alt=" " src="https://ngodarpan.gov.in/captcha/1681177626.8832.jpg" style="width: 220; height: 40; border: 0;" /></div>
        <div class="col-md-4">
            <a class="refresh2" href="javascript:void(0)" style="margin-right:50px;"><img height="40px" id="ref_symbol" src="https://ngodarpan.gov.in/assets/images/reload.png" width="40px" /></a>
        </div>
    </div>
    <div class="form-group">
        <input autocomplete="off" class="form-control" data-error="Please Enter Valid Security Code!" id="captcha2" maxlength="8" pattern="^[A-z0-9]{1,}$" placeholder="Enter Security Code Display Above" required="" type="text" value="" />
        <div class="help-block with-errors" style="margin-left:-172px;"></div>
        <div class="captcha_error2 help-block" style="margin-left:-52px;display:none;color:#a94442;">
            <ul class="list-unstyled">
                <li>Security code was not match, please try again!</li>
            </ul>
        </div>
    </div>
    <div>
        <ul style="font-size:11px; font-weight:600; text-align : left; list-style-type:none ">
            <li> - Step 2: PAN of NGO / Entity need to be given which will be matched with Name of NGO / Entity gien at Step 1 </li>
            <li> - Step 3: Password can only be created when Step 2 is passed successfully </li>
        </ul>
    </div>
    <input id="ngooo_pan_status" name="ngooo_pan_status" type="hidden" value="">
    <input id="sdfdfdfsdfsdfdsf" name="sdfdfdfsdfsdfdsf" type="hidden" value="">
    <input id="ngooo_pan_datetime" name="ngooo_pan_datetime" type="hidden" value="">
    <input id="ngooo_pan_combined" name="ngooo_pan_combined" type="hidden" value="">
    <button class="btn btn-block bt-login has-spinner" data-loading-text="Registering...." id="register_btn2" type="submit">Submit Registration</button>
    <div class="clearfix"></div>
    </input>
    </input>
    </input>
    </input>
    </input>
</form>
</div>
<!-- Forget password Form-->
<div class="tab-pane text-center" id="forget_password" role="tabpanel">

    <span class="response_error" id="reset_fail" style="display: none;"></span>
    <div class="clearfix"></div>
    <form class="shake" data-toggle="validator" id="forgetForm" role="form">
        <input name="csrf_test_name" type="hidden" value="e93979689006f6411e3f92ba7b0b0fe4">
        <font color="red"><span id="attempt_limit"></span></font>
        <div class="form-group">
            <div class="input-group">
                <div class="input-group-addon"><i class="fa fa-user"></i></div>
                <input autocomplete="off" class="form-control" data-error="Please Enter Email OR Mobile Number!" id="femail" onkeyup="chekmailphon(this.value);" placeholder="Email OR Mobile Number" required="" type="text" />
            </div>
            <div class="help-block with-errors" style="margin-left:-105px;"></div>
            <span class="help-block has-error" data-error="0" id="femail-error"></span>
            <div class="invalid_email_phone help-block" style="margin-left:-52px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Invalid email or phone format!</li>
                </ul>
            </div>
            <div class="account_not_exist help-block" style="margin-left:-52px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Login ID does not exist in our Records!</li>
                </ul>
            </div>
            <div class="invalid_request help-block" style="margin-left:-52px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Login ID does not exist in our Records!</li>
                </ul>
            </div>
        </div>
        <div class="form-group">
            <div id="captchaimagehere12" style="float: left; margin-bottom: 15px;"><img alt=" " src="https://ngodarpan.gov.in/captcha/1681177626.9681.jpg" style="width: 220; height: 40; border: 0;" /></div>
            <div class="col-md-4">
                <a class="refresh12" href="javascript:void(0)" style="margin-right:50px;"><img height="40px" id="ref_symbol" src="https://ngodarpan.gov.in/assets/images/reload.png" width="40px" /></a>
            </div>
        </div>
        <div class="form-group">
            <input autocomplete="off" class="form-control" data-error="Please Enter Valid Security Code!" id="captcha12" maxlength="8" pattern="^[A-z0-9]{1,}$" placeholder="Enter Security Code Display Above" required="" type="text" value="" />
            <div class="help-block with-errors" style="margin-left:-172px;"></div>
            <div class="captcha_error12 help-block" style="margin-left:-52px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please Enter Valid Security Code OR Close Window and Try Again!</li>
                </ul>
            </div>
        </div>
        <button class="btn btn-block bt-login has-spinner" data-loading-text="Please wait...." id="forgetForm_btn" type="submit">Get Password</button>
        <div class="clearfix"></div>
        </input>
    </form>
    <form class="shake" data-toggle="validator" id="forgetForm2old" role="form" style="display:none;">
        <input name="csrf_test_name" type="hidden" value="e93979689006f6411e3f92ba7b0b0fe4">
        <div class="form-group">
            <div class="form-group" id="form_forget_ngo_name">
                <label class="control-label" for="name" style="margin: 0px 0px 13px -258px;">NGO Name</label>
                <input class="form-control" id="old_ngo_name" readonly="" type="text" value="" />
            </div>
            <div class="form-group" id="form_forget_ngo_email">
                <label class="control-label" for="name" style="margin: 0px 0px 13px -205px;">Registered Email</label>
                <input class="form-control" id="old_ngo_email" readonly="" type="text" value="" />
            </div>
            <div class="form-group" id="form_forget_ngo_mobile">
                <label class="control-label" for="name" style="margin: 0px 0px 13px -205px;">Registered Mobile</label>
                <input class="form-control" id="old_ngo_mobile" readonly="" type="text" value="" />
            </div>
            <div class="form-group">
                <!-- <label for="name" style="margin: 0px 0px 13px -172px;" class="control-label">Enter OTP (OTP:<span id="for_otp"></span>)</label> -->
                <label class="control-label" for="name" style="margin: 0px 0px 13px -272px;">Enter OTP</label>
                <input autocomplete="off" class="form-control" data-error="Please Enter OTP!" id="otp" maxlength="6" onkeyup="clearerror(this.value);" pattern="\d{6}" placeholder="Please Enter OTP" required="" type="text" />
                <font color="red"><span id="otp_error"></span></font>
                <span class="otp_sent_msg" style="display:block;float:left; height: 25px;color: #337ab7;margin-top:20px;">OTP has been sent!</span>
                <a class="btn btn-primary btn-xs resend-otp-link" href="javascript:void(0);" style="display:none;float:right; height: 25px;margin-top:13px;margin-bottom:18px;background-color: #337ab7;border-color: #2e6da4;color: #fff;">Resend OTP</a>
            </div>
            <div class="help-block with-errors" style="margin-left:-260px;"></div>
            <div class="invalid_email_phone_otp help-block" style="margin-left:-52px;display:none;color:#a94442;">
                <ul class="list-unstyled">
                    <li>Please enter Valid OTP!</li>
                </ul>
            </div>
            <div class="form-group">
                <label class="control-labl" for="pwd" style="margin:8px 192px 10px -35px;">Enter Password</label>
                <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-key fa-fw"></i></div>
                    <input class="form-control" data-content="Password must contain 6 to 10 characters and it must contain one upper case letter and one number. May contain letters (a-z, A-Z) ,numbers (0-9) and special characters like at (@), dollor ($), percent (%) and ampersnd (&amp;).It is case-sensitive.Spaces are not permitted."
                        data-error="Please Enter Password!" data-minlength="6" data-placement="top" data-toggle="popover" data-trigger="hover" id="otp_password1" name="otp_password1" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" placeholder="Enter password"
                        required="" type="password" />
                </div>
                <div class="password11_valid help-block" style="margin-left:-11px;display:none;color:#a94442;">
                    <ul class="list-unstyled">
                        <li>Please enter Password</li>
                    </ul>
                </div>
                <div class="password11_format help-block" style="margin-left:-11px;display:none;color:#a94442;">
                    <ul class="list-unstyled">
                        <li>Password must contain 6 to 10 characters and it must contain one upper case letter and one number. May contain letters (a-z, A-Z) ,numbers (0-9) and special characters like at (@), dollor ($), percent (%) and ampersnd (&amp;).It
                            is case-sensitive.Spaces are not permitted.</li>
                    </ul>
                </div>
                <div class="help-block with-errors" style="margin-left:-195px;"></div>
            </div>
            <div class="form-group">
                <label class="control-label" for="confirm_pwd" style="margin: 0px 0px 13px -167px;">Enter Confirm Password</label>
                <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-key fa-fw"></i></div>
                    <input class="form-control" data-content="Repeat Same Password" data-error="Please Enter Confirm Password!" data-match="#otp_password1" data-match-error="Password are not same" data-placement="top" data-toggle="popover" data-trigger="hover" id="otp_password2"
                        name="otp_password2" placeholder="Enter Confirm Password" required="" type="password" />
                </div>
                <div class="password22_valid help-block" style="margin-left:-11px;display:none;color:#a94442;">
                    <ul class="list-unstyled">
                        <li>Please enter Confirm Password</li>
                    </ul>
                </div>
                <div class="pwd1_not_match help-block" style="margin-left:-11px;display:none;color:#a94442;">
                    <ul class="list-unstyled">
                        <li>Password &amp; Confirm Password must be same</li>
                    </ul>
                </div>
                <div class="help-block with-errors" style="margin-left:-139px;"></div>
            </div>
        </div>
        <input id="for_otp_id" name="for_otp_id" type="hidden" value="" />
        <input id="for_otp_type" name="for_otp_type" type="hidden" value="F" />
        <input id="for_resend_otp_id" name="for_resend_otp_id" type="hidden" value="" />
        <input id="resend_mobile_otp" name="resend_mobile_otp" type="hidden" value="" />
        <input id="resend_email_otp" name="resend_email_otp" type="hidden" value="" />
        <button class="btn btn-block bt-login has-spinner" data-loading-text="Please wait...." id="forgetForm2old_btn" type="submit">Generate Password</button>
        <div class="clearfix"></div>
        </input>
    </form>
</div>
<!-- Forget password Form-->
<!-- LOGIN OTP FORM-->
<form id="login_otp_form" role="form" style="display:none;">
    <input name="csrf_test_name" type="hidden" value="e93979689006f6411e3f92ba7b0b0fe4">
    <legend>Sign In with OTP</legend>
    <div class="form-group">
        <div class="form-group">
            <label class="control-label" for="name" style="margin: 0px 0px 13px -55px;">Enter your Registered Mobile</label>
            <input autocomplete="off" class="form-control" data-content="Please enter a valid 10-digit mobile number without any country code. You will receive an OTP at given mobile number." data-error="Please Enter Valid Mobile Number!" data-placement="top" data-toggle="popover"
                data-trigger="hover" id="reg_alt_mobile" maxlength="10" pattern="[789][0-9]{9}" placeholder="Enter Registered Mobile" required="" type="text" />
        </div>
        <div class="help-block with-errors" style="margin-left:-195px;"></div>
    </div>
    <div class="invalid_mobile_error alert alert-danger" role="alert" style="display:none;">
        Your Mobile Number is not Valid
    </div>
    <div class="reg_alt_account_not_exist alert alert-danger" role="alert" style="display:none;">
        Your Mobile Number does not Exist in Records
    </div>
    <button class="btn btn-block bt-login has-spinner" data-loading-text="Please wait...." id="login_otp_form_btn" type="submit">Generate OTP</button>
    <div class="clearfix"></div>
    </input>
</form>
<!-- LOGIN OTP FORM-->
<!-- LOGIN OTP FORM Step 2-->
<form data-toggle="validator" id="login_otp_form2" role="form" style="display:none;">
    <input name="csrf_test_name" type="hidden" value="e93979689006f6411e3f92ba7b0b0fe4">
    <legend>Enter OTP Recieved On your Mobile</legend>
    <div class="form-group">
        <div class="form-group">
            <label class="control-label" for="name" style="margin: 0px 0px 13px -55px;">Enter OTP</label>
            <input autocomplete="off" class="form-control" data-content="Please enter a valid OTP Recieved on your mobile number" data-error="Please Enter Mobile OTP!" data-placement="top" data-toggle="popover" data-trigger="hover" id="alt_mob_otp" maxlength="6"
                name="alt_mob_otp" pattern="\d{6}" placeholder="Enter OTP" required="" type="text" />
            <span class="login_otp_sent_msg" style="display:block;float:left; height: 25px;color: #337ab7;margin:20px 0px 20px;">OTP has been sent to Mobile</span>
            <a class="btn btn-primary btn-xs resend-login-otp-link" href="javascript:void(0);" style="display:none;float:right; height: 25px;margin-top:13px;margin-bottom:18px;background-color: #337ab7;border-color: #2e6da4;color: #fff;">Resend OTP</a>
        </div>
        <div class="help-block with-errors" style="margin-left:-195px;"></div>
    </div>
    <div class="otp_not_exist alert alert-danger" role="alert" style="display:none;margin: 45px 0px 14px -5px;">
        Please Enter Valid OTP Sent To Your Mobile
    </div>
    <input id="login_otp_id" name="login_otp_id" type="hidden" value="" />
    <input id="login_otp_type" name="login_otp_id" type="hidden" value="L" />
    <input id="alt_hidden_mobile" name="alt_hidden_mobile" type="hidden" value="" />
    <button class="btn btn-block bt-login has-spinner" data-loading-text="Please wait...." id="login_otp_form2_btn" type="submit">Login</button>
    <div class="clearfix"></div>
    </input>
</form>
<!-- LOGIN OTP FORM-->
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- - Login Model Ends Here -->
<!-- <div id="popup5" class="overlay" style="display:none;">
<div class="popup">
<h2>NGO Pan Card terms and conditions</h2>
<a class="close" href="#">&times;</a>
<div class="content">
<ul>
<li>I have agreed to taken consent for furnishing my NGO Pan number for NGO - PS Portal.</li>
</ul>
</div>
</div>
</div> -->
<div class="modal fade" id="popup5" role="dialog" style="z-index: 1600;">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button aria-hidden="true" class="close" data-dismiss="modal" type="button">Ã—</button>
                <h3>NGO Pan Card terms and conditions</h3>
            </div>
            <div class="modal-body">
                I have agreed to taken consent for furnishing my NGO Pan number for NGO - PS Portal.
            </div>
        </div>
    </div>
</div>
<link href="https://ngodarpan.gov.in/assets/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://ngodarpan.gov.in/assets/css/select2.min.css" rel="stylesheet" />
<style type="text/css">
    #s2id_sector_search>.select2-choice {
        background-color: blue;
    }
    
    .panel-success>.panel-heading {
        background-color: #0e5ba8;
        border-color: #d6e9c6;
        color: #fff;
    }
    
    .thead {
        background: #395870 none repeat scroll 0 0;
        color: #fff;
    }
    
    .table-striped>tbody>tr:nth-child(2n+1) {
        background-color: #f0f0f2;
    }
    
    .panel-info>.panel-heading {
        background-color: #0e5ba8;
        border-color: #bce8f1;
        color: #fff;
    }
    
    .capitalize {
        background-color: #f4f4f4;
        border: 1px solid #ddd;
        border-radius: 3px;
        color: #666;
        font-size: 12px;
        margin: 0 0 24px 13px;
        padding: 5px 23px;
        position: relative;
        text-align: center;
    }
    
    ul.list-group:after {
        clear: both;
        display: block;
        content: "";
    }
    
    .list-group-item {
        float: left;
    }
    
    table.w3-table-all {
        margin: 20px 0;
    }
    
    .w3-table-all {
        border: 1px solid #ccc;
    }
    
    .w3-table,
    .w3-table-all {
        border-collapse: collapse;
        border-spacing: 0;
        width: 100%;
        display: table;
    }
    
    .w3-table-all tr:nth-child(2n+1) {
        background-color: #fff;
    }
    
    .w3-bordered tr,
    .w3-table-all tr {
        border-bottom: 1px solid #ddd;
    }
    
    .w3-table-all tr:nth-child(2n) {
        background-color: #f1f1f1;
    }
    /*td:first-child {
    padding-left: 16px;
}*/
    
    .w3-table td,
    .w3-table th,
    .w3-table-all td,
    .w3-table-all th {
        padding: 8px 8px;
        display: table-cell;
        text-align: left;
        vertical-align: top;
    }
    
    .h3style {
        color: #fff;
        font-weight: bold;
        font-family: 'Playfair Display', serif;
        background-color: #4D84D6;
        width: 74%;
        padding: 10px;
        font-size: 16px;
    }
    
    @media screen {
        #printSection {
            display: none;
        }
    }
    
    @media print {
        body * {
            visibility: hidden;
        }
        #printSection,
        #printSection * {
            visibility: visible;
        }
        #printSection {
            position: absolute;
            left: 0;
            top: 0;
        }
    }
</style>
<script type="text/javascript">
    function printElement() {
        var elem = document.getElementById("printThis");
        var domClone = elem.cloneNode(true);

        var $printSection = document.getElementById("printSection");

        if (!$printSection) {
            var $printSection = document.createElement("div");
            $printSection.id = "printSection";
            document.body.appendChild($printSection);
        }

        $printSection.innerHTML = "";
        $printSection.appendChild(domClone);
        window.print();
    }
</script>
<script type="text/javascript">
    google.charts.load('current', {
        'packages': ['corechart']
    });
    google.charts.setOnLoadCallback(drawChart);
    google.charts.setOnLoadCallback(drawChartStatewise);
    // google.charts.setOnLoadCallback(drawChartSectorwise);
    function drawChart() {

        var data = google.visualization.arrayToDataTable([
            ['NGO TYPE', 'NGO COUNT'],
            ['Private Sector Companies (Sec 8/25)', 8974],
            ['Registered Societies (Non-Government)', 87700],
            ['Trust (Non-Government)', 63112],
            ['Other Registered Entities (Non-Government)', 2674],
            ['Academic Institutions (Private)', 1813],
            ['Academic Institutions (Govt)', 102],
        ]);

        var options = {
            title: 'NGO TYPE SUMMARY',
            chartArea: {
                width: 800,
                height: 500
            }
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
    }

    function drawChartStatewise() {
        var data = google.visualization.arrayToDataTable([
            ['NGO STATE', 'NGO COUNT'],
            ['ANDAMAN &amp; NICOBAR ISLANDS', 178],
            ['ANDHRA PRADESH', 5941],
            ['ARUNACHAL PRADESH', 545],
            ['ASSAM', 2672],
            ['BIHAR', 5765],
            ['CHANDIGARH', 245],
            ['CHHATTISGARH', 2150],
            ['DADRA & NAGAR HAVELI', 34],
            ['DAMAN & DIU', 20],
            ['DELHI', 12686],
            ['GOA', 307],
            ['GUJARAT', 7689],
            ['HARYANA', 3945],
            ['HIMACHAL PRADESH', 952],
            ['JAMMU &amp; KASHMIR', 1957],
            ['JHARKHAND', 3041],
            ['KARNATAKA', 9428],
            ['KERALA', 4548],
            ['LADAKH', 183],
            ['LAKSHADWEEP', 7],
            ['MADHYA PRADESH', 7511],
            ['MAHARASHTRA', 22853],
            ['MANIPUR', 2723],
            ['MEGHALAYA', 338],
            ['MIZORAM', 289],
            ['NAGALAND', 491],
            ['ORISSA', 4701],
            ['PUDUCHERRY', 345],
            ['PUNJAB', 2135],
            ['RAJASTHAN', 6245],
            ['SIKKIM', 149],
            ['TAMIL NADU', 11309],
            ['TELANGANA', 3934],
            ['TRIPURA', 546],
            ['UTTAR PRADESH', 23947],
            ['UTTARAKHAND', 2398],
            ['WEST BENGAL', 12203],
        ]);

        // var options = {
        // title: 'NGO STATEWISE SUMMARY',
        // chartArea: {
        //           width: 800,
        //           height: 500
        //       }
        // };


        var options = {
            legend: {
                position: 'right',
                alignment: 'center'
            },
            chartArea: {
                width: 800,
                height: 500,
                left: 10,
                top: 10,
                width: '200%',
                height: '100%'
            }
            // tooltip: {
            //     trigger:'none'
            // }
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_statewise'));

        chart.draw(data, options);
    }

    // function drawChartSectorwise() {
    //      var data = google.visualization.arrayToDataTable([
    //      ['NGO SECTOR', 'NGO COUNT'],
    //              //      ]);

    //      var options = {
    //      title: 'NGO SECTORWISE SUMMARY',
    //      chartArea: {
    //            width: 800,
    //            height: 500
    //        }
    //      };

    //      var chart = new google.visualization.PieChart(document.getElementById('piechart_sectorwise'));

    //      chart.draw(data, options);
    // }
</script>
<div class="container">
    <div class="margin-top-5"></div>
    <div class="pull-right">
        <a class="visible-xs visible-sm pull-left btn btn-sm btn-default btn-gradient" href="javascript:ShowHide('left_panel')" id="show_search">Search for a NGO</a>
        <div class="clear margin-top-10"></div>
        <div class="container">
            <div class="cat-collapse text-left collapse" style="height: 0px;">
                <div class="container">
                    <hr class="clear" />
                    <ul class="list-group">
                        <div class="col-md-3" style="margin-bottom:5px;">
                            <li class="list-group-item">
                                <!-- <a href="javascript:void(0)" onclick="show_ngo_list_by_state('')" >(0)</a> -->
                            </li>
                        </div>
                    </ul>
                    <div class="clear"></div>
                    <div class="clear"></div>
                    <hr/>
                </div>
            </div>
        </div>
        <!-- <div class="clear margin-top-10"></div><button id="browse_location" class="pull-right btn-gradient collapsed  btn btn-sm btn-primary" type="button" data-toggle="collapse" data-target=".cat-collapse" style="margin-bottom: 10px;margin-right: 15px;margin-top: 10px;">
                Browse the NGO by Location 
                </button> -->
    </div>
    <div class="clear"></div>
    <br/>
    <div class="text-left col-md-5 no-left-padding" id="left_panel">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h3 class="panel-title">Search for a NGO</h3>
            </div>
            <div class="panel-body">
                <form id="search-form" method="post">
                    <input name="csrf_test_name" type="hidden" value="e93979689006f6411e3f92ba7b0b0fe4">
                    <input name="mod" type="hidden" value="search" />
                    <input name="search_type" type="hidden" value="search_form" />
                    <input name="lang" type="hidden" value="en" />
                    <div class="search_error" style="display:none;margin-left:15px;color: #fff;background: #dc005a none repeat scroll 0 0;">
                        <ul class="list-unstyled">
                            <li>Please Choose any element to search NGO'S!</li>
                        </ul>
                    </div>
                    <div id="search_form_container">
                        <div class="form-group">
                            <label class="control-label col-md-2" for="state_search_search">
<small>State</small>
</label>
                            <div class="control-field no-right-padding col-md-10">
                                <!-- <select name="state_search_search" id="state_search_search" class="form-control input-sm" onchange="get_district(this.value)" multiple> -->
                                <select class="form-control input-sm" id="state_search_search" name="state_search_search" onchange="get_district(this.value)">
<option value="">Select</option>
<option value="35">ANDAMAN &amp; NICOBAR ISLANDS</option>
<option value="28">ANDHRA PRADESH</option>
<option value="12">ARUNACHAL PRADESH</option>
<option value="18">ASSAM</option>
<option value="10">BIHAR</option>
<option value="4">CHANDIGARH</option>
<option value="22">CHHATTISGARH</option>
<option value="26">DADRA &amp; NAGAR HAVELI</option>
<option value="25">DAMAN &amp; DIU</option>
<option value="7">DELHI</option>
<option value="30">GOA</option>
<option value="24">GUJARAT</option>
<option value="6">HARYANA</option>
<option value="2">HIMACHAL PRADESH</option>
<option value="1">JAMMU &amp; KASHMIR</option>
<option value="20">JHARKHAND</option>
<option value="29">KARNATAKA</option>
<option value="32">KERALA</option>
<option value="37">LADAKH</option>
<option value="31">LAKSHADWEEP</option>
<option value="23">MADHYA PRADESH</option>
<option value="27">MAHARASHTRA</option>
<option value="14">MANIPUR</option>
<option value="17">MEGHALAYA</option>
<option value="15">MIZORAM</option>
<option value="13">NAGALAND</option>
<option value="21">ORISSA</option>
<option value="34">PUDUCHERRY</option>
<option value="3">PUNJAB</option>
<option value="8">RAJASTHAN</option>
<option value="11">SIKKIM</option>
<option value="33">TAMIL NADU</option>
<option value="36">TELANGANA</option>
<option value="16">TRIPURA</option>
<option value="9">UTTAR PRADESH</option>
<option value="5">UTTARAKHAND</option>
<option value="19">WEST BENGAL</option>
</select>
                            </div>
                        </div>
                        <br/><br/><br/>
                        <div class="form-group">
                            <label class="control-label col-md-2" for="district_search">
<small>District</small>
</label>
                            <div class="control-field no-right-padding col-md-10">
                                <select class="form-control input-sm" id="district_search" name="district_search">
<option value="">Select</option>
<option value="532">
                                                                Adilabad                                                                </option>
<option value="666">
                                                                Agar-Malwa                                                              </option>
<option value="146">
                                                                Agra                                                            </option>
<option value="474">
                                                                Ahmadabad                                                               </option>
<option value="522">
                                                                Ahmadnagar                                                              </option>
<option value="283">
                                                                Aizawl                                                          </option>
<option value="119">
                                                                Ajmer                                                           </option>
<option value="501">
                                                                Akola                                                           </option>
<option value="598">
                                                                Alappuzha                                                               </option>
<option value="143">
                                                                Aligarh                                                         </option>
<option value="664">
                                                                Alipurduar                                                              </option>
<option value="465">
                                                                Alirajpur                                                               </option>
<option value="64">
                                                                Almora
                                                                </option>
<option value="104">
                                                                Alwar                                                           </option>
<option value="70">
                                                                Ambala                                                          </option>
<option value="178">
                                                                Ambedkar Nagar                                                          </option>
<option value="665">
                                                                Amethi                                                          </option>
<option value="503">
                                                                Amravati                                                                </option>
<option value="480">
                                                                Amreli                                                          </option>
<option value="49">
                                                                Amritsar                                                                </option>
<option value="482">
                                                                Anand                                                           </option>
<option value="553">
                                                                Anantapur                                                               </option>
<option value="14">
                                                                Anantnag                                                                </option>
<option value="258">
                                                                Anjaw                                                           </option>
<option value="384">
                                                                Anugul                                                                  </option>
<option value="461">
                                                                Anuppur                                                         </option>
<option value="209">
                                                                Araria                                                          </option>
<option value="620">
                                                                Ariyalur                                                                </option>
<option value="667">
                                                                Arvalli                                                         </option>
<option value="236">
                                                                Arwal                                                           </option>
<option value="459">
                                                                Ashoknagar                                                              </option>
<option value="162">
                                                                Auraiya                                                         </option>
<option value="515">
                                                                Aurangabad                                                              </option>
<option value="237">
                                                                Aurangabad                                                              </option>
<option value="191">
                                                                Azamgarh                                                                </option>
<option value="2">
                                                                Badgam                                                          </option>
<option value="556">
                                                                Bagalkot                                                                </option>
<option value="63">
                                                                Bageshwar                                                               </option>
<option value="139">
                                                                Baghpat                                                         </option>
<option value="180">
                                                                Bahraich                                                                </option>
<option value="324">
                                                                Baksa                                                           </option>
<option value="457">
                                                                Balaghat                                                                </option>
<option value="393">
                                                                Balangir                                                                </option>
<option value="377">
                                                                Baleshwar                                                               </option>
<option value="193">
                                                                Ballia                                                          </option>
<option value="646">
                                                                Balod                                                           </option>
<option value="644">
                                                                Baloda Bazar                                                            </option>
<option value="182">
                                                                Balrampur                                                               </option>
<option value="649">
                                                                Balrampur                                                               </option>
<option value="469">
                                                                Banas Kantha                                                            </option>
<option value="170">
                                                                Banda                                                           </option>
<option value="9">
                                                                Bandipore                                                               </option>
<option value="572">
                                                                Bangalore                                                               </option>
<option value="583">
                                                                Bangalore Rural                                                         </option>
<option value="225">
                                                                Banka                                                           </option>
<option value="339">
                                                                Bankura                                                                 </option>
<option value="125">
                                                                Banswara                                                                </option>
<option value="176">
                                                                Bara Banki                                                              </option>
<option value="8">
                                                                Baramula                                                                </option>
<option value="128">
                                                                Baran                                                           </option>
<option value="335">
                                                                Barddhaman                                                              </option>
<option value="150">
                                                                Bareilly                                                                </option>
<option value="370">
                                                                Bargarh                                                         </option>
<option value="115">
                                                                Barmer                                                          </option>
<option value="54">
                                                                Barnala                                                         </option>
<option value="303">
                                                                Barpeta                                                         </option>
<option value="441">
                                                                Barwani                                                                 </option>
<option value="414">
                                                                Bastar                                                          </option>
<option value="185">
                                                                Basti                                                           </option>
<option value="46">
                                                                Bathinda                                                                </option>
<option value="391">
                                                                Baudh                                                           </option>
<option value="222">
                                                                Begusarai                                                               </option>
<option value="555">
                                                                Belgaum                                                         </option>
<option value="565">
                                                                Bellary                                                         </option>
<option value="650">
                                                                Bemetara                                                                </option>
<option value="447">
                                                                Betul                                                           </option>
<option value="695">
                                                                Bhadradri Kothagudem                                                            </option>
<option value="378">
                                                                Bhadrak                                                         </option>
<option value="224">
                                                                Bhagalpur                                                               </option>
<option value="506">
                                                                Bhandara                                                                </option>
<option value="105">
                                                                Bharatpur                                                               </option>
<option value="488">
                                                                Bharuch                                                         </option>
<option value="481">
                                                                Bhavnagar                                                               </option>
<option value="122">
                                                                Bhilwara                                                                </option>
<option value="420">
                                                                Bhind                                                           </option>
<option value="81">
                                                                Bhiwani                                                         </option>
<option value="231">
                                                                Bhojpur                                                         </option>
<option value="444">
                                                                Bhopal                                                          </option>
<option value="523">
                                                                Bid                                                             </option>
<option value="558">
                                                                Bidar                                                           </option>
<option value="557">
                                                                Bijapur                                                         </option>
<option value="417">
                                                                Bijapur                                                         </option>
<option value="134">
                                                                Bijnor                                                          </option>
<option value="101">
                                                                Bikaner                                                         </option>
<option value="30">
                                                                Bilaspur                                                                </option>
<option value="406">
                                                                Bilaspur                                                                </option>
<option value="334">
                                                                Birbhum                                                         </option>
<option value="275">
                                                                Bishnupur                                                               </option>
<option value="669">
                                                                Boatad                                                          </option>
<option value="355">
                                                                Bokaro                                                          </option>
<option value="319">
                                                                Bongaigaon                                                              </option>
<option value="149">
                                                                Budaun                                                          </option>
<option value="142">
                                                                Bulandshahr                                                             </option>
<option value="500">
                                                                Buldana                                                         </option>
<option value="121">
                                                                Bundi                                                           </option>
<option value="467">
                                                                Burhanpur                                                               </option>
<option value="232">
                                                                Buxar                                                           </option>
<option value="316">
                                                                Cachar                                                          </option>
<option value="95">
                                                                Central                                                         </option>
<option value="578">
                                                                Chamarajanagar                                                          </option>
<option value="23">
                                                                Chamba                                                          </option>
<option value="57">
                                                                Chamoli                                                         </option>
<option value="65">
                                                                Champawat                                                               </option>
<option value="284">
                                                                Champhai                                                                </option>
<option value="196">
                                                                Chandauli                                                               </option>
<option value="280">
                                                                Chandel                                                         </option>
<option value="55">
                                                                Chandigarh                                                              </option>
<option value="509">
                                                                Chandrapur                                                              </option>
<option value="259">
                                                                Changlang                                                               </option>
<option value="1001">
                                                                CHARAIDEO                                                               </option>
<option value="347">
                                                                Chatra                                                          </option>
<option value="603">
                                                                Chennai                                                         </option>
<option value="425">
                                                                Chhatarpur                                                              </option>
<option value="455">
                                                                Chhindwara                                                              </option>
<option value="670">
                                                                Chhotaudepur                                                            </option>
<option value="582">
                                                                Chikkaballapura                                                         </option>
<option value="570">
                                                                Chikmagalur                                                             </option>
<option value="320">
                                                                Chirang                                                         </option>
<option value="566">
                                                                Chitradurga                                                             </option>
<option value="171">
                                                                Chitrakoot                                                              </option>
<option value="126">
                                                                Chittaurgarh                                                            </option>
<option value="554">
                                                                Chittoor                                                                </option>
<option value="274">
                                                                Churachandpur                                                           </option>
<option value="102">
                                                                Churu                                                           </option>
<option value="614">
                                                                Coimbatore                                                              </option>
<option value="621">
                                                                Cuddalore                                                               </option>
<option value="381">
                                                                Cuttack                                                         </option>
<option value="496">
                                                                Dadra &amp; Nagar Haveli                                                                </option>
<option value="416">
                                                                Dakshin Bastar Dantewada                                                                </option>
<option value="331">
                                                                Dakshin Dinajpur                                                                </option>
<option value="575">
                                                                Dakshina Kannada                                                                </option>
<option value="495">
                                                                Daman                                                           </option>
<option value="428">
                                                                Damoh                                                           </option>
<option value="215">
                                                                Darbhanga                                                               </option>
<option value="327">
                                                                Darjiling                                                               </option>
<option value="325">
                                                                Darrang                                                         </option>
<option value="422">
                                                                Datia                                                           </option>
<option value="109">
                                                                Dausa                                                           </option>
<option value="567">
                                                                Davanagere                                                              </option>
<option value="373">
                                                                Debagarh                                                                </option>
<option value="60">
                                                                Dehradun                                                                </option>
<option value="350">
                                                                Deoghar                                                         </option>
<option value="190">
                                                                Deoria                                                          </option>
<option value="673">
                                                                Devbhoomi Dwarka                                                                </option>
<option value="437">
                                                                Dewas                                                           </option>
<option value="291">
                                                                Dhalai                                                          </option>
<option value="412">
                                                                Dhamtari                                                                </option>
<option value="354">
                                                                Dhanbad                                                         </option>
<option value="438">
                                                                Dhar                                                            </option>
<option value="606">
                                                                Dharmapuri                                                              </option>
<option value="562">
                                                                Dharwad                                                         </option>
<option value="106">
                                                                Dhaulpur                                                                </option>
<option value="308">
                                                                Dhemaji                                                         </option>
<option value="383">
                                                                Dhenkanal                                                               </option>
<option value="301">
                                                                Dhubri                                                          </option>
<option value="498">
                                                                Dhule                                                           </option>
<option value="255">
                                                                Dibang Valley                                                           </option>
<option value="310">
                                                                Dibrugarh                                                               </option>
<option value="315">
                                                                Dima Hasao                                                              </option>
<option value="268">
                                                                Dimapur                                                                 </option>
<option value="616">
                                                                Dindigul                                                                </option>
<option value="453">
                                                                Dindori                                                                 </option>
<option value="494">
                                                                Diu                                                             </option>
<option value="16">
                                                                Doda                                                            </option>
<option value="485">
                                                                Dohad                                                           </option>
<option value="362">
                                                                Dumka                                                           </option>
<option value="124">
                                                                Dungarpur                                                               </option>
<option value="409">
                                                                Durg                                                            </option>
<option value="93">
                                                                East                                                            </option>
<option value="244">
                                                                East District                                                           </option>
<option value="294">
                                                                East Garo Hills                                                         </option>
<option value="545">
                                                                East Godavari                                                           </option>
<option value="657">
                                                                East Jaintia Hills                                                              </option>
<option value="247">
                                                                East Kameng                                                             </option>
<option value="298">
                                                                East Khasi Hills                                                                </option>
<option value="466">
                                                                East Nimar                                                              </option>
<option value="253">
                                                                East Siang                                                              </option>
<option value="595">
                                                                Ernakulam                                                               </option>
<option value="612">
                                                                Erode                                                           </option>
<option value="201">
                                                                Etah                                                            </option>
<option value="161">
                                                                Etawah                                                          </option>
<option value="177">
                                                                Faizabad                                                                </option>
<option value="88">
                                                                Faridabad                                                               </option>
<option value="45">
                                                                Faridkot                                                                </option>
<option value="159">
                                                                Farrukhabad                                                             </option>
<option value="78">
                                                                Fatehabad                                                               </option>
<option value="40">
                                                                Fatehgarh Sahib                                                         </option>
<option value="172">
                                                                Fatehpur                                                                </option>
<option value="651">
                                                                Fazilka                                                         </option>
<option value="147">
                                                                Firozabad                                                               </option>
<option value="43">
                                                                Firozpur                                                                </option>
<option value="561">
                                                                Gadag                                                           </option>
<option value="508">
                                                                Gadchiroli                                                              </option>
<option value="389">
                                                                Gajapati                                                                </option>
<option value="11">
                                                                Ganderbal                                                               </option>
<option value="473">
                                                                Gandhinagar                                                             </option>
<option value="99">
                                                                Ganganagar                                                              </option>
<option value="388">
                                                                Ganjam                                                          </option>
<option value="346">
                                                                Garhwa                                                          </option>
<option value="61">
                                                                Garhwal                                                         </option>
<option value="645">
                                                                Gariyaband                                                              </option>
<option value="141">
                                                                Gautam Buddha Nagar                                                             </option>
<option value="238">
                                                                Gaya                                                            </option>
<option value="140">
                                                                Ghaziabad                                                               </option>
<option value="195">
                                                                Ghazipur                                                                </option>
<option value="668">
                                                                Gir Somnath                                                             </option>
<option value="349">
                                                                Giridih                                                         </option>
<option value="302">
                                                                Goalpara                                                                </option>
<option value="351">
                                                                Godda                                                           </option>
<option value="313">
                                                                Golaghat                                                                </option>
<option value="654">
                                                                Gomati                                                          </option>
<option value="183">
                                                                Gonda                                                           </option>
<option value="507">
                                                                Gondiya                                                         </option>
<option value="217">
                                                                Gopalganj                                                               </option>
<option value="188">
                                                                Gorakhpur                                                               </option>
<option value="579">
                                                                Gulbarga                                                                </option>
<option value="366">
                                                                Gumla                                                           </option>
<option value="458">
                                                                Guna                                                            </option>
<option value="548">
                                                                Guntur                                                          </option>
<option value="35">
                                                                Gurdaspur                                                               </option>
<option value="86">
                                                                Gurgaon                                                         </option>
<option value="421">
                                                                Gwalior                                                         </option>
<option value="318">
                                                                Hailakandi                                                              </option>
<option value="168">
                                                                Hamirpur                                                                </option>
<option value="28">
                                                                Hamirpur                                                                </option>
<option value="100">
                                                                Hanumangarh                                                             </option>
<option value="341">
                                                                Haora                                                           </option>
<option value="661">
                                                                Hapur                                                           </option>
<option value="448">
                                                                Harda                                                           </option>
<option value="155">
                                                                Hardoi                                                          </option>
<option value="68">
                                                                Hardwar                                                         </option>
<option value="574">
                                                                Hassan                                                          </option>
<option value="144">
                                                                Hathras                                                         </option>
<option value="564">
                                                                Haveri                                                          </option>
<option value="360">
                                                                Hazaribagh                                                              </option>
<option value="512">
                                                                Hingoli                                                         </option>
<option value="80">
                                                                Hisar                                                           </option>
<option value="449">
                                                                Hoshangabad                                                             </option>
<option value="38">
                                                                Hoshiarpur                                                              </option>
<option value="338">
                                                                Hugli                                                           </option>
<option value="536">
                                                                Hyderabad                                                               </option>
<option value="596">
                                                                Idukki                                                          </option>
<option value="278">
                                                                Imphal East                                                             </option>
<option value="277">
                                                                Imphal West                                                             </option>
<option value="439">
                                                                Indore                                                          </option>
<option value="451">
                                                                Jabalpur                                                                </option>
<option value="380">
                                                                Jagatsinghapur                                                          </option>
<option value="696">
                                                                Jagityal                                                                </option>
<option value="299">
                                                                Jaintia Hills                                                           </option>
<option value="110">
                                                                Jaipur                                                          </option>
<option value="114">
                                                                Jaisalmer                                                               </option>
<option value="382">
                                                                Jajapur                                                                 </option>
<option value="37">
                                                                Jalandhar                                                               </option>
<option value="165">
                                                                Jalaun                                                          </option>
<option value="499">
                                                                Jalgaon                                                         </option>
<option value="514">
                                                                Jalna                                                           </option>
<option value="116">
                                                                Jalor                                                           </option>
<option value="328">
                                                                Jalpaiguri                                                              </option>
<option value="21">
                                                                Jammu                                                           </option>
<option value="477">
                                                                Jamnagar                                                                </option>
<option value="363">
                                                                Jamtara                                                         </option>
<option value="240">
                                                                Jamui                                                           </option>
<option value="697">
                                                                Jangoan                                                         </option>
<option value="405">
                                                                Janjgir - Champa                                                                </option>
<option value="402">
                                                                Jashpur                                                                 </option>
<option value="194">
                                                                Jaunpur                                                         </option>
<option value="698">
                                                                Jayashankar Bhupalpally                                                         </option>
<option value="235">
                                                                Jehanabad                                                               </option>
<option value="464">
                                                                Jhabua                                                          </option>
<option value="83">
                                                                Jhajjar                                                         </option>
<option value="129">
                                                                Jhalawar                                                                </option>
<option value="166">
                                                                Jhansi                                                          </option>
<option value="371">
                                                                Jharsuguda                                                              </option>
<option value="103">
                                                                Jhunjhunun                                                              </option>
<option value="77">
                                                                Jind                                                            </option>
<option value="113">
                                                                Jodhpur                                                         </option>
<option value="699">
                                                                Jogulambha Gadwal                                                               </option>
<option value="312">
                                                                Jorhat                                                          </option>
<option value="479">
                                                                Junagadh                                                                </option>
<option value="137">
                                                                Jyotiba Phule Nagar                                                             </option>
<option value="407">
                                                                Kabeerdham                                                              </option>
<option value="468">
                                                                Kachchh                                                         </option>
<option value="233">
                                                                Kaimur (Bhabua)                                                         </option>
<option value="73">
                                                                Kaithal                                                         </option>
<option value="395">
                                                                Kalahandi                                                               </option>
<option value="700">
                                                                Kamareddy                                                               </option>
<option value="321">
                                                                Kamrup                                                          </option>
<option value="322">
                                                                Kamrup Metropolitan                                                             </option>
<option value="604">
                                                                Kancheepuram                                                            </option>
<option value="390">
                                                                Kandhamal                                                               </option>
<option value="1000">
                                                                KANGPOKPI                                                               </option>
<option value="24">
                                                                Kangra                                                          </option>
<option value="160">
                                                                Kannauj                                                         </option>
<option value="633">
                                                                Kanniyakumari                                                           </option>
<option value="589">
                                                                Kannur                                                          </option>
<option value="163">
                                                                Kanpur Dehat                                                            </option>
<option value="164">
                                                                Kanpur Nagar                                                            </option>
<option value="202">
                                                                Kanshiram Nagar                                                         </option>
<option value="36">
                                                                Kapurthala                                                              </option>
<option value="637">
                                                                Karaikal                                                                </option>
<option value="107">
                                                                Karauli                                                                 </option>
<option value="314">
                                                                Karbi Anglong                                                           </option>
<option value="4">
                                                                Kargil                                                          </option>
<option value="317">
                                                                Karimganj                                                               </option>
<option value="534">
                                                                Karimnagar                                                              </option>
<option value="74">
                                                                Karnal                                                          </option>
<option value="617">
                                                                Karur                                                           </option>
<option value="588">
                                                                Kasaragod                                                               </option>
<option value="7">
                                                                Kathua                                                          </option>
<option value="212">
                                                                Katihar                                                         </option>
<option value="450">
                                                                Katni                                                           </option>
<option value="174">
                                                                Kaushambi                                                               </option>
<option value="379">
                                                                Kendrapara                                                              </option>
<option value="375">
                                                                Kendujhar                                                               </option>
<option value="223">
                                                                Khagaria                                                                </option>
<option value="541">
                                                                Khammam                                                         </option>
<option value="1005">
                                                                Khandwa                                                         </option>
<option value="1004">
                                                                Khargone                                                                </option>
<option value="483">
                                                                Kheda                                                           </option>
<option value="153">
                                                                Kheri                                                           </option>
<option value="386">
                                                                Khordha                                                                 </option>
<option value="652">
                                                                Khowai                                                          </option>
<option value="365">
                                                                Khunti                                                          </option>
<option value="34">
                                                                Kinnaur                                                         </option>
<option value="264">
                                                                Kiphire                                                         </option>
<option value="210">
                                                                Kishanganj                                                              </option>
<option value="18">
                                                                Kishtwar                                                                </option>
<option value="329">
                                                                Koch Bihar                                                              </option>
<option value="576">
                                                                Kodagu                                                          </option>
<option value="348">
                                                                Kodarma                                                         </option>
<option value="269">
                                                                Kohima                                                          </option>
<option value="300">
                                                                Kokrajhar                                                               </option>
<option value="581">
                                                                Kolar                                                           </option>
<option value="282">
                                                                Kolasib                                                         </option>
<option value="530">
                                                                Kolhapur                                                                </option>
<option value="342">
                                                                Kolkata                                                         </option>
<option value="600">
                                                                Kollam                                                          </option>
<option value="701">
                                                                Komaram Bheem (Asfiabad)                                                                </option>
<option value="643">
                                                                Kondagaon                                                               </option>
<option value="560">
                                                                Koppal                                                          </option>
<option value="398">
                                                                Koraput                                                         </option>
<option value="404">
                                                                Korba                                                           </option>
<option value="400">
                                                                Koriya                                                          </option>
<option value="127">
                                                                Kota                                                            </option>
<option value="597">
                                                                Kottayam                                                                </option>
<option value="591">
                                                                Kozhikode                                                               </option>
<option value="547">
                                                                Krishna                                                         </option>
<option value="607">
                                                                Krishnagiri                                                             </option>
<option value="15">
                                                                Kulgam                                                          </option>
<option value="26">
                                                                Kullu                                                           </option>
<option value="1">
                                                                Kupwara                                                         </option>
<option value="552">
                                                                Kurnool                                                         </option>
<option value="72">
                                                                Kurukshetra                                                             </option>
<option value="250">
                                                                Kurung Kumey                                                            </option>
<option value="189">
                                                                Kushinagar                                                              </option>
<option value="25">
                                                                Lahul &amp; Spiti                                                               </option>
<option value="307">
                                                                Lakhimpur                                                               </option>
<option value="227">
                                                                Lakhisarai                                                              </option>
<option value="587">
                                                                Lakshadweep                                                             </option>
<option value="167">
                                                                Lalitpur                                                                </option>
<option value="359">
                                                                Latehar                                                         </option>
<option value="524">
                                                                Latur                                                           </option>
<option value="287">
                                                                Lawngtlai                                                               </option>
<option value="3">
                                                                Leh(Ladakh)                                                             </option>
<option value="356">
                                                                Lohardaga                                                               </option>
<option value="257">
                                                                Lohit                                                           </option>
<option value="677">
                                                                Longding                                                                </option>
<option value="263">
                                                                Longleng                                                                </option>
<option value="256">
                                                                Lower Dibang Valley                                                             </option>
<option value="249">
                                                                Lower Subansiri                                                         </option>
<option value="157">
                                                                Lucknow                                                         </option>
<option value="41">
                                                                Ludhiana                                                                </option>
<option value="286">
                                                                Lunglei                                                         </option>
<option value="213">
                                                                Madhepura                                                               </option>
<option value="207">
                                                                Madhubani                                                               </option>
<option value="627">
                                                                Madurai                                                         </option>
<option value="702">
                                                                Mahabubabad                                                             </option>
<option value="411">
                                                                Mahasamund                                                              </option>
<option value="538">
                                                                Mahbubnagar                                                             </option>
<option value="636">
                                                                Mahe                                                            </option>
<option value="84">
                                                                Mahendragarh                                                            </option>
<option value="471">
                                                                Mahesana                                                                </option>
<option value="671">
                                                                Mahisagar                                                               </option>
<option value="169">
                                                                Mahoba                                                          </option>
<option value="187">
                                                                Mahrajganj                                                              </option>
<option value="148">
                                                                Mainpuri                                                                </option>
<option value="592">
                                                                Malappuram                                                              </option>
<option value="332">
                                                                Maldah                                                          </option>
<option value="1002">
                                                                Malerkotla                                                              </option>
<option value="399">
                                                                Malkangiri                                                              </option>
<option value="281">
                                                                Mamit                                                           </option>
<option value="703">
                                                                Mancherial                                                              </option>
<option value="27">
                                                                Mandi                                                           </option>
<option value="454">
                                                                Mandla                                                          </option>
<option value="433">
                                                                Mandsaur                                                                </option>
<option value="573">
                                                                Mandya                                                          </option>
<option value="47">
                                                                Mansa                                                           </option>
<option value="145">
                                                                Mathura                                                         </option>
<option value="192">
                                                                Mau                                                             </option>
<option value="376">
                                                                Mayurbhanj                                                              </option>
<option value="535">
                                                                Medak                                                           </option>
<option value="704">
                                                                MedchalÃ¢â‚¬â€œMalkajgiri                                                            </option>
<option value="138">
                                                                Meerut                                                          </option>
<option value="87">
                                                                Mewat                                                           </option>
<option value="199">
                                                                Mirzapur                                                                </option>
<option value="42">
                                                                Moga                                                            </option>
<option value="265">
                                                                Mokokchung                                                              </option>
<option value="261">
                                                                Mon                                                             </option>
<option value="135">
                                                                Moradabad                                                               </option>
<option value="672">
                                                                Morbi                                                           </option>
<option value="419">
                                                                Morena                                                          </option>
<option value="304">
                                                                Morigaon                                                                </option>
<option value="44">
                                                                Muktsar                                                         </option>
<option value="519">
                                                                Mumbai                                                          </option>
<option value="518">
                                                                Mumbai Suburban                                                         </option>
<option value="647">
                                                                Mungeli                                                         </option>
<option value="226">
                                                                Munger                                                          </option>
<option value="333">
                                                                Murshidabad                                                             </option>
<option value="133">
                                                                Muzaffarnagar                                                           </option>
<option value="216">
                                                                Muzaffarpur                                                             </option>
<option value="577">
                                                                Mysore                                                          </option>
<option value="397">
                                                                Nabarangapur                                                            </option>
<option value="336">
                                                                Nadia                                                           </option>
<option value="305">
                                                                Nagaon                                                          </option>
<option value="622">
                                                                Nagapattinam                                                            </option>
<option value="112">
                                                                Nagaur                                                          </option>
<option value="505">
                                                                Nagpur                                                          </option>
<option value="676">
                                                                Naharlagun                                                              </option>
<option value="66">
                                                                Nainital                                                                </option>
<option value="229">
                                                                Nalanda                                                         </option>
<option value="323">
                                                                Nalbari                                                         </option>
<option value="539">
                                                                Nalgonda                                                                </option>
<option value="611">
                                                                Namakkal                                                                </option>
<option value="678">
                                                                Namsai                                                          </option>
<option value="511">
                                                                Nanded                                                          </option>
<option value="497">
                                                                Nandurbar                                                               </option>
<option value="415">
                                                                Narayanpur                                                              </option>
<option value="487">
                                                                Narmada                                                         </option>
<option value="452">
                                                                Narsimhapur                                                             </option>
<option value="516">
                                                                Nashik                                                          </option>
<option value="490">
                                                                Navsari                                                                 </option>
<option value="239">
                                                                Nawada                                                          </option>
<option value="385">
                                                                Nayagarh                                                                </option>
<option value="432">
                                                                Neemuch                                                                 </option>
<option value="94">
                                                                New Delhi                                                               </option>
<option value="638">
                                                                Nicobars                                                                </option>
<option value="705">
                                                                Nirmal                                                          </option>
<option value="533">
                                                                Nizamabad                                                               </option>
<option value="91">
                                                                North                                                           </option>
<option value="639">
                                                                North  &amp; Middle Andaman                                                             </option>
<option value="241">
                                                                North  District                                                         </option>
<option value="92">
                                                                North East                                                              </option>
<option value="656">
                                                                North Garo Hills                                                                </option>
<option value="585">
                                                                North Goa                                                               </option>
<option value="292">
                                                                North Tripura                                                           </option>
<option value="337">
                                                                North Twenty Four Parganas                                                              </option>
<option value="90">
                                                                North West                                                              </option>
<option value="999">
                                                                Not Applicable(Countries other than India)                                                              </option>
<option value="394">
                                                                Nuapada                                                         </option>
<option value="525">
                                                                Osmanabad                                                               </option>
<option value="353">
                                                                Pakur                                                           </option>
<option value="593">
                                                                Palakkad                                                                </option>
<option value="358">
                                                                Palamu                                                          </option>
<option value="998">
                                                                Palghar                                                         </option>
<option value="118">
                                                                Pali                                                            </option>
<option value="89">
                                                                Palwal                                                          </option>
<option value="484">
                                                                Panch Mahals                                                            </option>
<option value="69">
                                                                Panchkula                                                               </option>
<option value="75">
                                                                Panipat                                                         </option>
<option value="426">
                                                                Panna                                                           </option>
<option value="248">
                                                                Papum Pare                                                              </option>
<option value="513">
                                                                Parbhani                                                                </option>
<option value="344">
                                                                Paschim Medinipur                                                               </option>
<option value="203">
                                                                Pashchim Champaran                                                              </option>
<option value="368">
                                                                Pashchimi Singhbhum                                                             </option>
<option value="470">
                                                                Patan                                                           </option>
<option value="599">
                                                                Pathanamthitta                                                          </option>
<option value="662">
                                                                Pathankot                                                               </option>
<option value="48">
                                                                Patiala                                                         </option>
<option value="230">
                                                                Patna                                                           </option>
<option value="706">
                                                                Peddapalli                                                              </option>
<option value="619">
                                                                Perambalur                                                              </option>
<option value="270">
                                                                Peren                                                           </option>
<option value="271">
                                                                Phek                                                            </option>
<option value="151">
                                                                Pilibhit                                                                </option>
<option value="62">
                                                                Pithoragarh                                                             </option>
<option value="478">
                                                                Porbandar                                                               </option>
<option value="549">
                                                                Prakasam                                                                </option>
<option value="173">
                                                                Pratapgarh                                                              </option>
<option value="131">
                                                                Pratapgarh                                                              </option>
<option value="175">
                                                                Prayagraj                                                               </option>
<option value="635">
                                                                Puducherry                                                              </option>
<option value="625">
                                                                Pudukkottai                                                             </option>
<option value="12">
                                                                Pulwama                                                         </option>
<option value="5">
                                                                Punch                                                           </option>
<option value="521">
                                                                Pune                                                            </option>
<option value="204">
                                                                Purba Champaran                                                         </option>
<option value="345">
                                                                Purba Medinipur                                                         </option>
<option value="357">
                                                                Purbi Singhbhum                                                         </option>
<option value="387">
                                                                Puri                                                            </option>
<option value="211">
                                                                Purnia                                                          </option>
<option value="340">
                                                                Puruliya                                                                </option>
<option value="158">
                                                                Rae Bareli                                                              </option>
<option value="559">
                                                                Raichur                                                         </option>
<option value="520">
                                                                Raigarh                                                         </option>
<option value="403">
                                                                Raigarh                                                         </option>
<option value="410">
                                                                Raipur                                                          </option>
<option value="446">
                                                                Raisen                                                          </option>
<option value="707">
                                                                Rajanna Sircilla                                                                </option>
<option value="442">
                                                                Rajgarh                                                         </option>
<option value="476">
                                                                Rajkot                                                          </option>
<option value="408">
                                                                Rajnandgaon                                                             </option>
<option value="6">
                                                                Rajouri                                                         </option>
<option value="123">
                                                                Rajsamand                                                               </option>
<option value="584">
                                                                Ramanagara                                                              </option>
<option value="630">
                                                                Ramanathapuram                                                          </option>
<option value="17">
                                                                Ramban                                                          </option>
<option value="361">
                                                                Ramgarh                                                         </option>
<option value="136">
                                                                Rampur                                                          </option>
<option value="364">
                                                                Ranchi                                                          </option>
<option value="537">
                                                                Rangareddy                                                              </option>
<option value="434">
                                                                Ratlam                                                          </option>
<option value="528">
                                                                Ratnagiri                                                               </option>
<option value="396">
                                                                Rayagada                                                                </option>
<option value="20">
                                                                Reasi                                                           </option>
<option value="430">
                                                                Rewa                                                            </option>
<option value="85">
                                                                Rewari                                                          </option>
<option value="297">
                                                                Ribhoi                                                          </option>
<option value="82">
                                                                Rohtak                                                          </option>
<option value="234">
                                                                Rohtas                                                          </option>
<option value="58">
                                                                Rudraprayag                                                             </option>
<option value="51">
                                                                Rupnagar                                                                </option>
<option value="472">
                                                                Sabar Kantha                                                            </option>
<option value="427">
                                                                Sagar                                                           </option>
<option value="132">
                                                                Saharanpur                                                              </option>
<option value="214">
                                                                Saharsa                                                         </option>
<option value="352">
                                                                Sahibganj                                                               </option>
<option value="52">
                                                                Sahibzada Ajit Singh Nagar                                                              </option>
<option value="288">
                                                                Saiha                                                           </option>
<option value="610">
                                                                Salem                                                           </option>
<option value="221">
                                                                Samastipur                                                              </option>
<option value="22">
                                                                Samba                                                           </option>
<option value="372">
                                                                Sambalpur                                                               </option>
<option value="659">
                                                                Sambhal                                                         </option>
<option value="708">
                                                                Sangareddy                                                              </option>
<option value="531">
                                                                Sangli                                                          </option>
<option value="53">
                                                                Sangrur                                                         </option>
<option value="186">
                                                                Sant Kabir Nagar                                                                </option>
<option value="198">
                                                                Sant Ravidas Nagar (Bhadohi)                                                            </option>
<option value="369">
                                                                Saraikela-Kharsawan                                                             </option>
<option value="219">
                                                                Saran                                                           </option>
<option value="527">
                                                                Satara                                                          </option>
<option value="429">
                                                                Satna                                                           </option>
<option value="108">
                                                                Sawai Madhopur                                                          </option>
<option value="445">
                                                                Sehore                                                          </option>
<option value="272">
                                                                Senapati                                                                </option>
<option value="456">
                                                                Seoni                                                           </option>
<option value="653">
                                                                Sepahijala                                                              </option>
<option value="285">
                                                                Serchhip                                                                </option>
<option value="675">
                                                                Shahdara                                                                </option>
<option value="460">
                                                                Shahdol                                                         </option>
<option value="39">
                                                                Shahid Bhagat Singh Nagar                                                               </option>
<option value="152">
                                                                Shahjahanpur                                                            </option>
<option value="436">
                                                                Shajapur                                                                </option>
<option value="660">
                                                                Shamli                                                          </option>
<option value="228">
                                                                Sheikhpura                                                              </option>
<option value="205">
                                                                Sheohar                                                         </option>
<option value="418">
                                                                Sheopur                                                                 </option>
<option value="33">
                                                                Shimla                                                          </option>
<option value="568">
                                                                Shimoga                                                         </option>
<option value="423">
                                                                Shivpuri                                                                </option>
<option value="181">
                                                                Shrawasti                                                               </option>
<option value="13">
                                                                Shupiyan                                                                </option>
<option value="679">
                                                                Siang                                                           </option>
<option value="184">
                                                                Siddharthnagar                                                          </option>
<option value="709">
                                                                Siddipet                                                                </option>
<option value="462">
                                                                Sidhi                                                           </option>
<option value="111">
                                                                Sikar                                                           </option>
<option value="367">
                                                                Simdega                                                         </option>
<option value="529">
                                                                Sindhudurg                                                              </option>
<option value="463">
                                                                Singrauli                                                               </option>
<option value="32">
                                                                Sirmaur                                                         </option>
<option value="117">
                                                                Sirohi                                                          </option>
<option value="79">
                                                                Sirsa                                                           </option>
<option value="206">
                                                                Sitamarhi                                                               </option>
<option value="154">
                                                                Sitapur                                                         </option>
<option value="626">
                                                                Sivaganga                                                               </option>
<option value="311">
                                                                Sivasagar                                                               </option>
<option value="218">
                                                                Siwan                                                           </option>
<option value="31">
                                                                Solan                                                           </option>
<option value="526">
                                                                Solapur                                                         </option>
<option value="200">
                                                                Sonbhadra                                                               </option>
<option value="76">
                                                                Sonipat                                                         </option>
<option value="306">
                                                                Sonitpur                                                                </option>
<option value="98">
                                                                South                                                           </option>
<option value="640">
                                                                South Andaman                                                           </option>
<option value="243">
                                                                South District                                                          </option>
<option value="674">
                                                                South East Delhi                                                                </option>
<option value="295">
                                                                South Garo Hills                                                                </option>
<option value="586">
                                                                South Goa                                                               </option>
<option value="290">
                                                                South Tripura                                                           </option>
<option value="343">
                                                                South Twenty Four Parganas                                                              </option>
<option value="97">
                                                                South West                                                              </option>
<option value="663">
                                                                South West Garo Hills                                                           </option>
<option value="658">
                                                                South West Khasi Hills                                                          </option>
<option value="550">
                                                                Sri Potti Sriramulu Nellore                                                             </option>
<option value="542">
                                                                Srikakulam                                                              </option>
<option value="10">
                                                                Srinagar                                                                </option>
<option value="392">
                                                                Subarnapur                                                              </option>
<option value="642">
                                                                Sukma                                                           </option>
<option value="179">
                                                                Sultanpur                                                               </option>
<option value="374">
                                                                Sundargarh                                                              </option>
<option value="208">
                                                                Supaul                                                          </option>
<option value="648">
                                                                Surajpur                                                                </option>
<option value="492">
                                                                Surat                                                           </option>
<option value="475">
                                                                Surendranagar                                                           </option>
<option value="401">
                                                                Surguja                                                         </option>
<option value="710">
                                                                Suryapet                                                                </option>
<option value="273">
                                                                Tamenglong                                                              </option>
<option value="493">
                                                                Tapi                                                            </option>
<option value="50">
                                                                Tarn Taran                                                              </option>
<option value="245">
                                                                Tawang                                                          </option>
<option value="59">
                                                                Tehri Garhwal                                                           </option>
<option value="517">
                                                                Thane                                                           </option>
<option value="624">
                                                                Thanjavur                                                               </option>
<option value="489">
                                                                The Dangs                                                               </option>
<option value="613">
                                                                The Nilgiris                                                            </option>
<option value="628">
                                                                Theni                                                           </option>
<option value="602">
                                                                Thiruvallur                                                             </option>
<option value="601">
                                                                Thiruvananthapuram                                                              </option>
<option value="623">
                                                                Thiruvarur                                                              </option>
<option value="631">
                                                                Thoothukkudi                                                            </option>
<option value="276">
                                                                Thoubal                                                         </option>
<option value="594">
                                                                Thrissur                                                                </option>
<option value="424">
                                                                Tikamgarh                                                               </option>
<option value="309">
                                                                Tinsukia                                                                </option>
<option value="260">
                                                                Tirap                                                           </option>
<option value="618">
                                                                Tiruchirappalli                                                         </option>
<option value="632">
                                                                Tirunelveli                                                             </option>
<option value="615">
                                                                Tiruppur                                                                </option>
<option value="608">
                                                                Tiruvannamalai                                                          </option>
<option value="120">
                                                                Tonk                                                            </option>
<option value="262">
                                                                Tuensang                                                                </option>
<option value="571">
                                                                Tumkur                                                          </option>
<option value="130">
                                                                Udaipur                                                         </option>
<option value="326">
                                                                Udalguri                                                                </option>
<option value="67">
                                                                Udham Singh Nagar                                                               </option>
<option value="19">
                                                                Udhampur                                                                </option>
<option value="569">
                                                                Udupi                                                           </option>
<option value="435">
                                                                Ujjain                                                          </option>
<option value="279">
                                                                Ukhrul                                                          </option>
<option value="431">
                                                                Umaria                                                          </option>
<option value="29">
                                                                Una                                                             </option>
<option value="655">
                                                                Unakoti                                                         </option>
<option value="156">
                                                                Unnao                                                           </option>
<option value="254">
                                                                Upper Siang                                                             </option>
<option value="251">
                                                                Upper Subansiri                                                         </option>
<option value="413">
                                                                Uttar Bastar Kanker                                                             </option>
<option value="330">
                                                                Uttar Dinajpur                                                          </option>
<option value="563">
                                                                Uttara Kannada                                                          </option>
<option value="56">
                                                                Uttarkashi                                                              </option>
<option value="486">
                                                                Vadodara                                                                </option>
<option value="220">
                                                                Vaishali                                                                </option>
<option value="491">
                                                                Valsad                                                          </option>
<option value="197">
                                                                Varanasi                                                                </option>
<option value="605">
                                                                Vellore                                                         </option>
<option value="443">
                                                                Vidisha                                                         </option>
<option value="711">
                                                                Vikarabad                                                               </option>
<option value="609">
                                                                Viluppuram                                                              </option>
<option value="629">
                                                                Virudhunagar                                                            </option>
<option value="544">
                                                                Visakhapatnam                                                           </option>
<option value="543">
                                                                Vizianagaram                                                            </option>
<option value="712">
                                                                Wanaparthy                                                              </option>
<option value="540">
                                                                Warangal                                                                </option>
<option value="504">
                                                                Wardha                                                          </option>
<option value="502">
                                                                Washim                                                          </option>
<option value="590">
                                                                Wayanad                                                         </option>
<option value="96">
                                                                West                                                            </option>
<option value="242">
                                                                West District                                                           </option>
<option value="293">
                                                                West Garo Hills                                                         </option>
<option value="546">
                                                                West Godavari                                                           </option>
<option value="246">
                                                                West Kameng                                                             </option>
<option value="296">
                                                                West Khasi Hills                                                                </option>
<option value="440">
                                                                West Nimar                                                              </option>
<option value="252">
                                                                West Siang                                                              </option>
<option value="289">
                                                                West Tripura                                                            </option>
<option value="267">
                                                                Wokha                                                           </option>
<option value="551">
                                                                Y.S.R.                                                          </option>
<option value="714">
                                                                Yadadri Bhuvanagiri                                                             </option>
<option value="580">
                                                                Yadgir                                                          </option>
<option value="71">
                                                                Yamunanagar                                                             </option>
<option value="634">
                                                                Yanam                                                           </option>
<option value="510">
                                                                Yavatmal                                                                </option>
<option value="266">
                                                                Zunheboto                                                               </option>
</select>
                            </div>
                        </div>
                        <br/><br/>
                        <div class="form-group">
                            <label class="control-label col-md-2" for="sector_search">
<small>Sector</small>
</label>
                            <div class="control-field no-right-padding col-md-10">
                                <select class="form-control input-sm" id="sector_search" multiple="" name="sector_search">
<option value="">Select</option>
<option value="1">
                                                                Agriculture                                                             </option>
<option value="2">
                                                                Animal Husbandry, Dairying  &amp;  Fisheries                                                            </option>
<option value="3">
                                                                Art &amp; Culture                                                               </option>
<option value="4">
                                                                Biotechnology                                                           </option>
<option value="5">
                                                                Children                                                                </option>
<option value="6">
                                                                Civic Issues                                                            </option>
<option value="7">
                                                                Dalit Upliftment                                                                </option>
<option value="8">
                                                                Differently Abled                                                               </option>
<option value="9">
                                                                Disaster Management                                                             </option>
<option value="10">
                                                                Drinking Water                                                          </option>
<option value="11">
                                                                Education &amp; Literacy                                                                </option>
<option value="12">
                                                                Aged/Elderly                                                            </option>
<option value="13">
                                                                Environment &amp; Forests                                                               </option>
<option value="14">
                                                                Food Processing                                                         </option>
<option value="15">
                                                                Health &amp; Family Welfare                                                             </option>
<option value="16">
                                                                HIV/AIDS                                                                </option>
<option value="17">
                                                                Housing                                                         </option>
<option value="18">
                                                                Human Rights                                                            </option>
<option value="19">
                                                                Information &amp; Communication Technology                                                              </option>
<option value="20">
                                                                Labour &amp; Employment                                                         </option>
<option value="21">
                                                                Land Resources                                                          </option>
<option value="22">
                                                                Legal Awareness &amp; Aid                                                               </option>
<option value="23">
                                                                Micro Finance (SHGs)                                                            </option>
<option value="24">
                                                                Micro Small &amp; Medium Enterprises                                                            </option>
<option value="25">
                                                                Minority Issues                                                         </option>
<option value="26">
                                                                New &amp; Renewable Energy                                                              </option>
<option value="27">
                                                                Nutrition                                                               </option>
<option value="28">
                                                                Panchayati Raj                                                          </option>
<option value="29">
                                                                Prisoner's Issues                                                               </option>
<option value="30">
                                                                Right to Information &amp; Advocacy                                                             </option>
<option value="31">
                                                                Rural Development &amp; Poverty Alleviation                                                             </option>
<option value="32">
                                                                Science &amp; Technology                                                                </option>
<option value="33">
                                                                Scientific &amp; Industrial Research                                                            </option>
<option value="34">
                                                                Sports                                                          </option>
<option value="35">
                                                                Tourism                                                         </option>
<option value="36">
                                                                Tribal Affairs                                                          </option>
<option value="37">
                                                                Urban Development &amp; Poverty Alleviation                                                             </option>
<option value="38">
                                                                Vocational Training                                                             </option>
<option value="39">
                                                                Water Resources                                                         </option>
<option value="40">
                                                                Women's Development &amp; Empowerment                                                           </option>
<option value="41">
                                                                Youth Affairs                                                           </option>
<option value="42">
                                                                Any Other                                                               </option>
<option value="43">
                                                                Skill Development                                                               </option>
</select>
                            </div>
                        </div>
                        <br/><br/>
                        <div class="form-group">
                            <label class="control-label col-md-2" for="ngo_type_search">
<small>NGO Type</small>
</label>
                            <div class="control-field no-right-padding col-md-10">
                                <select class="form-control input-sm" id="ngo_type_search" multiple="" name="ngo_type_search">
<option value="">Select</option>
<option value="1">
                                                                Private Sector Companies (Sec 8/25)                                                             </option>
<option value="3">
                                                                Registered Societies (Non-Government)                                                           </option>
<option value="4">
                                                                Trust (Non-Government)                                                          </option>
<option value="5">
                                                                Other Registered Entities (Non-Government)                                                              </option>
<option value="6">
                                                                Academic Institutions (Private)                                                         </option>
<option value="7">
                                                                Academic Institutions (Govt)                                                            </option>
</select>
                            </div>
                        </div>
                        <br/><br/>
                        <div class="form-group">
                            <label class="control-label col-md-2" for="ngo_name_search">
<small>NGO Name</small>
</label>
                            <div class="control-field no-right-padding col-md-10">
                                <input autocomplete="off" class="form-control input-sm" id="ngo_name_search" maxlength="50" name="ngo_name_search" placeholder="Search By Enter Ngo Name" type="text" />
                            </div>
                        </div>
                        <br/><br/>
                        <div class="form-group">
                            <label class="control-label col-md-3" for="unique_id_search">
<small>Unique ID</small>
</label>
                            <div class="control-field no-right-padding col-md-9">
                                <input autocomplete="off" class="form-control input-sm" id="unique_id_search" maxlength="20" name="unique_id_search" placeholder="Search By Enter Unique ID" type="text" value="" />
                            </div>
                        </div>
                        <br/>
                        <!-- <div class="form-group btn-group" data-toggle="buttons" style="margin: 0px 38px;">
                                                <label class="btn btn-default active">
                                                <input type="radio" name="view_type" id="view_type" value="detail_view" /> Detail View
                                                </label> 
                                                <label class="btn btn-default">
                                                <input type="radio" name="view_type" id="view_type" value="summary_view" />Summary View
                                                </label> 
                        </div> -->
                        <div class="form-group">
                            <label class="control-label col-md-3"></label>
                            <div class="control-field no-right-padding col-sm-5" style="margin-top: 15px;">
                                <input class="btn btn-primary pull-left" name="commit" type="submit" value="Search" />
                            </div>
                            <div class="control-field no-right-padding col-sm-4" style="margin-top: 15px;">
                                <input class="btn btn-danger" id="reset" type="reset" value="Reset" />
                            </div>
                        </div>
                    </div>
                    </input>
                </form>
            </div>
        </div>
    </div>
    <div class="col-md-7" id="main_panel" style="display: block;">
        <div class="panel panel-success" id="real_text">
            <div class="panel-heading">
                <h2 class="panel-title">
                    Welcome to a NGO Directory
                    <span style="float:right;">Total Active NGO'S: 164405</span>
                </h2>
            </div>
            <div class="panel-body">
                <ul class="nav nav-tabs" role="tablist" style="padding-left: 75px;">
                    <li class="active" role="presentation"><a aria-controls="ngo_type" data-toggle="tab" href="#chart_ngo_type" id="ngo-type-taba" role="tab">NGO TYPE SUMMARY</a></li>
                    <li role="presentation"><a aria-controls="state_type" data-toggle="tab" href="#state_type" id="state-taba" role="tab">STATEWISE SUMMARY</a></li>
                    <!-- <li role="presentation"><a id="sector-taba" href="#sector_type" aria-controls="sector_type" role="tab" data-toggle="tab">SECTORWISE SUMMARY</a></li> -->
                </ul>
                <div class="tab-content" style="margin-top: 30px;">
                    <div class="tab-pane active text-center" id="chart_ngo_type" role="tabpanel">
                        <div id="piechart"></div>
                    </div>
                    <div class="tab-pane" id="state_type" role="tabpanel">
                        <div id="piechart_statewise"></div>
                    </div>
                    <!-- <div role="tabpanel" class="tab-pane" id="sector_type">
                                                <div id="piechart_sectorwise"></div>
                                        </div> -->
                </div>
            </div>
        </div>
        <br/>
    </div>
    <div class="col-md-12" id="main_panel" style="display: block;">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h3 class="panel-title">
                    Data Searched
                </h3>
            </div>
            <div class="panel-body">
                <div class="listing-wrap col-sm-12">
                    <span id="text_search">Please Enter Search Criteria from Above Form</span>
                    <!--                    <table id="example" class="table table-bordered table-striped" style="display:block;" width="100%" cellspacing="0">
                                <thead class="thead">
                                <tr>
                      <th>Name of VO/NGO</th>
                      <th>Registration No.,City & State</th>
                      <th>Address</th>
                      <th>Sectors working in</th>
                                </tr>
                                </thead>
                        </table> -->
                    <!-- <div class="grid-container bs-docs-grid">
                                <div class="grid-container-body bs-docs-grid">
                                                                        </div>
                        </div> -->
                    <div class="post-list" id="postList">
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!--- Start Ngo Information modal window-->
<div aria-hidden="true" aria-labelledby="gridModalLabel" class="modal fade" id="ngo_info_modal" role="dialog" style="z-index: 1045;" tabindex="-1">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button aria-label="Close" class="close" data-dismiss="modal" type="button"><span aria-hidden="true">Ã—</span></button>
                <h2 class="modal-title" id="gridModalLabel" style="color: #000;font-weight: bold;font-family: 'Playfair Display', serif;">NGO DETAILS</h2>
                <span style="float:right;margin: -35px 127px 0px 0px;/*! width: -4%; */font-size: 2em;"><a href="javascript:void(0)" onclick="printElement()" title="Print This Page"><i aria-hidden="true" class="fa fa-print"></i></a>
</span>
            </div>
            <div class="modal-body" id="printThis">
                <div class="container">
                    <div class="row">
                        <h3 class="h3style" style="text-align:center;"><span id="ngo_name_title"></span></h3>
                        <table class="w3-table-all notranslate" style="border: 1px solid #ccc;border-collapse: collapse;border-spacing: 0;width: 74%;display: table;">
                            <tbody>
                                <tr>
                                    <td>Unique Id of VO/NGO</td>
                                    <td><span id="UniqueID"></span></td>
                                </tr>
                                <tr>
                                    <td>DARPAN Reg. Date</td>
                                    <td><span id="darpan_reg_date"></span></td>
                                </tr>
                            </tbody>
                        </table>
                        <h3 class="h3style">Registration Details</h3>
                        <table class="w3-table-all notranslate" style="border: 1px solid #ccc;border-collapse: collapse;border-spacing: 0;width: 74%;display: table;">
                            <tbody>
                                <tr>
                                    <td>Registered With</td>
                                    <td id="reg_with">Sub-Registrar</td>
                                </tr>
                                <tr>
                                    <td>Type of NGO</td>
                                    <td id="ngo_type">Trust</td>
                                </tr>
                                <tr>
                                    <td>Registration No</td>
                                    <td id="ngo_regno"></td>
                                </tr>
                                <tr>
                                    <td>Copy of Registration Certificate</td>
                                    <td id="rc_upload"></td>
                                </tr>
                                <tr>
                                    <td>Copy of Pan Card</td>
                                    <td id="pc_upload"></td>
                                </tr>
                                <tr>
                                    <td>Act name</td>
                                    <td id="ngo_act_name"></td>
                                </tr>
                                <tr>
                                    <td>City of Registration</td>
                                    <td id="ngo_city_p"></td>
                                </tr>
                                <tr>
                                    <td>State of Registration</td>
                                    <td id="ngo_state_p"></td>
                                </tr>
                                <tr>
                                    <td>Date of Registration (Society / Trust / Entity)</td>
                                    <td id="ngo_reg_date"></td>
                                </tr>
                            </tbody>
                        </table>
                        <h3 class="h3style">Members</h3>
                        <table class="w3-table-all notranslate" id="member_table" style="border: 1px solid #ccc;border-collapse: collapse;border-spacing: 0;width: 74%;display: table;">
                            <tbody>
                            </tbody>
                        </table>
                        <h3 class="h3style">Sector/ Key Issues</h3>
                        <table class="w3-table-all notranslate" style="border: 1px solid #ccc;border-collapse: collapse;border-spacing: 0;width: 74%;display: table;">
                            <tbody>
                                <tr>
                                    <td>Key Issues</td>
                                    <td id="key_issues"></td>
                                </tr>
                                <tr>
                                    <td>Operational Area-States</td>
                                    <td id="operational_states"></td>
                                </tr>
                                <tr>
                                    <td>Operational Area-District</td>
                                    <td id="operational_district"></td>
                                </tr>
                            </tbody>
                        </table>
                        <h3 class="h3style">FCRA details</h3>
                        <table class="w3-table-all notranslate" style="border: 1px solid #ccc;border-collapse: collapse;border-spacing: 0;width: 74%;display: table;">
                            <tbody>
                                <tr>
                                    <th style="width:20%;">FCRA Available</th>
                                    <th style="width:72%;">FCRA Registration no.</th>
                                </tr>
                                <tr>
                                    <td id="FCRA_details"></td>
                                    <td id="FCRA_reg_no"></td>
                                </tr>
                            </tbody>
                        </table>
                        <h3 class="h3style">Details of Achievements</h3>
                        <table class="w3-table-all notranslate" style="border: 1px solid #ccc;border-collapse: collapse;border-spacing: 0;width: 74%;display: table;">
                            <tbody>
                                <tr>
                                    <td id="activities_achieve"></td>
                                </tr>
                            </tbody>
                        </table>
                        <h3 class="h3style">Source of Funds</h3>
                        <table class="w3-table-all notranslate" id="source_table" style="border: 1px solid #ccc;border-collapse: collapse;border-spacing: 0;width: 74%;display: table;">
                            <tbody>
                            </tbody>
                        </table>
                        <h3 class="h3style">Contact Details</h3>
                        <table class="w3-table-all notranslate" style="border: 1px solid #ccc;border-collapse: collapse;border-spacing: 0;width: 74%;display: table;">
                            <tbody>
                                <tr>
                                    <td>Address</td>
                                    <td id="address"></td>
                                </tr>
                                <tr>
                                    <td>City</td>
                                    <td id="city"></td>
                                </tr>
                                <tr>
                                    <td>State</td>
                                    <td id="state_p_ngo"></td>
                                </tr>
                                <tr>
                                    <td>Telephone</td>
                                    <td id="phone_n"></td>
                                </tr>
                                <tr>
                                    <td>Mobile No</td>
                                    <td id="mobile_n"></td>
                                </tr>
                                <tr>
                                    <td>Website Url</td>
                                    <td id="ngo_web_url"></td>
                                </tr>
                                <tr>
                                    <td>E-mail</td>
                                    <td id="email_n"></td>
                                </tr>
                                <tr>
                                    <td><i>Last modified on </i></td>
                                    <td id="lastmodifieddt_n"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--- End  -->
<!-- 
<div class="modal fade" id="test" tabindex="-1" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
        <h4 class="modal-title" id="title"></h4>
      </div>
      <div class="modal-body">
        <table class="table datatable table-bordered datatbl" width="100%"  id="sdgsdgsdgdsgsd">
          <thead class="thead">
            <tr>
              <th>Name of VO/NGO</th>
              <th>Registration No.,City & State</th>
              <th>Address</th>
              <th>Sectors working in</th>
            </tr>
          </thead>
          <tbody  id="ngo_list">

          </tbody>
        </table>
      </div>
    </div>
  </div>
</div> -->
<div class="section-space footer">
    <!-- footer -->
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-2 footer-block">
                        <ul class="listnone">
                            <li><a href="https://ngodarpan.gov.in/index.php/home" title="Home">Home</a></li>
                            <li><a href="https://ngodarpan.gov.in/index.php/home/about" title="About the Portal">About the Portal </a></li>
                            <li><a href="https://ngodarpan.gov.in/index.php/home/sitemap" title="Site Map">Site Map </a></li>
                            <li><a href="https://ngodarpan.gov.in/index.php/home/policy" title="Privacy Policy">Privacy Policy</a></li>
                        </ul>
                    </div>
                    <div class="col-md-2 footer-block">
                        <ul class="listnone">
                            <li><a href="https://ngodarpan.gov.in/index.php/home/link" title="Link to us">Link to us</a></li>
                            <!--<li><a href="#" id="bookmark-this" title="Bookmark This">Add to favorites </a></li>          //-->
                            <li><a href="https://ngodarpan.gov.in/index.php/home/faq" title="FAQs">FAQs</a></li>
                            <li><a href="https://ngodarpan.gov.in/index.php/home/policy" title="Linking Policy">Linking Policy</a></li>
                        </ul>
                    </div>
                    <div class="col-md-2 footer-block">
                        <ul class="listnone">
                            <li><a href="https://ngodarpan.gov.in/index.php/home/terms" title="Terms">Terms of Use </a></li>
                            <li><a href="https://ngodarpan.gov.in/index.php/home/help" title="Help">Help</a></li>
                            <li><a href="https://ngodarpan.gov.in/index.php/home/contact" title="Contact us">Contact Us</a></li>
                            <li><a href="https://ngodarpan.gov.in/index.php/home/policy" title="Linking Policy">Copyright Policy</a></li>
                        </ul>
                    </div>
                    <div class="col-md-2 footer-block footer-contact">
                        <img alt="" src="https://ngodarpan.gov.in/assets/images/QRcode.jpg" width="80%" />
                    </div>
                    <div class="col-md-4 footer-block">
                        <div class="ft-logo"><img alt="NIC" src="https://ngodarpan.gov.in/assets/images/nic-logo.png" /></div>
                        <p>This site is designed, hosted and maintained by National Informatics Centre, Ministry of Electronics &amp; Information Technology (MeitY), Government of India.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /.footer -->
<div class="tiny-footer">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div style="text-align:center;">
                    <a href="http://www.digitalindia.gov.in/" onclick="if (! confirm('This link will take you to an external web site')) { return false; }" target="_blank" title="Digital India"><img alt="Digital India, External link that opens in new window" src="https://ngodarpan.gov.in/assets/images/digital-india-footer.png" title="External link that opens in new window" /></a>
                    <a href="http://india.gov.in/" onclick="if (! confirm('This link will take you to an external web site')) { return false; }" target="_blank" title="India Gov"><img alt="National Portal, External link that opens in new window" src="https://ngodarpan.gov.in/assets/images/india-gov.png" title="External link that opens in new window" /></a>
                    <a href="http://niti.gov.in/" onclick="if (! confirm('This link will take you to an external web site')) { return false; }" target="_blank" title="NITI Aayog">
                        <img alt="NITI Aayog, External link that opens in new window" src="https://ngodarpan.gov.in/assets/images/nitiaayog_r.png" title="External link that opens in new window" /></a>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div style="text-align:center;">
                    <span style="font-size: 85%; text-align: center; width: 100%; color: rgb(255, 255, 255);">[Best view in Chrome 56.0 or higher,Firefox 52.0 or higher]</span>
                </div>
            </div>
        </div>
    </div>
</div>
<form id="some_form" method="post">
    <input id="csrff" name="csrf_test_name" type="hidden" value="e93979689006f6411e3f92ba7b0b0fe4">
    </input>
</form>
<script src="https://ngodarpan.gov.in/assets/js/jquery.cookie.min.js"></script>
<script src="https://ngodarpan.gov.in/assets/js/select2.full.js"></script>
<script src="https://ngodarpan.gov.in/assets/js/jquery.dataTables.min.js"></script>
<script src="https://ngodarpan.gov.in/assets/js/bootstrap.min.js"></script>
<script src="https://ngodarpan.gov.in/assets/js/aes.js"></script>
<script src="https://ngodarpan.gov.in/assets/js/aes-ctr.js"></script>
<script src="https://ngodarpan.gov.in/assets/js/jquery.bootcomplete.js"></script>
<script src="https://ngodarpan.gov.in/assets/js/responsive-tabs.js"></script>
<script src="https://ngodarpan.gov.in/assets/js/bootstrap-datepicker.min.js"></script>
<script src="https://ngodarpan.gov.in/assets/js/validator.min.js" type="text/javascript"></script>
<script src="https://ngodarpan.gov.in/assets/js/jquery.blockUI.js"></script>
<script src="https://ngodarpan.gov.in/assets/js/jquery.buttonLoader.min.js" type="text/javascript"></script>
<script>
    $(document).ready(function() {


        // $('#amount_spent').autoNumeric('init');
        // $('#amount_avail').autoNumeric('init');
        // $('#update_amount_sanctioned').autoNumeric('init');
        // $('#update_amount_spent').autoNumeric('init');
        // $('#update_amount_avail').autoNumeric('init');
        // $('a[href]#uplaod_button_hide_NPC').each(function () {
        //     var href = this.href;
        //     $(this).removeAttr('href').css('cursor', 'pointer').click(function () {
        //         if (href.toLowerCase().indexOf("#") >= 0) {

        //         } else {
        //             window.open(href, '_blank');
        //         }
        //     });
        // });

        // $('a[href]#uplaod_button_hide_PRC').each(function () {
        //     var href = this.href;
        //     $(this).removeAttr('href').css('cursor', 'pointer').click(function () {
        //         if (href.toLowerCase().indexOf("#") >= 0) {

        //         } else {
        //             window.open(href, '_blank');
        //         }
        //     });
        // });

        $("input[type=radio]").on('click', function() {

            var idd = ($("input:radio[name=fcra_available]:checked").val());

            var idd1 = ($("input:radio[name=validity_available]:checked").val());

            var idd2 = ($("input:radio[name=validity_available1]:checked").val());

            var idd3 = ($("input:radio[name=validity_available2]:checked").val());

            var idd4 = ($("input:radio[name=sof_available]:checked").val());

            var idd5 = ($("input:radio[name=update_sof_available]:checked").val());

            if (idd == 'Y') {
                $("#fcra_details2").show();
                $("#fcra_details2").slideDown("slow");
            } else {
                $("#fcra_details2").hide();
                $("#fcra_details2").slideUp("slow");
            }

            if (idd1 == 'Y') {
                $("#valid_details2").show();
                $("#valid_details2").slideDown("slow");
            } else {
                $("#valid_details2").hide();
                $("#valid_details2").slideUp("slow");
            }

            if (idd2 == 'Y') {
                $("#valid_details3").show();
                $("#valid_details3").slideDown("slow");
            } else {
                $("#valid_details3").hide();
                $("#valid_details3").slideUp("slow");
            }

            if (idd3 == 'Y') {
                $("#valid_details4").show();
                $("#valid_details4").slideDown("slow");
            } else {
                $("#valid_details4").hide();
                $("#valid_details4").slideUp("slow");
            }

            if (idd5 == '1') {
                $("#sof_available_div_u").show();
                $("#sof_available_div_u").slideDown("slow");
            } else {
                $("#sof_available_div_u").hide();
                $("#sof_available_div_u").slideUp("slow");
            }

            if (idd4 == 'Y') {
                // var deptt_name = $('#deptt_name').val('');
                // var source = $('#source').val('');
                // var purpose = $('#purpose').val('');

                // var amount_sanctioned = $('#amount_sanctioned').val('');
                // var amount_spent = $('#amount_spent').val('');
                // var amount_avail = $('#amount_avail').val('');
                // var project_name = $('#project_name').val('');

                // var project_location = $('#project_location').val('');
                // var soc_state = $('#soc_state').val('');
                // var soc_district = $('#soc_district').val('');

                // var pfms_id = $('#pfms_id').val('');
                // var scheme_id = $('#scheme_id').val('');

                // var ut_certificate = $('#ut_certificate').val('');

                $("#sof_available_div").show();
                $("#sof_available_div").slideDown("slow");
            } else {

                // var deptt_name = $('#deptt_name').val('');
                // var source = $('#source').val('');
                // var purpose = $('#purpose').val('');

                // var amount_sanctioned = $('#amount_sanctioned').val('');
                // var amount_spent = $('#amount_spent').val('');
                // var amount_avail = $('#amount_avail').val('');
                // var project_name = $('#project_name').val('');

                // var project_location = $('#project_location').val('');
                // var soc_state = $('#soc_state').val('');
                // var soc_district = $('#soc_district').val('');

                // var pfms_id = $('#pfms_id').val('');
                // var scheme_id = $('#scheme_id').val('');

                // var ut_certificate = $('#ut_certificate').val('');

                $("#sof_available_div").hide();
                $("#sof_available_div").slideUp("slow");
            }

        });

        $("#generate_unique_id").on("click", function(event) {

            $("#generate_unique_id").prop("disabled", true);
            $("#generate_unique_id").html('Please wait...');

            $.blockUI({
                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                css: {
                    border: '0px',
                    width: '18%',
                    top: '30%'
                }
            });


            var csrf_test_name = get_csrf_token();

            setTimeout($.unblockUI);

            $.ajax({
                type: "POST",
                url: "https://ngodarpan.gov.in/index.php/ngo/generate_unique_id",
                beforeSend: function() {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                        css: {
                            border: '0px',
                            width: '18%',
                            top: '30%'
                        }
                    });
                },
                error: function(data, error) {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                        css: {
                            border: '0px',
                            width: '40%',
                            top: '30%'
                        }
                    });
                    setTimeout($.unblockUI, 2000);
                    $("#login_btn").buttonLoader('stop');
                    return false;
                },
                complete: function() {
                    $("#login_btn").buttonLoader('stop');
                },
                data: "csrf_test_name=" + csrf_test_name,
                success: function(data) {
                    var obj = jQuery.parseJSON(data);
                    $("#generate_unique_id").prop("disabled", false);
                    $("#generate_unique_id").html('Save changes');
                    if (obj['success'] == 1) {
                        if (obj['unique_id_status'] != '0') {
                            $("#generate_unique_id").buttonLoader('stop');
                            $("#generate_unique_id").hide();
                            $("#unique_id_value").show();
                            var dataunique_id_status = obj['unique_id_status'];
                            var returned_data_arr = dataunique_id_status.split('+');
                            var returned_data_arr = returned_data_arr[0] + "/" + returned_data_arr[1] + "/" + returned_data_arr[2];
                            $("#unique_id_value").html("Your Unique Id: " + returned_data_arr);
                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Your Unique id has been generated!</h4>",
                                css: {
                                    border: '0px',
                                    width: '36%',
                                    top: '30%'
                                }
                            });
                            setTimeout($.unblockUI, 2000);
                        } else {
                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please Try Again</h4>",
                                css: {
                                    border: '0px',
                                    width: '36%',
                                    top: '30%'
                                }
                            });
                            setTimeout($.unblockUI, 2000);
                        }

                    } else {
                        $("#generate_unique_id").buttonLoader('stop');
                        $("#unique_id_value").html('');
                    }
                }
            });
        });

        $('.dataTables_filterinput[type="search"]').css({
            'width': '300px'
        });

        // $('#black_listed_ngo').DataTable();

        $('#bookmark-this').click(function(e) {
            var bookmarkURL = window.location.href;
            var bookmarkTitle = document.title;

            if ('addToHomescreen' in window && addToHomescreen.isCompatible) {
                // Mobile browsers
                addToHomescreen({
                    autostart: false,
                    startDelay: 0
                }).show(true);
            } else if (window.sidebar && window.sidebar.addPanel) {
                // Firefox <=22
                window.sidebar.addPanel(bookmarkTitle, bookmarkURL, '');
            } else if ((window.sidebar && /Firefox/i.test(navigator.userAgent)) || (window.opera && window.print)) {
                // Firefox 23+ and Opera <=14
                $(this).attr({
                    href: bookmarkURL,
                    title: bookmarkTitle,
                    rel: 'sidebar'
                }).off(e);
                return true;
            } else if (window.external && ('AddFavorite' in window.external)) {
                // IE Favorites
                window.external.AddFavorite(bookmarkURL, bookmarkTitle);
            } else {
                // Other browsers (mainly WebKit & Blink - Safari, Chrome, Opera 15+)
                alert('Press ' + (/Mac/i.test(navigator.userAgent) ? 'Cmd' : 'Ctrl') + '+D to bookmark this page.');
            }

            return false;
        });

        $("#state_search_search").select2({
            placeholder: "Select State",
            width: "100%",
            allowClear: true
        });
        $("#state_search_schemes").select2({
            placeholder: "Select State for Schemes",
            width: "100%",
            allowClear: true
        });

        $("#state").select2({
            placeholder: "Select State",
            width: "100%"
        });
        $("#ngo_state").select2({
            placeholder: "Select State",
            width: "100%"
        });
        $("#districtabc").select2({
            placeholder: "Select District",
            width: "100%"
        });
        $("#ngo_district").select2({
            placeholder: "Select District",
            width: "100%"
        });
        $("#district_search").select2({
            placeholder: "Select District",
            width: "100%"
        });
        $("#sector_search").select2({
            placeholder: "Select Sectors",
            width: "100%"
        });
        $("#ngo_type_search").select2({
            placeholder: "Select Ngo Type",
            width: "100%"
        });
        $(".select_issues_edit").select2({
            placeholder: "Select Issues",
            width: "150%"
        });
        $(".select_states_edit").select2({
            placeholder: "Select States",
            width: "150%"
        });
        $(".select_district_edit").select2({
            placeholder: "Select District",
            width: "150%"
        });
        $(".select_ngo_name_new").select2({
            placeholder: "Select Ngo",
            width: "150%"
        });
        $(".select_states_add").select2({
            placeholder: "Select State",
            width: "150%",
            allowClear: true
        });
        $(".select_district_add").select2({
            placeholder: "Select District",
            width: "150%"
        });
        $(".select_district_add_1").select2({
            placeholder: "Select District",
            width: "150%"
        });


        $(".select_district_selected").select2({
            width: "150%"
        });

        function getAbsolutePath() {
            var loc = window.location;
            var pathName = loc.pathname.substring(0, loc.pathname.lastIndexOf('/') + 1);
            return loc.href.substring(0, loc.href.length - ((loc.pathname + loc.search + loc.hash).length - pathName.length));
        }

        $('[data-toggle="tooltip"]').tooltip({
            placement: 'right'
        });


        $("#reset").on("click", function(event) {
            $("#state_search_search").val('').trigger('change');
            $("#district_search").val('').trigger('change');
            $("#sector_search").val('').trigger('change');
            $("#ngo_type_search").val('').trigger('change');
        });



        $("#resetminschemes").on("click", function(event) {
            $("#ministry_search_schemes").val('').trigger('change');

        });
        $("#resetstateschemes").on("click", function(event) {
            $("#state_search_schemes").val('').trigger('change');

        });

    });
</script>

<script type="text/javascript">
    function checkpanservice() {
        $('.member_pan_status').hide();

        var csrf_test_name = get_csrf_token(); //$('#csrff').val();

        var pan = $("#member_pan_no").val();

        var regexpatt = /^([A-Z]{5,5}[0-9]{4,4}[A-Z]{1,1})$/;

        if (regexpatt.test(pan)) {
            $.blockUI({
                message: "<h4 style='margin: 10px 0;'><img  width='200px' height='150px' src='https://ngodarpan.gov.in/assets/images/server.gif' />Validating Pan Number</h4>",
                css: {
                    border: '0px',
                    width: '20%',
                    top: '30%'
                }
            });

            $.ajax({
                url: "https://ngodarpan.gov.in/index.php/ngo/get_status/P",
                type: "POST",
                crossDomain: true,
                beforeSend: function(request) {
                    request.setRequestHeader("Access-Control-Allow-Origin", "*");
                    request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                },
                async: true,
                complete: function() {
                    setTimeout($.unblockUI);
                },
                data: "pannumber=" + pan + "&csrf_test_name=" + csrf_test_name,
                success: function(data) {
                    var obj = jQuery.parseJSON(data);

                    if (obj['status'] == 1) {

                        var member_pan_name = $('#pan_name').val();
                        if (member_pan_name != '') {
                            var arr = member_pan_name.split(' ');
                            var f_name = arr[0].toUpperCase();
                            var m_name = arr[1].toUpperCase();
                            var l_name = arr[2].toUpperCase();
                        } else {
                            $('.member_pan_status').hide();
                            $('.member_pan_status').css('background-color', 'red');
                            $('.member_pan_status').show();
                            $('.member_pan_status').html('Pan Name/Pan Number not matching!');
                            $('#mem_pan_status').val('');
                            $('#mem_pan_datetime').val('');
                            $('#mem_pan_combined').val('');
                            return false;
                        }

                        if ((f_name == obj['first_name1'] && l_name == obj['last_name1'] && m_name == obj['middle_name1']) || (member_pan_name == obj['name_on_card'])) {
                            $('.member_pan_status').css('background-color', '#5bbd72');
                            $('.member_pan_status').show();
                            $('.member_pan_status').html('Pan Name & Pan Number validated Successfully!');
                            $('#mem_pan_status').val(obj['status']);
                            $('#mem_pan_datetime').val(obj['txn_dt']);
                            $('#mem_pan_combined').val(obj['combined']);
                            return true;
                        } else {
                            $('.member_pan_status').hide();
                            $('.member_pan_status').css('background-color', 'red');
                            $('.member_pan_status').show();
                            $('.member_pan_status').html('Pan Name/Pan Number not matching!');
                            $('#mem_pan_status').val('');
                            $('#mem_pan_datetime').val('');
                            $('#mem_pan_combined').val('');
                            return false;
                        }
                    } else {
                        $('.member_pan_status').css('background-color', 'red');
                        $('.member_pan_status').show();
                        $('.member_pan_status').html(obj['message']);
                        return false;
                    }

                }
            });
        } else {

            $('.member_pan_status').hide();

            $.blockUI({
                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Enter Valid Pan Number</h4>",
                css: {
                    border: '0px',
                    width: '20%',
                    top: '30%'
                }
            });

            setTimeout($.unblockUI, 1000);

            $("#member_pan_no").focus();

            return false;
        }
    }

    function checkUID() {
        $('.member_uid_status').hide();

        var csrf_test_name = get_csrf_token(); //$('#csrff').val();

        var uid = $("#member_adhar_no").val();

        var aname = $("#aadhaar_name").val();

        var Verhoeff = {
            "d": [
                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                [1, 2, 3, 4, 0, 6, 7, 8, 9, 5],
                [2, 3, 4, 0, 1, 7, 8, 9, 5, 6],
                [3, 4, 0, 1, 2, 8, 9, 5, 6, 7],
                [4, 0, 1, 2, 3, 9, 5, 6, 7, 8],
                [5, 9, 8, 7, 6, 0, 4, 3, 2, 1],
                [6, 5, 9, 8, 7, 1, 0, 4, 3, 2],
                [7, 6, 5, 9, 8, 2, 1, 0, 4, 3],
                [8, 7, 6, 5, 9, 3, 2, 1, 0, 4],
                [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
            ],
            "p": [
                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                [1, 5, 7, 6, 2, 8, 3, 0, 9, 4],
                [5, 8, 0, 3, 7, 9, 6, 1, 4, 2],
                [8, 9, 1, 6, 0, 4, 3, 5, 2, 7],
                [9, 4, 5, 3, 1, 2, 6, 8, 7, 0],
                [4, 2, 8, 6, 5, 7, 3, 9, 0, 1],
                [2, 7, 9, 3, 8, 0, 6, 4, 1, 5],
                [7, 0, 4, 6, 9, 1, 3, 2, 5, 8]
            ],
            "j": [0, 4, 3, 2, 1, 5, 6, 7, 8, 9],
            "check": function(str) {
                var c = 0;
                str.replace(/\D+/g, "").split("").reverse().join("").replace(/[\d]/g, function(u, i, o) {
                    c = Verhoeff.d[c][Verhoeff.p[i & 7][parseInt(u, 10)]];
                });
                //alert(c)
                return c;
                //return (c === 0);

            },
            "get": function(str) {

                var c = 0;
                str.replace(/\D+/g, "").split("").reverse().join("").replace(/[\d]/g, function(u, i, o) {
                    c = Verhoeff.d[c][Verhoeff.p[(i + 1) & 7][parseInt(u, 10)]];
                });
                //alert('d '+Verhoeff.j[c]);
                //alert(Verhoeff.j[c]);
                return Verhoeff.j[c];
            }
        };

        // Verhoeff algorithm validator, by Avraham Plotnitzky. (aviplot at gmail)
        String.prototype.verhoeffCheck = (function() {
            //alert("sdd");
            var d = [
                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                [1, 2, 3, 4, 0, 6, 7, 8, 9, 5],
                [2, 3, 4, 0, 1, 7, 8, 9, 5, 6],
                [3, 4, 0, 1, 2, 8, 9, 5, 6, 7],
                [4, 0, 1, 2, 3, 9, 5, 6, 7, 8],
                [5, 9, 8, 7, 6, 0, 4, 3, 2, 1],
                [6, 5, 9, 8, 7, 1, 0, 4, 3, 2],
                [7, 6, 5, 9, 8, 2, 1, 0, 4, 3],
                [8, 7, 6, 5, 9, 3, 2, 1, 0, 4],
                [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
            ];
            var p = [
                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                [1, 5, 7, 6, 2, 8, 3, 0, 9, 4],
                [5, 8, 0, 3, 7, 9, 6, 1, 4, 2],
                [8, 9, 1, 6, 0, 4, 3, 5, 2, 7],
                [9, 4, 5, 3, 1, 2, 6, 8, 7, 0],
                [4, 2, 8, 6, 5, 7, 3, 9, 0, 1],
                [2, 7, 9, 3, 8, 0, 6, 4, 1, 5],
                [7, 0, 4, 6, 9, 1, 3, 2, 5, 8]
            ];
            var j = [0, 4, 3, 2, 1, 5, 6, 7, 8, 9];

            return function() {
                var c = 0;
                this.replace(/\D+/g, "").split("").reverse().join("").replace(/[\d]/g, function(u, i, o) {
                    c = d[c][p[i & 7][parseInt(u, 10)]];
                });
                //alert(c);
                return (c === 0);
            };
        })();

        if (Verhoeff['check'](uid) == 0) {

            if (aname != '') {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='200px' height='150px' src='https://ngodarpan.gov.in/assets/images/server.gif' />Validating Aadhaar Number</h4>",
                    css: {
                        border: '0px',
                        width: '20%',
                        top: '30%'
                    }
                });

                $.ajax({
                    url: "https://ngodarpan.gov.in/index.php/ngo/get_status/A",
                    type: "POST",
                    crossDomain: true,
                    beforeSend: function(request) {
                        request.setRequestHeader("Access-Control-Allow-Origin", "*");
                    },
                    async: true,
                    complete: function() {
                        setTimeout($.unblockUI);
                    },
                    data: "aadhaarnumber=" + uid + "&aadhaarname=" + aname + "&csrf_test_name=" + csrf_test_name,
                    success: function(data) {
                        var obj = jQuery.parseJSON(data);
                        if (obj['status'] == 1) {
                            $('.member_uid_status').css('background-color', '#5bbd72');
                            $('.member_uid_status').show();
                            $('.member_uid_status').html('Aadhaar Name & Aadhaar Number validated Successfully!');
                            $('#aadhaar_status').val(obj['status']);





                            return true;

                        } else {
                            $('.member_uid_status').hide();
                            $('.member_uid_status').css('background-color', 'red');
                            $('.member_uid_status').show();
                            $('.member_uid_status').html('Aadhaar Name/Aadhaar Number Not match!');
                            $('#aadhaar_status').val('');





                            return false;
                        }
                    }
                });
            } else {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Enter Valid Aadhaar Name</h4>",
                    css: {
                        border: '0px',
                        width: '20%',
                        top: '30%'
                    }
                });

                setTimeout($.unblockUI, 1000);

                return false;
            }
        } else {

            $('.member_uid_status').hide();

            $.blockUI({
                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Enter Valid Aadhaar Number</h4>",
                css: {
                    border: '0px',
                    width: '20%',
                    top: '30%'
                }
            });

            setTimeout($.unblockUI, 1000);

            return false;
        }
    }

    $('#sandbox-container input').datepicker({
        format: 'dd-mm-yyyy',
        autoclose: true,
    });

    // $( 'ul.nav.nav-tabs  a' ).click(function( e ) {
    //      e.preventDefault();
    //      $( this ).tab( 'show' );
    // } );

    (function($) {
        fakewaffle.responsiveTabs(['xs', 'sm']);
    })(jQuery);

    // var hash = document.location.hash;
    // if (hash) {
    //     $('.ul.nav.nav-tabs a[href='+hash+']').tab('show');
    // } 

    // // Change hash for page-reload
    // $('.ul.nav.nav-tabs a').on('shown.bs.tab', function (e) {
    //     window.location.hash = e.target.hash;
    // });

    // (function( $ ) {
    //      fakewaffle.responsiveTabs( [ 'xs', 'sm' ] );
    // } )( jQuery );
</script>
<script>
    $(document).ready(function() {

        $('.refresh').on('click', function() {

            $.get("https://ngodarpan.gov.in/index.php/captcha/refresh", {}, function(data, status) {
                $('#captchaimagehere').html(data);
                $("#captcha").val('');
            });

        });

        $('.refresh1').on('click', function() {

            $.get("https://ngodarpan.gov.in/index.php/captcha/refresh_signup", {}, function(data, status) {
                $('#captchaimagehere1').html(data);
                $("#captcha1").val('');
            });

        });

        $('.refresh2').on('click', function() {
            $.get("https://ngodarpan.gov.in/index.php/captcha/refresh_pwd", {}, function(data, status) {
                $('#captchaimagehere2').html(data);
                $("#captcha2").val('');
            });

        });

        $('.refresh3').on('click', function() {
            $.get("https://ngodarpan.gov.in/index.php/captcha/contact_us", {}, function(data, status) {
                //alert(data);
                $('#captchaimagehere55').html(data);
                $("#captcha55").val('');
            });

        });

        $('.refresh11').on('click', function() {
            $.get("https://ngodarpan.gov.in/index.php/captcha/reload_captcha_signup_step1", {}, function(data, status) {
                $('#captchaimagehere11').html(data);
                $("#captcha11").val('');
            });

        });

        $('.refresh12').on('click', function() {
            $.get("https://ngodarpan.gov.in/index.php/captcha/reload_captcha_forget", {}, function(data, status) {
                $('#captchaimagehere12').html(data);
                $("#captcha12").val('');
            });

        });

        // $('input[type=radio]').on('change', function () {
        //     if (!this.checked) return
        //     $('.collapse').not($('div.' + $(this).attr('class'))).slideUp();
        //     $('.collapse.' + $(this).attr('class')).slideDown();
        // });

        // Start Member form input validation

        $('#loginForm')[0].reset();
        $('#regForm')[0].reset();
        $('#regForm2')[0].reset();
        $('#forgetForm')[0].reset();
        $('#login_regular').val("");
        $('#login_temp').val("");
        $("#register_btn1").prop("disabled", false);
        $("#register_btn2").prop("disabled", false);
        $("#register_btn3").prop("disabled", false);

        //$('#loginForm').find('input:text, input:password, select, textarea').val('');
        //$('#loginForm').find('input:radio, input:checkbox').prop('checked', false);


        if ($('#major_achievements').val()) {
            //trim the spaces in value
            $('textarea#major_achievements').html($('textarea#major_achievements').html().trim());
        }

        //$('#form-contact')[0].reset();

        $('[data-toggle="popover"]').popover();

        $(document).on('click', '.signup-tab', function(e) {
            e.preventDefault();
            $('#signup-taba').tab('show');
        });

        $(document).on('click', '.signin-tab', function(e) {
            e.preventDefault();
            $('#signin-taba').tab('show');
        });

        $(document).on('click', '.forgetpass-tab', function(e) {
            e.preventDefault();
            $('#forgetpass-taba').tab('show');
        });


        $("#loginForm").validator().on("submit", function(event) {
            if (event.isDefaultPrevented()) {
                //formError();
            } else {
                // everything looks good! 
                event.preventDefault();
                $("#login_btn").buttonLoader('start');
                //var csrf_test_name = get_csrf_token();

                var login_id = $('#login_id').val();
                var rand = "9XXpSpslREWYHh8z3G8nWIXBzsmeDqeD";
                var captcha_input = $('#captcha').val();
                var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();
                var password = $('#password').val();
                var pwd_hash = CryptoJS.HmacSHA256(password, "");
                var concat = pwd_hash + rand;
                var final_hash_val = CryptoJS.HmacSHA256(concat, "");
                $("#password").val(final_hash_val);

                $.ajax({
                    type: "POST",
                    url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/login",
                    beforeSend: function() {
                        $("#login_btn").buttonLoader('start');
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please Wait..</h4>",
                            css: {
                                border: '0px',
                                width: '26%',
                                top: '30%'
                            }
                        });
                    },
                    error: function(data, error) {
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                            css: {
                                border: '0px',
                                width: '40%',
                                top: '30%'
                            }
                        });
                        setTimeout($.unblockUI, 2000);
                        $("#login_btn").buttonLoader('stop');
                        return false;
                    },
                    data: "login_id=" + login_id + "&pwd=" + final_hash_val + "&captcha_input=" + captcha_input + "&csrf_test_name=" + csrf_test_name,
                    success: function(json) {

                        setTimeout($.unblockUI, 2000);

                        $("#login_btn").buttonLoader('stop');

                        var obj = jQuery.parseJSON(json);
                        var jsonString = JSON.stringify(json);
                        $('.temp_id').hide();
                        $('.login_exist').hide();
                        $('.captcha_error').hide();

                        if (obj['login_status'] == 0) {
                            $("#password").val('');
                            $('.captcha_error').show();

                            $.get("https://ngodarpan.gov.in/index.php/captcha/refresh", {}, function(data, status) {
                                $('#captchaimagehere').html(data);
                                $("#captcha1").val('');
                            });
                            return false;
                        } else {
                            $('.captcha_error').hide();
                        }

                        if (obj['success'] == 0) {

                            $.get("https://ngodarpan.gov.in/index.php/captcha/refresh", {}, function(data, status) {
                                $('#captchaimagehere').html(data);
                                $("#captcha1").val('');
                            });
                            $("#password").val('');
                            // $.blockUI({ message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>", css: { border: '0px',width: '18%',top: '30%'}});

                            // setTimeout($.unblockUI, 2000);

                            if (obj['errors']['login_id_empty'] == 'Please Enter Login ID!') {
                                $('.login_id_error').show();
                            } else {
                                $('.login_id_error').hide();
                            }

                            if (obj['errors']['pwd_empty'] == 'Please Enter Password!') {
                                $('.password_error').show();
                            } else {
                                $('.password_error').hide();
                            }

                            if (obj['errors']['login_captcha_empty'] == 'Please Enter Security Code!') {
                                $('.captcha_error').show();
                            } else {
                                $('.captcha_error').hide();
                            }

                            if (jsonString.indexOf("temp_id") > -1) {
                                $('.login_exist').show();
                            } else {
                                //if (jsonString .indexOf("login_exist") > -1){
                                $('.login_exist').show();
                                $('.forget-link').show();
                                $('.login-otp-link').show();
                            }
                        } else {

                            if (obj['login_status'] == 1) {

                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Logging  in !</h4>",
                                    css: {
                                        border: '0px',
                                        width: '36%',
                                        top: '30%'
                                    }
                                });

                                setTimeout(function() {
                                    $.unblockUI({
                                        onUnblock: function() {
                                            var url = "https://ngodarpan.gov.in/index.php/ngo/progress";
                                            $(location).attr('href', url);
                                        }
                                    });
                                }, 2000);

                            } else {
                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Close Window and Try Again!</h4>",
                                    css: {
                                        border: '0px',
                                        width: '40%',
                                        top: '30%'
                                    }
                                });
                            }
                        }

                        return false;
                    }
                });
            }
        });

        // Step 1 of Reg form
        $("#regForm").validator().on("submit", function(event) {
            if (event.isDefaultPrevented()) {
                // handle the invalid form...
                //formError();
                //submitMSG(false, "Did you fill in the form properly?");
            } else {
                // everything looks good!
                event.preventDefault();

                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait..</h4>",
                    css: {
                        border: '0px',
                        width: '26%',
                        top: '30%'
                    }
                });

                $("#signup_otp_error").html('');
                //$(".signup_otp_sent_msg").show();

                $('.otp_status_mobile').html('');
                $('.otp_status_mobile').hide();
                $('.otp_status_email').html('');
                $('.otp_status_email').hide();

                $("#register_btn").buttonLoader('start');
                var key = $('#key').val();
                var ngo_name = Aes.Ctr.encrypt($('#ngo_name').val(), key, 256);
                var mobile = Aes.Ctr.encrypt($('#mobile').val(), key, 256);
                var email = Aes.Ctr.encrypt($('#email').val(), key, 256);
                var captcha_input = Aes.Ctr.encrypt($('#captcha11').val(), key, 256);
                var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();
                $.ajax({
                    type: "POST",
                    // beforeSend: function() {
                    //      $("#register_btn").buttonLoader('stop');
                    // },
                    beforeSend: function() {
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Generating Mobile OTP & Email OTP</h4>",
                            css: {
                                border: '0px',
                                width: '26%',
                                top: '30%'
                            }
                        });
                    },
                    error: function(data, error) {
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                            css: {
                                border: '0px',
                                width: '40%',
                                top: '30%'
                            }
                        });
                        setTimeout($.unblockUI, 2000);
                        $("#register_btn").buttonLoader('stop');
                        return false;
                    },
                    url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/generate_otp",
                    data: "ngo_name=" + ngo_name + "&email=" + email + "&mobile=" + mobile + "&csrf_test_name=" + csrf_test_name + "&key=" + key + "&captcha_input=" + captcha_input,
                    // data: $('#regForm').serialize(),
                    success: function(json) {

                        var obj = jQuery.parseJSON(json);

                        var jsonString = JSON.stringify(json);

                        setTimeout($.unblockUI, 2000);

                        $("#register_btn").buttonLoader('stop');
                        //return false;
                        if (obj['success'] == 0) {
                            $.get("https://ngodarpan.gov.in/index.php/captcha/reload_captcha_signup_step1", {}, function(data, status) {
                                $('#captchaimagehere11').html(data);
                                $("#captcha11").val('');
                            });


                            if (obj['errors']['attempt_limit_exceeded'] != '') {
                                $('#signup_otp_error').html(obj['errors']['attempt_limit_exceeded']);
                            } else {
                                $('#signup_otp_error').html('');
                            }


                            if (obj['errors']['ngo_name_empty'] == 'Please Enter Ngo Name!') {

                                $('.ngo_name_empty').show();
                            } else {
                                $('.ngo_name_empty').hide();
                            }

                            if (obj['errors']['ngo_name_valid'] == 'Enter valid Ngo Name that contains valid characters!') {

                                $('.ngo_name_valid').show();
                            } else {
                                $('.ngo_name_valid').hide();
                            }

                            if (obj['errors']['ngo_name_char_length'] == 'Enter valid Ngo Name with valid length') {

                                $('.ngo_name_char_length').show();
                            } else {
                                $('.ngo_name_char_length').hide();
                            }

                            if (obj['errors']['mobile_empty'] == 'Please Enter Mobile!') {
                                $('.mobile_empty').show();
                            } else {
                                $('.mobile_empty').hide();
                            }

                            if (obj['errors']['mobile_valid'] == 'Enter valid Mobile Number that contains valid 10 Numeric Character without "0" & "91"!') {

                                $('.mobile_valid').show();
                            } else {
                                $('.mobile_valid').hide();
                            }


                            if (obj['errors']['email_empty'] == 'Please Enter Email!') {
                                $('.email_empty').show();
                            } else {
                                $('.email_empty').hide();
                            }

                            if (obj['errors']['email_valid'] == 'Please enter a valid email!') {
                                $('.email_valid').show();
                            } else {
                                $('.email_valid').hide();
                            }

                            if (obj['errors']['captcha_error'] == 'Security code was not match, please try again!') {
                                $('.captcha_error11').show();
                            } else {
                                $('.captcha_error11').hide();
                            }

                            // if (jsonString .indexOf("ngo_name") > -1){
                            //      $('.db_check_ngo').show();
                            // }
                            // else
                            // {
                            //      $('.db_check_ngo').hide();
                            // }

                            if (jsonString.indexOf("mobile") > -1) {
                                $('.db_check_mobile').show();
                            } else {
                                $('.db_check_mobile').hide();
                            }

                            if (jsonString.indexOf("email") > -1) {
                                $('.db_check_email').show();
                            } else {
                                $('.db_check_email').hide();
                            }
                        } else {
                            var returned_data = obj['otp_status'];

                            if (returned_data == 0) {
                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                    css: {
                                        border: '0px',
                                        width: '18%',
                                        top: '30%'
                                    }
                                });
                                setTimeout($.unblockUI, 2000);
                            } else {
                                var decoded_string = Base64.decode(returned_data);
                                var returned_data_arr = decoded_string.split('-');

                                var otp_for_mobile = returned_data_arr[0];
                                var otp_for_email = returned_data_arr[2];
                                var status = returned_data_arr[1];

                                //Temporary set this variable for testing purpose
                                var status = 1;

                                //1-OTP delivered successfuly
                                if (status == 1) {
                                    //$("#register_btn").prop("disabled",true);

                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                                        css: {
                                            border: '0px',
                                            width: '18%',
                                            top: '30%'
                                        }
                                    });

                                    setTimeout(function() {
                                        $.unblockUI({
                                            onUnblock: function() {
                                                $('#ngo_name2').val($('#ngo_name').val());
                                                $('#ngoo_pan_name').val($('#ngo_name').val());
                                                $('#mobile2').val($('#mobile').val());
                                                $('#email2').val($('#email').val());
                                                $('#dummy_otp_mobile').html(otp_for_email);
                                                $('#dummy_otp_email').html(otp_for_email);
                                                $('#hidden_email_otp').val(otp_for_email);
                                                $('#hidden_mob_otp').val(otp_for_email);
                                                $('#signup_otp_id').val(otp_for_mobile);
                                                $("#regForm").hide();
                                                $("#ngo_name2").prop("disabled", true);
                                                $("#mobile2").prop("disabled", true);
                                                $("#email2").prop("disabled", true);
                                                $("#dp1Icon").addClass("hidden");
                                                $("#dp1Icon_blocked").removeClass("hidden");
                                                $("#dp2Icon").addClass("hidden");
                                                $("#dp2Icon_blocked").removeClass("hidden");
                                                $("#dp3Icon").addClass("hidden");
                                                $("#dp3Icon_blocked").removeClass("hidden");
                                                $("#regForm2").show();
                                            }
                                        });
                                    }, 2000);

                                }
                                //0-OTP delivery failed
                                else if (status == 2) {

                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                                        css: {
                                            border: '0px',
                                            width: '18%',
                                            top: '30%'
                                        }
                                    });

                                    setTimeout(function() {
                                        $.unblockUI({
                                            onUnblock: function() {

                                                $.blockUI({
                                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Some errors occurred while processing your request....Re-try again</h4>",
                                                    css: {
                                                        border: '0px',
                                                        width: '36%',
                                                        top: '30%'
                                                    }
                                                });

                                                setTimeout($.unblockUI, 3000);
                                            }
                                        });
                                    }, 2000);
                                }
                                //2-OTP taking too long / or no response being received
                                else {
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                                        css: {
                                            border: '0px',
                                            width: '18%',
                                            top: '30%'
                                        }
                                    });

                                    setTimeout(function() {
                                        $.unblockUI({
                                            onUnblock: function() {

                                                $.blockUI({
                                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Its taking too long to get the reponse .. Pls wait ..do not refresh / close the window</h4>",
                                                    css: {
                                                        border: '0px',
                                                        width: '40%',
                                                        top: '30%'
                                                    }
                                                });

                                                setTimeout(function() {
                                                    $.unblockUI({
                                                        onUnblock: function() {
                                                            $.blockUI({
                                                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Request could not be completed...Please try again</h4>",
                                                                css: {
                                                                    border: '0px',
                                                                    width: '36%',
                                                                    top: '30%'
                                                                }
                                                            });
                                                            setTimeout($.unblockUI, 3000);
                                                        }
                                                    });
                                                }, 2000);


                                            }
                                        });
                                    }, 2000);
                                }
                            }
                        }
                    }
                });
            }
        });

        // Step 1 of Reg form
        $("#regForm2").validator().on("submit", function(event) {
            if (event.isDefaultPrevented()) {
                // handle the invalid form...
                formError();
                //submitMSG(false, "Did you fill in the form properly?");
            } else {
                // everything looks good!
                event.preventDefault();

                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });

                $("#register_btn3").buttonLoader('start');
                var key = $('#key').val();

                var mobile_otp = Aes.Ctr.encrypt($('#mob_otp').val(), key, 256);
                var email_otp = Aes.Ctr.encrypt($('#email_otp').val(), key, 256);
                var ngo_name2 = Aes.Ctr.encrypt($('#ngo_name2').val(), key, 256);

                var mobile2 = Aes.Ctr.encrypt($('#mobile2').val(), key, 256);
                var email2 = Aes.Ctr.encrypt($('#email2').val(), key, 256);


                var org_pan = $('#org_pan').val();

                var org_pann = Aes.Ctr.encrypt($('#org_pan').val(), key, 256);
                var ngoo_pan_name = $('#ngoo_pan_name').val();

                ngoo_pan_name = ngoo_pan_name.replace(/ +(?= )/g, '');
                ngoo_pan_name = ngoo_pan_name.toUpperCase();

                var ngooo_pan_name = Aes.Ctr.encrypt(ngoo_pan_name, key, 256);

                var org_pan_terms_check = $('#org_pan_terms_check').val();

                var mobile_otp_hidden = Aes.Ctr.encrypt($('#hidden_mob_otp').val(), key, 256);
                var email_otp_hidden = Aes.Ctr.encrypt($('#hidden_email_otp').val(), key, 256);

                var captcha_input = Aes.Ctr.encrypt($('#captcha1').val(), key, 256);

                if ($("#org_pan_terms_check").is(":checked")) {
                    var check = Aes.Ctr.encrypt('1', key, 256);
                } else {
                    var check = Aes.Ctr.encrypt('0', key, 256);
                }

                var csrf_test_name = get_csrf_token();
                $.ajax({
                    type: "POST",
                    beforeSend: function() {
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                            css: {
                                border: '0px',
                                width: '18%',
                                top: '30%'
                            }
                        });
                    },
                    error: function(data, error) {
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                            css: {
                                border: '0px',
                                width: '40%',
                                top: '30%'
                            }
                        });
                        setTimeout($.unblockUI, 2000);
                        $("#register_btn3").buttonLoader('stop');
                        return false;
                    },
                    url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/save_register",
                    data: "ngo_name=" + ngo_name2 + "&email=" + email2 + "&mobile=" + mobile2 + "&hidden_mob_otp=" + mobile_otp_hidden + "&hidden_email_otp=" + email_otp_hidden + "&email_otp=" + email_otp + "&mobile_otp=" + mobile_otp + "&org_pan=" + org_pann + "&captcha_input=" + captcha_input + "&csrf_test_name=" + csrf_test_name + "&ngo_pan_name=" + ngooo_pan_name + "&org_pan_terms_check=" + check,
                    success: function(json) {
                        $("#register_btn3").buttonLoader('stop');
                        setTimeout($.unblockUI);
                        var obj = jQuery.parseJSON(json);
                        var jsonString = JSON.stringify(json);

                        if (obj['reg_status'] == 0) {
                            $.get("https://ngodarpan.gov.in/index.php/captcha/refresh_signup", {}, function(data, status) {
                                $('#captchaimagehere1').html(data);
                                $("#captcha1").val('');
                            });

                            $('.otp_enter_mobile').hide();
                            $('.otp_status_mobile').hide();
                            $('.org_pan_terms_check_error').hide();
                            $('.otp_status_email').hide();
                            $('.org_pan_enter').hide();
                            $('.org_pan_valid').hide();
                            $('.ngoo_pan_status').hide();
                            $('.org_pan_status').hide();
                            $('.ngoo_pan_status').hide();
                            $('.captcha_error1').show();
                            return false;
                        } else {

                            $('.captcha_error1').hide();
                        }

                        if (obj['success'] == 1) {
                            $('.org_pan_status').hide();
                            $("#register_btn3").buttonLoader('start');
                            var csrf_test_name = get_csrf_token();
                            var check_for_valid_pan = '';
                            var ngoname2 = $('#ngo_name2').val();
                            var mykeyval = {
                                pannumber: org_pann,
                                csrf_test_name: csrf_test_name,
                                org_name: ngoname2,
                                pan_name: ngoo_pan_name
                            };

                            $('.ngoo_pan_status').hide();

                            $.ajax({
                                url: "https://ngodarpan.gov.in/index.php/ngo/get_status/P/C",
                                type: "POST",
                                crossDomain: true,
                                beforeSend: function(request) {
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait..</h4>",
                                        css: {
                                            border: '0px',
                                            width: '26%',
                                            top: '30%'
                                        }
                                    });
                                    //Testing purpose
                                    setTimeout($.unblockUI, 2000);
                                },
                                error: function(data) {
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                        css: {
                                            border: '0px',
                                            width: '40%',
                                            top: '30%'
                                        }
                                    });
                                    setTimeout($.unblockUI, 2000);
                                    $("#register_btn3").buttonLoader('stop');
                                    return false;
                                },

                                data: mykeyval,
                                success: function(data) {
                                    $("#register_btn3").buttonLoader('stop');
                                    var obj1 = jQuery.parseJSON(data);
                                    var ajax_name = $.trim(obj1['last_name1']);
                                    setTimeout($.unblockUI, 2000);

                                    $("#register_btn3").buttonLoader('stop');

                                    if (obj1['status'] == 1) {
                                        if (ngoo_pan_name == '') {
                                            check_for_valid_pan = 0;

                                            $.get("https://ngodarpan.gov.in/index.php/captcha/refresh_signup", {}, function(data, status) {
                                                $('#captchaimagehere1').html(data);
                                                $("#captcha1").val('');
                                            });

                                            $('.ngoo_pan_status').hide();
                                            $('.ngoo_pan_status').css('background-color', 'red');
                                            $('.ngoo_pan_status').show();
                                            $('.ngoo_pan_status').html('Pan Name/Pan Number Not match!');
                                            $('#ngooo_pan_status').val('');
                                            $('#ngooo_pan_datetime').val('');
                                            $('#ngooo_pan_combined').val('');
                                        }
                                        //alert(ajax_name);

                                        //alert(ngoo_pan_name);

                                        //return false;
                                        if (ajax_name === $.trim(ngoo_pan_name)) {
                                            check_for_valid_pan = 1;

                                            $('.ngoo_pan_status').css('background-color', '#5bbd72');
                                            $('.ngoo_pan_status').show();
                                            $('.ngoo_pan_status').html('Pan Name & Pan Number validated Successfully!');
                                            $('#ngooo_pan_status').val(obj1['status']);
                                            $('#ngooo_pan_datetime').val(obj1['txn_dt']);
                                            $('#ngooo_pan_combined').val(obj1['combined']);
                                        } else {
                                            $.get("https://ngodarpan.gov.in/index.php/captcha/refresh_signup", {}, function(data, status) {
                                                $('#captchaimagehere1').html(data);
                                                $("#captcha1").val('');
                                            });

                                            check_for_valid_pan = 0;
                                            $('.ngoo_pan_status').hide();
                                            $('.ngoo_pan_status').css('background-color', 'red');
                                            $('.ngoo_pan_status').show();
                                            $('.ngoo_pan_status').html('Pan Name/Pan Number Not match!');
                                            $('#ngooo_pan_status').val('');
                                            $('#ngooo_pan_datetime').val('');
                                            $('#ngooo_pan_combined').val('');
                                            //return false;
                                        }
                                    } else if (obj1['status'] == 2) {
                                        $('.ngoo_pan_status').html('Pan Verified Online Already!');
                                        $('.ngoo_pan_status').show();
                                    } else if (obj1['status'] == 5) {
                                        $.blockUI({
                                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Close the Window OR Referesh Page, Try Again !</h4>",
                                            css: {
                                                border: '0px',
                                                width: '26%',
                                                top: '30%'
                                            }
                                        });
                                        //setTimeout($.unblockUI, 4000);
                                    } else {
                                        check_for_valid_pan = 0;
                                        $('.ngoo_pan_status').css('background-color', 'red');
                                        $('.ngoo_pan_status').show();
                                        $('.ngoo_pan_status').html(obj1['message']);
                                        //return false;
                                    }
                                },
                                async: false
                            });

                            if (check_for_valid_pan == 1) {
                                $("#register_btn3").buttonLoader('start');
                                var csrf_test_name = get_csrf_token();
                                $.ajax({
                                    type: "POST",
                                    beforeSend: function() {
                                        $.blockUI({
                                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                                            css: {
                                                border: '0px',
                                                width: '18%',
                                                top: '30%'
                                            }
                                        });
                                    },
                                    error: function(data, error) {
                                        $.blockUI({
                                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                            css: {
                                                border: '0px',
                                                width: '40%',
                                                top: '30%'
                                            }
                                        });
                                        setTimeout($.unblockUI, 2000);
                                        $("#register_btn3").buttonLoader('stop');
                                        return false;
                                    },
                                    url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/save_f_register",
                                    data: "ngo_name=" + ngo_name2 + "&email=" + email2 + "&mobile=" + mobile2 + "&hidden_mob_otp=" + mobile_otp_hidden + "&hidden_email_otp=" + email_otp_hidden + "&email_otp=" + email_otp + "&mobile_otp=" + mobile_otp + "&org_pan=" + org_pann + "&captcha_input=" + captcha_input + "&csrf_test_name=" + csrf_test_name + "&ngo_pan_name=" + ngooo_pan_name + "&org_pan_terms_check=" + check,
                                    success: function(json) {
                                        $("#register_btn3").buttonLoader('stop');
                                        setTimeout($.unblockUI, 2000);
                                        var obj = jQuery.parseJSON(json);
                                        var jsonString = JSON.stringify(json);

                                        if (obj['reg_final_status'] == 1) {
                                            $('#request_key_p').val(obj['request_key_p']);

                                            $('#ngo_name3').val(ngo_name2);
                                            $('#mobile3').val(mobile2);
                                            $('#email3').val(email2);
                                            $('#pan_ngo').val(org_pan);
                                            $("#regForm2").hide();
                                            $("#ngo_name3").prop("disabled", true);
                                            $("#mobile3").prop("disabled", true);
                                            $("#email3").prop("disabled", true);
                                            $("#pan_ngo").prop("disabled", true);
                                            $("#dp4Icon").addClass("hidden");
                                            $("#dp4Icon_blocked").removeClass("hidden");
                                            $("#dp5Icon").addClass("hidden");
                                            $("#dp5Icon_blocked").removeClass("hidden");
                                            $("#dp6Icon").addClass("hidden");
                                            $("#dp6Icon_blocked").removeClass("hidden");
                                            $("#dp7Icon").addClass("hidden");
                                            $("#dp7Icon_blocked").removeClass("hidden");
                                            $("#passwordForm").show();
                                        }
                                    },
                                });
                            } else {
                                return false;
                            }
                        } else {

                            $('.ngoo_pan_status').hide();
                            $('#ngooo_pan_status').val('');
                            $('#ngooo_pan_datetime').val('');
                            $('#ngooo_pan_combined').val('');

                            $('.signup-resend-otp-link').hide();

                            if (obj['errors']['mobileotp'] == 'Please Enter Mobile OTP') {
                                $('.otp_enter_mobile').show();
                            } else {
                                $('.otp_enter_mobile').hide();
                            }

                            if (jsonString.indexOf("mob_otp_status") > -1) {
                                if (obj['errors']['mob_otp_status'] == 'OTP has been Expired now') {
                                    $('#style_email_otp').css('margin', '19px 0px 14px -187px');
                                    $('.otp_status_mobile').html("OTP has been Expired, Click on Resend for New OTP");
                                    $('#mob_otp').val('');
                                    $('#email_otp').val('');
                                    $('.otp_status_mobile').show();
                                    $('.signup-resend-otp-link').show();
                                } else if (obj['errors']['mob_otp_status'] == 'You have exceeding Maximum limit of entering OTP, Please try after some time!') {
                                    $('.otp_status_mobile').html(obj['errors']['mob_otp_status']);
                                    $('.otp_status_mobile').show();
                                    var url = "https://ngodarpan.gov.in/index.php/home";
                                    setTimeout(function() {
                                        $(location).attr('href', url);
                                    }, 4000);

                                } else {
                                    $('#mob_otp').val('');
                                    $('.otp_status_mobile').html(obj['errors']['mob_otp_status']);
                                    $('.otp_status_mobile').show()

                                }
                            } else {
                                $('.otp_status_mobile').html('');
                                $('.otp_status_mobile').hide();
                            }

                            if (jsonString.indexOf("email_otp_status") > -1) {
                                if (obj['errors']['email_otp_status'] == 'OTP has been Expired now' || obj['errors']['email_otp_status'] == 'Please Enter Valid OTP') {
                                    $('#email_otp').val('');
                                    $('.otp_status_email').html(obj['errors']['email_otp_status']);
                                    $('.otp_status_email').show()

                                }
                            } else {
                                $('.otp_status_email').html('');
                                $('.otp_status_email').hide();
                            }

                            if (obj['errors']['emailotp'] == 'Please Enter Email OTP') {
                                $('.otp_enter_email').show();

                            } else {
                                $('.otp_enter_email').hide();
                            }

                            if (jsonString.indexOf("org_pan_terms_check_error") > -1) {
                                $('.org_pan_terms_check_error').show();
                                $('.org_pan_terms_check_error').html(obj['errors']['org_pan_terms_check_error']);
                            } else {
                                $('.org_pan_terms_check_error').html('');
                                $('.org_pan_terms_check_error').hide();
                            }

                            if (jsonString.indexOf("email_otp_status") > -1) {
                                if (obj['errors']['email_otp_status'] == 'OTP has been Expired now') {
                                    $('#style_email_otp').css('margin', '19px 0px 14px -187px');
                                    $('.otp_status_email').html("OTP has been Expired, Click on Resend for New OTP");
                                    $('.otp_status_email').show();
                                    $('.signup-resend-otp-link').show();
                                } else if (obj['errors']['email_otp_status'] == 'You have exceeding Maximum limit of entering OTP, Please try after some time!') {
                                    $('.otp_status_email').html(obj['errors']['email_otp_status']);
                                    $('.otp_status_email').show();
                                    var url = "https://ngodarpan.gov.in/index.php/home";
                                    setTimeout(function() {
                                        $(location).attr('href', url);
                                    }, 4000);

                                } else {
                                    $('.otp_status_email').html(obj['errors']['email_otp_status']);
                                    $('.otp_status_email').show()
                                }
                            } else {
                                $('.otp_status_email').html('');
                                $('.otp_status_email').hide();
                            }

                            if (obj['errors']['orgpan'] == 'Please Enter ORG PAN') {
                                $('.org_pan_enter').show();

                            } else {
                                $('.org_pan_enter').hide();
                            }

                            if (obj['errors']['org_pan_valid'] == 'Org Pan is not in correct format!') {
                                $('.ngoo_pan_status').hide();
                                $('.org_pan_valid').show();

                            } else {
                                $('.org_pan_valid').hide();
                            }


                            if (jsonString.indexOf("org_pan_status") > -1) {
                                $('.org_pan_status').hide();
                                $('.org_pan_status').html(obj['errors']['org_pan_status']);
                                $('.org_pan_status').show();
                            } else {
                                $('.org_pan_status').html('');
                                $('.org_pan_status').hide();
                            }

                            if (jsonString.indexOf("orgpanname") > -1) {
                                $('.org_pan_name_error').html(obj['errors']['orgpanname']);
                                $('.org_pan_name_error').show();
                            } else {
                                $('.org_pan_name_error').html('');
                                $('.org_pan_name_error').hide();
                            }

                            $.get("https://ngodarpan.gov.in/index.php/captcha/refresh_signup", {}, function(data, status) {
                                $('#captchaimagehere1').html(data);
                                $("#captcha1").val('');
                            });
                        }
                    }
                });
            }
        });

        $("#unable_login").on("click", function(event) {
            event.preventDefault();
            $('#loginForm')[0].reset();
            $('#regForm')[0].reset();
            $('#regForm2')[0].reset();
            $('#passwordForm')[0].reset();
            $('.temp_id').hide();
            $('.login_exist').hide();
            $('.captcha_error').hide();
            $('#forgetpass-taba').tab('show');
        });

        $(".login").on("click", function(event) {
            event.preventDefault();
            $('#signup_otp_error').html('');
            $('#loginForm')[0].reset();
            $('#regForm')[0].reset();
            $('#regForm2')[0].reset();
            $('#passwordForm')[0].reset();
            $('#forgetForm')[0].reset();
            $('#forgetForm2old')[0].reset();
            $('#login_otp_form')[0].reset();
            $('#login_otp_form2')[0].reset();
            $('#forgetForm').show();
            $('#loginForm').show();
            $('#regForm').show();

        });

        $(".forget-link").on("click", function(event) {
            event.preventDefault();
            $('#loginForm')[0].reset();
            $('#regForm')[0].reset();
            $('#regForm2')[0].reset();
            $('#passwordForm')[0].reset();
            $('.temp_id').hide();
            $('.login_exist').hide();
            $('.captcha_error').hide();
            $('.forget-link').hide();
            $('.login-otp-link').hide();
            $('#forgetpass-taba').tab('show');
            $("#attempt_limit").html('');
        });

        $(".login-otp-link").on("click", function(event) {
            event.preventDefault();
            $('#loginForm')[0].reset();
            $('#regForm')[0].reset();
            $('#regForm2')[0].reset();
            $('#passwordForm')[0].reset();
            $('.temp_id').hide();
            $('.login_exist').hide();
            $('.captcha_error').hide();
            $('.forget-link').hide();
            $('.login-otp-link').hide();
            $('#loginForm').hide();
            $('#login_otp_form').show();
        });

        $("#login_otp_form").validator().on("submit", function(event) {

            if (event.isDefaultPrevented()) {
                //formError();
            } else {
                event.preventDefault();
                // $("#login_otp_form_btn").buttonLoader('start');
                var reg_alt_mobile = $('#reg_alt_mobile').val();
                var phoneno = /^\d{10}$/;
                $('.reg_alt_account_not_exist').hide();
                if ((reg_alt_mobile.match(phoneno))) {
                    $('.invalid_mobile_error').hide();
                    var csrf_test_name = get_csrf_token();

                    // $("#login_otp_form_btn").buttonLoader('start');
                    $.ajax({
                        type: "POST",
                        beforeSend: function() {
                            $("#login_otp_form_btn").buttonLoader('start');
                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please Wait..</h4>",
                                css: {
                                    border: '0px',
                                    width: '26%',
                                    top: '30%'
                                }
                            });
                        },
                        error: function(data, error) {
                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                css: {
                                    border: '0px',
                                    width: '40%',
                                    top: '30%'
                                }
                            });
                            setTimeout($.unblockUI, 2000);
                            $("#login_otp_form_btn").buttonLoader('stop');
                            return false;
                        },
                        url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/loginotp",
                        data: "reg_alt_mobile=" + reg_alt_mobile + "&csrf_test_name=" + csrf_test_name,
                        complete: function() {
                            $("#login_otp_form_btn").buttonLoader('stop');
                        },
                        success: function(json) {

                            setTimeout($.unblockUI, 2000);

                            $("#login_otp_form_btn").buttonLoader('stop');

                            var obj = jQuery.parseJSON(json);

                            var jsonString = JSON.stringify(json);
                            if (obj['success'] == 0) {
                                if (jsonString.indexOf("reg_mobile_not_exist") > -1) {
                                    $('.reg_alt_account_not_exist').show();
                                }

                                return false;
                            } else {
                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />We have Sent OTP to your Registered Mobile!</h4>",
                                    css: {
                                        border: '0px',
                                        width: '40%',
                                        left: '20%',
                                        top: '30%'
                                    }
                                });

                                setTimeout($.unblockUI, 3000);

                                $("#alt_hidden_mobile").val(obj['result']['Mobile']);
                                $('#login_otp_form')[0].reset();
                                $('#login_otp_form').hide();
                                $('#login_otp_form2').show();
                            }
                        }

                        //return false;
                    });
                } else {
                    $('.invalid_mobile_error').show();
                    return false;
                }
            }
        });

        $("#login_otp_form2").validator().on("submit", function(event) {

            if (event.isDefaultPrevented()) {
                //formError();
            } else {
                event.preventDefault();
                // $("#login_otp_form2_btn").buttonLoader('start');
                var alt_mob_otp = $('#alt_mob_otp').val();
                var fdsfdsfdsfsd = $('#login_otp_id').val();
                var alt_hidden_mobile = $('#alt_hidden_mobile').val();
                var otp_type = $('#login_otp_type').val();

                var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();

                //return false;
                $('.login_otp_sent_msg').hide()
                $('.otp_not_exist').hide();

                $.ajax({
                    type: "POST",
                    beforeSend: function() {
                        $("#login_otp_form2_btn").buttonLoader('start');
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please Wait..</h4>",
                            css: {
                                border: '0px',
                                width: '26%',
                                top: '30%'
                            }
                        });
                    },
                    url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/authenticateloginotp",
                    error: function(data, error) {
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                            css: {
                                border: '0px',
                                width: '40%',
                                top: '30%'
                            }
                        });
                        setTimeout($.unblockUI, 2000);
                        $("#login_otp_form2_btn").buttonLoader('stop');
                        return false;
                    },
                    data: "fdsfdsfdsfsd=" + fdsfdsfdsfsd + "&alt_mob_otp=" + alt_mob_otp + "&alt_hidden_mobile=" + alt_hidden_mobile + "&csrf_test_name=" + csrf_test_name + "&otp_type=" + otp_type,
                    success: function(json) {
                        var obj = jQuery.parseJSON(json);
                        var jsonString = JSON.stringify(json);

                        setTimeout($.unblockUI, 2000);

                        $("#login_otp_form2_btn").buttonLoader('stop');

                        if (obj['otp_status'] == 1) {
                            $('#loginForm')[0].reset();
                            $('#regForm')[0].reset();
                            $('#regForm2')[0].reset();
                            $('#passwordForm')[0].reset();
                            $('#forgetForm')[0].reset();
                            $('#forgetForm2old')[0].reset();
                            $('#login_otp_form')[0].reset();
                            $('#login_otp_form2')[0].reset();
                            $('#login_otp_form').hide();
                            $('#login_otp_form2').hide();
                            $('#loginForm').show();

                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' /> Logging  into account!</h4>",
                                css: {
                                    border: '0px',
                                    width: '36%',
                                    top: '30%'
                                }
                            });

                            setTimeout(function() {
                                $.unblockUI({
                                    onUnblock: function() {
                                        var url = "https://ngodarpan.gov.in/index.php/ngo/progress";
                                        $(location).attr('href', url);
                                    }
                                });
                            }, 4000);
                        } else {
                            //$('.otp_not_exist').show();
                            if (jsonString.indexOf("invalid_alt_phone_otp") > -1) {
                                if (obj['errors']['invalid_alt_phone_otp'] == 'OTP has been Expired now') {
                                    $('.otp_not_exist').css('margin:', '0px 0px 14px 0px');
                                    $('#alt_mob_otp').val('');
                                    $('.otp_not_exist').html("OTP has been Expired, Click on Resend for New OTP");
                                    $('.otp_not_exist').show();
                                    // $('.resend-otp-link').show();
                                } else if (obj['errors']['invalid_alt_phone_otp'] == 'You have exceeding Maximum limit of entering OTP, Please try after some time!') {
                                    $('.otp_not_exist').css('margin:', '0px 0px 14px 0px');
                                    $('#alt_mob_otp').val('');
                                    // $('.invalid_email_phone_otp').css('margin-left:', '0px');
                                    $('.otp_not_exist').html(obj['errors']['invalid_alt_phone_otp']);
                                    $('.otp_not_exist').show();

                                    var url = "https://ngodarpan.gov.in/index.php/home";
                                    setTimeout(function() {
                                        $(location).attr('href', url);
                                    }, 4000);
                                } else {
                                    $('.otp_not_exist').css('margin:', '0px 0px 14px 0px');
                                    $('#alt_mob_otp').val('');
                                    $('.otp_not_exist').html(obj['errors']['invalid_alt_phone_otp']);
                                    $('.otp_not_exist').show();
                                }

                            } else {
                                $('.otp_not_exist').html('');
                                $('.otp_not_exist').hide();
                            }
                        }
                    }
                });
            }
        });

        $("#forgetForm").validator().on("submit", function(event) {
            if (event.isDefaultPrevented()) {
                // handle the invalid form...
                //formError();
                //submitMSG(false, "Did you fill in the form properly?");
            } else {
                // everything looks good! 
                event.preventDefault();
                // $("#forgetForm_btn").buttonLoader('start');
                var inputvalue = $('#femail').val();
                var captcha_input = $('#captcha12').val();
                $("#attempt_limit").html('');
                if (isNaN(inputvalue)) {
                    var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                    if (inputvalue.match(mailformat)) {
                        $('.invalid_email_phone').hide();

                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please Wait..</h4>",
                            css: {
                                border: '0px',
                                width: '26%',
                                top: '30%'
                            }
                        });

                        var csrf_test_name = get_csrf_token();

                        setTimeout($.unblockUI);

                        $.ajax({
                            type: "POST",
                            beforeSend: function() {
                                $("#forgetForm_btn").buttonLoader('start');
                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please Wait..</h4>",
                                    css: {
                                        border: '0px',
                                        width: '26%',
                                        top: '30%'
                                    }
                                });
                            },
                            error: function(data, error) {
                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                    css: {
                                        border: '0px',
                                        width: '40%',
                                        top: '30%'
                                    }
                                });
                                setTimeout($.unblockUI, 2000);
                                $("#forgetForm_btn").buttonLoader('stop');
                                return false;
                            },
                            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/forgetpassword",
                            data: "email=" + inputvalue + "&csrf_test_name=" + csrf_test_name + "&captcha_input=" + captcha_input + "&phone=",
                            success: function(json) {
                                setTimeout($.unblockUI, 2000);

                                $("#forgetForm_btn").buttonLoader('stop');

                                var obj = jQuery.parseJSON(json);
                                var jsonString = JSON.stringify(json);
                                if (obj['success'] == 0) {

                                    if (jsonString.indexOf("account_not_exist") > -1) {
                                        $('.account_not_exist').show();
                                    } else {
                                        $('.account_not_exist').hide();
                                    }

                                    if (jsonString.indexOf("invalid_request") > -1) {
                                        $('.invalid_request').show();
                                    } else {
                                        $('.invalid_request').hide();
                                    }

                                    if (jsonString.indexOf("captcha_error12") > -1) {
                                        $('.captcha_error12').show();
                                    } else {
                                        $('.captcha_error12').hide();
                                    }

                                    return false;
                                } else {
                                    $("#attempt_limit").html('');
                                    $("#otp_error").html('');
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />We have Sent OTP to your Registered Email & Mobile!</h4>",
                                        css: {
                                            border: '0px',
                                            width: '40%',
                                            left: '30%',
                                            top: '30%'
                                        }
                                    });

                                    setTimeout($.unblockUI, 3000);

                                    var oldnew = obj['result']['OldNew'];

                                    if (oldnew == 'O') {

                                        $("#old_ngo_name").val(obj['result']['ngo_name']);
                                        $("#old_ngo_mobile").val(obj['result']['Mobile']);
                                        $("#old_ngo_email").val(obj['result']['Email']);

                                        $('#forgetForm')[0].reset();
                                        $('#forgetForm').hide();
                                        $('#forgetForm2old').show();
                                    } else {
                                        $("#resend_mobile_otp").val(obj['result']['Mobile']);
                                        $("#resend_email_otp").val(obj['result']['Email']);
                                        $('#form_forget_ngo_name').hide();
                                        $('#form_forget_ngo_pan').hide();
                                        $('#form_forget_ngo_email').hide();
                                        $('#form_forget_ngo_mobile').hide();
                                        $('#forgetForm')[0].reset();
                                        $('#forgetForm').hide();
                                        $('#forgetForm2old').show();
                                    }
                                    // else
                                    // {
                                    //      alert('otp');
                                    //      //enter otp with confirm pwd
                                    // }

                                }
                                return false;
                            }
                        });
                        //return true; 
                    } else {
                        //Invalid email or phone format
                        // $("#forgetForm_btn").buttonLoader('stop');
                        $('.invalid_email_phone').show();
                        return false;
                    }

                } else {
                    var phoneno = /^\d{10}$/;
                    if ((inputvalue.match(phoneno))) {
                        $('.invalid_email_phone').hide();
                        ///alert(data);
                        var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();
                        $.ajax({
                            type: "POST",
                            beforeSend: function() {
                                $("#forgetForm_btn").buttonLoader('start');
                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please Wait..</h4>",
                                    css: {
                                        border: '0px',
                                        width: '26%',
                                        top: '30%'
                                    }
                                });
                            },
                            error: function(data, error) {
                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                    css: {
                                        border: '0px',
                                        width: '40%',
                                        top: '30%'
                                    }
                                });
                                setTimeout($.unblockUI, 2000);
                                $("#forgetForm_btn").buttonLoader('stop');
                                return false;
                            },
                            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/forgetpassword",
                            data: "phone=" + inputvalue + "&csrf_test_name=" + csrf_test_name + "&captcha_input=" + captcha_input + "&email=",
                            success: function(json) {

                                setTimeout($.unblockUI, 2000);

                                $("#forgetForm_btn").buttonLoader('stop');

                                var obj = jQuery.parseJSON(json);
                                var jsonString = JSON.stringify(json);
                                if (obj['success'] == 0) {
                                    if (jsonString.indexOf("account_not_exist") > -1) {
                                        $('.account_not_exist').show();
                                    } else {
                                        $('.account_not_exist').hide();
                                    }

                                    if (jsonString.indexOf("captcha_error12") > -1) {
                                        $('.captcha_error12').show();
                                    } else {
                                        $('.captcha_error12').hide();
                                    }

                                    if (jsonString.indexOf("attempt_limit") > -1) {
                                        $("#attempt_limit").html(obj['errors']['attempt_limit']);
                                    } else {
                                        $("#attempt_limit").hide();
                                    }

                                    return false;
                                } else {
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />We have Sent OTP to your Registered Email & Mobile!</h4>",
                                        css: {
                                            border: '0px',
                                            width: '40%',
                                            left: '30%',
                                            top: '30%'
                                        }
                                    });

                                    setTimeout($.unblockUI, 3000);

                                    var oldnew = obj['result']['OldNew'];

                                    if (oldnew == 'O') {
                                        $("#old_ngo_name").val(obj['result']['ngo_name']);
                                        $("#old_ngo_mobile").val(obj['result']['Mobile']);
                                        $("#old_ngo_email").val(obj['result']['Email']);

                                        $('#forgetForm')[0].reset();
                                        $('#forgetForm').hide();
                                        $('#forgetForm2old').show();
                                    } else {

                                        $("#old_ngo_name").val(obj['result']['ngo_name']);
                                        $("#old_ngo_mobile").val(obj['result']['Mobile']);
                                        $("#old_ngo_email").val(obj['result']['Email']);
                                        $("#resend_mobile_otp").val(obj['result']['Mobile']);
                                        $("#resend_email_otp").val(obj['result']['Email']);
                                        $('#form_forget_ngo_name').hide();
                                        $('#form_forget_ngo_pan').hide();
                                        $('#form_forget_ngo_email').hide();
                                        $('#form_forget_ngo_mobile').hide();
                                        $('#forgetForm')[0].reset();
                                        $('#forgetForm').hide();
                                        $('#forgetForm2old').show();
                                    }
                                }
                                return false;
                            }
                        });
                        //return true;  
                    } else {
                        //Invalid email or phone format 
                        $("#forgetForm_btn").buttonLoader('stop');
                        $('.invalid_email_phone').show();
                        return false;
                    }
                }

                //submitForm();
            }
        });

        $("#forgetForm2old").validator().on("submit", function(event) {
            if (event.isDefaultPrevented()) {
                // handle the invalid form...
            } else {
                // everything looks good!
                event.preventDefault();
                //$("#forgetForm2old_btn").buttonLoader('start');
                $('.invalid_email_phone_otp').html('');
                $('.invalid_email_phone_otp').hide();
                $('.otp_sent_msg').hide();
                var reg_ngo_email = $('#old_ngo_email').val();
                var reg_ngo_mobile = $('#old_ngo_mobile').val();


                if (reg_ngo_email == '') {
                    reg_ngo_email = $('#resend_email_otp').val();
                }

                if (reg_ngo_mobile == '') {
                    reg_ngo_mobile = $('#resend_mobile_otp').val();
                }

                var otp_id = $('#for_otp_id').val();
                var otp_type = $('#for_otp_type').val();
                var otp = $('#otp').val();

                var password1 = CryptoJS.HmacSHA256($('#otp_password1').val(), "");


                var password3 = CryptoJS.HmacSHA256($('#otp_password2').val(), "");

                //var captcha_input = $('#captcha2').val();
                var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();
                $('.invalid_email_phone_otp').hide();
                $.ajax({
                    type: "POST",
                    beforeSend: function() {
                        $("#forgetForm2old_btn").buttonLoader('start');
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please Wait..</h4>",
                            css: {
                                border: '0px',
                                width: '26%',
                                top: '30%'
                            }
                        });
                    },
                    error: function(data, error) {
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                            css: {
                                border: '0px',
                                width: '40%',
                                top: '30%'
                            }
                        });
                        setTimeout($.unblockUI, 2000);
                        $("#forgetForm2old_btn").buttonLoader('stop');
                        return false;
                    },
                    url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/validate_otp_password",
                    data: "otp=" + otp + "&pwd=" + password1 + "&otp_id=" + otp_id + "&pwd2=" + password3 + "&reg_ngo_email=" + reg_ngo_email + "&reg_ngo_mobile=" + reg_ngo_mobile + "&otp_type=" + otp_type + "&csrf_test_name=" + csrf_test_name,
                    success: function(json) {

                        setTimeout($.unblockUI, 2000);

                        $("#forgetForm2old_btn").buttonLoader('stop');

                        var obj = jQuery.parseJSON(json);
                        var jsonString = JSON.stringify(json);
                        //alert(obj['password_status']);
                        if (obj['password_status'] == 0) {
                            if (jsonString.indexOf("password11_valid") > -1) {
                                $('.password11_valid').show();
                                return false;
                            } else {
                                $('.password11_valid').hide();
                            }

                            if (jsonString.indexOf("password11_format") > -1) {
                                $('.password11_format').show();
                                return false;
                            } else {
                                $('.password11_format').hide();
                            }

                            if (jsonString.indexOf("password22_valid") > -1) {
                                $('.password22_valid').show();
                                return false;
                            } else {
                                $('.password22_valid').hide();
                            }

                            if (jsonString.indexOf("pwd1_not_match") > -1) {
                                $('.pwd1_not_match').show();
                                return false;
                            } else {
                                $('.pwd1_not_match').hide();
                            }

                            if (jsonString.indexOf("invalid_email_phone_otp") > -1) {
                                if (obj['errors']['invalid_email_phone_otp'] == 'OTP has been Expired now') {
                                    $('#otp').val('');
                                    $('.invalid_email_phone_otp').css('margin-left:', '3px');
                                    $('.invalid_email_phone_otp').html("OTP has been Expired, Click on Resend for New OTP");
                                    $('.invalid_email_phone_otp').show();
                                    $('.resend-otp-link').show();
                                } else if (obj['errors']['invalid_email_phone_otp'] == 'You have exceeding Maximum limit of entering OTP, Please try after some time!') {
                                    $('#otp').val('');
                                    $('.invalid_email_phone_otp').css('margin-left:', '0px');
                                    $('.invalid_email_phone_otp').html(obj['errors']['invalid_email_phone_otp']);
                                    $('.invalid_email_phone_otp').show();

                                    var url = "https://ngodarpan.gov.in/index.php/home";
                                    setTimeout(function() {
                                        $(location).attr('href', url);
                                    }, 4000);
                                } else {
                                    $('#otp').val('');
                                    $('.invalid_email_phone_otp').html(obj['errors']['invalid_email_phone_otp']);
                                    $('.invalid_email_phone_otp').show();
                                }

                            } else {
                                $('.invalid_email_phone_otp').html('');
                                $('.invalid_email_phone_otp').hide();
                            }

                        } else {
                            $('#loginForm')[0].reset();
                            $('#regForm')[0].reset();
                            $('#regForm2')[0].reset();
                            $('#passwordForm')[0].reset();
                            $('#forgetForm')[0].reset();
                            $('#forgetForm2old')[0].reset();
                            $('#forgetForm').show();
                            $('#loginForm').show();

                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />You have Created your Password Successfully,You can login Now with Your Email OR Mobile OR NGO PAN !</h4>",
                                css: {
                                    border: '0px',
                                    width: '60%',
                                    left: '20%',
                                    top: '30%'
                                }
                            });

                            setTimeout($.unblockUI, 6000);

                            $('#signin-taba').tab('show');
                        }
                    }
                });
            }
        });

        $(".resend-otp-link").on("click", function(event) {
            $('.resend-otp-link').hide();
            var csrf_test_name = get_csrf_token(); //$('#csrff').val();
            var mobile = $('#resend_mobile_otp').val();
            var email = $('#resend_email_otp').val();
            var old_otp_id = $('#for_otp_id').val();
            $('.invalid_email_phone_otp').hide();

            $.post("https://ngodarpan.gov.in/index.php/ajaxcontroller/resend_otp", {
                    mobile: mobile,
                    email: email,
                    old_otp_id: old_otp_id,
                    new_otp_type: 'R',
                    old_otp_type: 'F',
                    csrf_test_name: csrf_test_name,

                },
                function(json) {
                    var obj = jQuery.parseJSON(json);

                    var jsonString = JSON.stringify(json);

                    if (obj['success'] == 1) {

                        $('.invalid_email_phone_otp').hide();
                        $('.resend-otp-link').hide();

                        var returned_data = obj['resend_otp_status'];
                        var returned_data_arr = returned_data.split('-');

                        var new_otp = returned_data_arr[0];
                        //alert(new_otp);
                        var new_otp_id = returned_data_arr[1];
                        //alert(new_otp_id);
                        $('.otp_sent_msg').show();

                        $('.otp_sent_msg').html('New OTP has been Sent Successfully!');

                        $('#for_otp_type').val('R');

                        $('#for_otp_id').val(new_otp_id);

                        $('#for_otp').html(new_otp);

                        $('#otp').val('');
                    } else if (obj['success'] == 0) {
                        $('#otp_error').html(obj['errors']['attempt_limit_exceeded']);
                        //removes the otp sent message
                        $(".otp_sent_msg").html('');
                        //closes the popup after 5 seconds
                    }
                    return false;
                });
        });


        $(".signup-resend-otp-link").on("click", function(event) {
            $('.signup-resend-otp-link').hide();
            $('#style_email_otp').css('margin', '43px 0px 11px -500px');
            var csrf_test_name = get_csrf_token(); //$('#csrff').val();
            var mobile = $('#mobile2').val();
            var email = $('#email2').val();
            var old_otp_id = $('#signup_otp_id').val();
            $.post("https://ngodarpan.gov.in/index.php/ajaxcontroller/resend_otp_signup", {
                    mobile: mobile,
                    email: email,
                    old_otp_id: old_otp_id,
                    csrf_test_name: csrf_test_name,
                },
                function(json) {
                    var obj = jQuery.parseJSON(json);

                    var jsonString = JSON.stringify(json);

                    if (obj['success'] == 1) {
                        $('.otp_status_mobile').hide();
                        $('.signup-resend-otp-link').hide();

                        var returned_data = obj['resend_otp_status'];
                        var returned_data_arr = returned_data.split('-');

                        var new_otp = returned_data_arr[0];

                        var new_otp_id = returned_data_arr[1];
                        $('#style_email_otp').css('margin', '43px 0px 13px -415px');
                        $('.signup_otp_sent_msg').show();

                        $('.signup_otp_sent_msg').html('New OTP has been Sent Successfully!');
                        $('#mob_otp').val('');
                        $('#email_otp').val('');
                        $('#signup_otp_id').val(new_otp_id);
                    } else if (obj['success'] == 0) {

                        $('#style_email_otp').css('margin', '43px 0px 13px -199px');


                        //$('#signup_otp_error').show();
                        //sets the otp error message on popup window
                        $('#signup_otp_error1').html(obj['errors']['attempt_limit_exceeded']);
                        //removes the otp sent message
                        $(".signup_otp_sent_msg").html('');
                        //closes the popup after 5 seconds
                        //setTimeout(function(){$("#popup_close_btn").click()},5000);

                    }

                    return false;
                });
        });



        $(".resend-login-otp-link").on("click", function(event) {
            var csrf_test_name = get_csrf_token(); //$('#csrff').val();
            var mobile = $('#alt_hidden_mobile').val();
            var email = '';
            var old_otp_id = $('#login_otp_id').val();

            $.post("https://ngodarpan.gov.in/index.php/ajaxcontroller/resend_otp", {
                    mobile: mobile,
                    email: email,
                    old_otp_id: old_otp_id,
                    new_otp_type: 'LR',
                    old_otp_type: 'L',
                    csrf_test_name: csrf_test_name,

                },
                function(json) {
                    var obj = jQuery.parseJSON(json);

                    var jsonString = JSON.stringify(json);

                    if (obj['success'] == 1) {
                        var returned_data = obj['resend_otp_status'];
                        var returned_data_arr = returned_data.split('-');

                        var new_otp = returned_data_arr[0];

                        var new_otp_id = returned_data_arr[1];

                        $('.login_otp_sent_msg').html('New OTP has been Sent Successfully!');

                        $('#login_otp_type').val('LR');

                        $('#login_otp_id').val(new_otp_id);

                        $('#for_login_otp').html(new_otp);
                    }

                    return false;
                });
        });


        $("#pan_authenticate_form").validator().on("submit", function(event) {
            if (event.isDefaultPrevented()) {
                // handle the invalid form...
                //formError();
                //submitMSG(false, "Did you fill in the form properly?");
            } else {
                var ngo_name3 = $('#ngo_name3').val();

                var mobile3 = $('#mobile3').val();
                var email3 = $('#email3').val();

                var org_pan3 = $('#org_pan3').val();

                var pageURL = $(location).attr("href");
                var pieces = pageURL.split("/");
                var request_pan_key = pieces[7];

                $.ajax({
                    type: "POST",
                    url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/pan_authenticate",
                    data: "ngo_name=" + ngo_name3 + "&email=" + email3 + "&mobile=" + mobile3 + "&org_pan=" + org_pan3 + "&request_pan_key=" + request_pan_key,

                    success: function(json) {

                        var obj = jQuery.parseJSON(json);
                        var jsonString = JSON.stringify(json);
                        if (obj['success'] == 0) {

                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                                css: {
                                    border: '0px',
                                    width: '18%',
                                    top: '30%'
                                }
                            });

                            setTimeout($.unblockUI, 2000);

                            if (jsonString.indexOf("org_pan_status") > -1) {
                                $('.org_pan_status').show();
                                return false;
                            } else {
                                $('.org_pan_status').hide();
                            }

                            if (jsonString.indexOf("pan_status_service") > -1) {
                                //alert(obj['errors']['pan_status_service']);
                                if (obj['errors']['pan_status_service'] == 2) {

                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Processing...</h4>",
                                        css: {
                                            border: '0px',
                                            width: '18%',
                                            top: '30%'
                                        }
                                    });
                                    setTimeout(function() {
                                        $.unblockUI({
                                            onUnblock: function() {

                                                $.blockUI({
                                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Pan is Authenticated INVALID by our service, Please try Again...</h4>",
                                                    css: {
                                                        border: '0px',
                                                        width: '36%',
                                                        top: '30%'
                                                    }
                                                });

                                                setTimeout($.unblockUI, 3000);
                                            }
                                        });
                                    }, 4000);
                                } else {

                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Processing...</h4>",
                                        css: {
                                            border: '0px',
                                            width: '18%',
                                            top: '30%'
                                        }
                                    });

                                    setTimeout(function() {
                                        $.unblockUI({
                                            onUnblock: function() {

                                                $.blockUI({
                                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Pan services taking too long, it seems pan services down...</h4>",
                                                    css: {
                                                        border: '0px',
                                                        width: '36%',
                                                        top: '30%'
                                                    }
                                                });

                                                setTimeout(function() {
                                                    $.unblockUI({
                                                        onUnblock: function() {

                                                            $.blockUI({
                                                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />No response from PAN Services! Dont worry We will email you link to process your request again, Link will expire in 24 Hours, Try to complete request within 24 hour!</h4>",
                                                                css: {
                                                                    border: '0px',
                                                                    width: '85%',
                                                                    top: '30%',
                                                                    left: '10%'
                                                                }
                                                            });
                                                            setTimeout($.unblockUI, 4000);


                                                            $('#loginModal').modal('toggle');
                                                            // setTimeout(function() { 
                                                            //              $.unblockUI({ 
                                                            //                      onUnblock: function(){
                                                            //                              $.ajax({
                                                            //                                      type: "POST",
                                                            //                                      url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/save_partial_register",
                                                            //                                      data: "ngo_name=" + ngo_name2 + "&email=" + email2 + "&mobile=" + mobile2 + "&hidden_mob_otp=" + mobile_otp_hidden + "&hidden_email_otp=" + email_otp_hidden + "&email_otp=" + email_otp + "&mobile_otp=" + mobile_otp + "&org_pan=" + org_pan,
                                                            //                                      // data: $('#regForm').serialize(),
                                                            //                                      success : function(json){
                                                            //                                       var url = "https://ngodarpan.gov.in/";
                                                            //                                              $(location).attr('href',url);
                                                            //                                              //alert("success");
                                                            //                                              //return false;
                                                            //                                      } 
                                                            //                              });
                                                            //                      }
                                                            //              });
                                                            // }, 4000);
                                                        }
                                                    });
                                                }, 3000);
                                            }
                                        });
                                    }, 2000);

                                }
                            }
                        } else {
                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />>Please wait...</h4>",
                                css: {
                                    border: '0px',
                                    width: '18%',
                                    top: '30%'
                                }
                            });

                            setTimeout(function() {
                                $.unblockUI({
                                    onUnblock: function() {

                                        $.blockUI({
                                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />We have Recieved your Request Successfully, We Have Sent link to create a password to your email!</h4>",
                                            css: {
                                                border: '0px',
                                                width: '40%',
                                                top: '30%'
                                            }
                                        });

                                        setTimeout($.unblockUI, 2000);
                                        var url = "https://ngodarpan.gov.in/";
                                        //$(location).attr('href',url);

                                        window.setTimeout(function() {
                                            window.location.href = url;
                                        }, 2000);
                                    }
                                });
                            }, 4000);
                        }
                    }

                });
                return false;
            }
        });

        function formError() {
            $("#loginForm").removeClass().addClass('shake animated').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {
                $(this).removeClass();
            });

            $("#regForm").removeClass().addClass('shake animated').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {
                $(this).removeClass();
            });

            $("#forgetForm").removeClass().addClass('shake animated').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {
                $(this).removeClass();
            });
        }


    });
</script>
<script type="text/javascript">
    function get_ngo_member_info() {

        $.blockUI({
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
            css: {
                border: '0px',
                width: '18%',
                top: '30%'
            }
        });

        $.get("https://ngodarpan.gov.in/index.php/ngo/get_ngo_member_info", {}, function(data, status) {
            setTimeout($.unblockUI);
            $(".records_content").html(data);
        });
    }

    function get_ngo_archive_member_info() {

        $.blockUI({
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
            css: {
                border: '0px',
                width: '18%',
                top: '30%'
            }
        });

        $.get("https://ngodarpan.gov.in/index.php/ngo/get_ngo_archive_member_info", {}, function(data, status) {
            setTimeout($.unblockUI);
            $(".records_content_archive").html(data);
        });
    }

    function get_source_fund_info() {
        $.blockUI({
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
            css: {
                border: '0px',
                width: '18%',
                top: '30%'
            }
        });

        $.get("https://ngodarpan.gov.in/index.php/ngo/get_source_fund_info", {}, function(data, status) {
            setTimeout($.unblockUI);
            $(".records_content1").html(data);
        });
    }

    function get_reg_info() {
        $.blockUI({
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
            css: {
                border: '0px',
                width: '18%',
                top: '30%'
            }
        });

        $.get("https://ngodarpan.gov.in/index.php/ngo/get_reg_info", {}, function(data, status) {
            setTimeout($.unblockUI);
            $(".records_content2").html(data);
        });
    }

    $(document).ready(function() {

        //reset login & sign up forms on close modal
        $('#loginModal').on('hidden.bs.modal', function() {
            var url = "https://ngodarpan.gov.in/index.php/home";
            $(location).attr('href', url);
            $('#loginForm')[0].reset();
            $('#regForm')[0].reset();
            $('#regForm2')[0].reset();
            $('#regForm2').hide();
            $('#passwordForm')[0].reset();
            $('#forgetForm').show();
            //$('#forgetForm').[0].reset();

            $("#register_btn2").buttonLoader('stop');
            $("#login_btn").buttonLoader('stop');
            $("#register_btn").buttonLoader('stop');
            $("#register_btn3").buttonLoader('stop');
            $("#login_otp_form_btn").buttonLoader('stop');
            $("#login_otp_form2_btn").buttonLoader('stop');
            $("#forgetForm_btn").buttonLoader('stop');
            $("#forgetForm2old_btn").buttonLoader('stop');

            $('#passwordForm').hide();
            $('.captcha_error2').hide();
            $('.temp_id').hide();
            $('.login_exist').hide();
            $('.captcha_error').hide();
            $('.login_id_error').hide();
            $('.password_error').hide();
            $('.captcha_error').hide();
            $('.ngo_name_empty').hide();
            $('.ngo_name_valid').hide();
            $('.ngo_name_char_length').hide();
            $('.mobile_empty').hide();
            $('.mobile_valid').hide();
            $('.email_empty').hide();
            $('.email_valid').hide();
            $('.db_check_ngo').hide();
            $('.db_check_mobile').hide();
            $('.db_check_email').hide();
            $('.captcha_error1').hide();
            $('.otp_enter_mobile').hide();
            $('.otp_status_mobile').hide();
            $('.otp_enter_email').hide();
            $('.otp_status_email').hide();
            $('.org_pan_enter').hide();
            $('.org_pan_valid').hide();
            $('.org_pan_status').hide();
            $('.invalid_email_phone').hide();
            $('.account_not_exist').hide();
            $('#form_forget_ngo_name').hide();
            $('#form_forget_ngo_pan').hide();
            $('#form_forget_ngo_email').hide();
            $('#form_forget_ngo_mobile').hide();
            $('#forgetForm')[0].reset();
            $('#forgetForm2old')[0].reset();
            $('#forgetForm2old').hide();
            $('.invalid_email_phone').hide();
            $('.account_not_exist').hide();
            $('.invalid_email_phone').hide();
            $('.invalid_email_phone_otp').hide();

            $('#signin-taba').tab('show');
        });

        // Step 3 of Reg form
        $("#passwordForm").validator().on("submit", function(event) {
            if (event.isDefaultPrevented()) {
                // handle the invalid form...
                formError();

            } else {
                event.preventDefault();

                var key = $('#key').val();
                $("#register_btn2").buttonLoader('start');

                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait..</h4>",
                    css: {
                        border: '0px',
                        width: '26%',
                        top: '30%'
                    }
                });

                var step2_step3 = Aes.Ctr.encrypt($('#request_key_p').val(), key, 256);
                var password = CryptoJS.HmacSHA256($('#password1').val(), "");
                var password2 = CryptoJS.HmacSHA256($('#password2').val(), "");
                var captcha_input = Aes.Ctr.encrypt($('#captcha2').val(), key, 256);
                var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();

                var ngooo_pan_status = $('#ngooo_pan_status').val();
                var ngooo_pan_datetime = $('#ngooo_pan_datetime').val();
                var ngooo_pan_combined = $('#ngooo_pan_combined').val();


                //$("#register_btn2").prop("disabled",true);

                $.ajax({
                    type: "POST",
                    beforeSend: function() {
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Creating Password</h4>",
                            css: {
                                border: '0px',
                                width: '26%',
                                top: '30%'
                            }
                        });
                    },
                    error: function(data, error) {
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                            css: {
                                border: '0px',
                                width: '40%',
                                top: '30%'
                            }
                        });
                        setTimeout($.unblockUI, 2000);
                        $("#register_btn2").buttonLoader('stop');
                        return false;
                    },
                    url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/create_password",
                    data: "request_pwd_key=" + step2_step3 + "&pwd=" + password + "&pwd2=" + password2 + "&captcha_input=" + captcha_input + "&csrf_test_name=" + csrf_test_name + "&ngooo_pan_status=" + ngooo_pan_status + "&ngooo_pan_datetime=" + ngooo_pan_datetime + "&ngooo_pan_combined=" + ngooo_pan_combined,
                    success: function(json) {

                        setTimeout($.unblockUI, 2000);

                        $("#register_btn2").buttonLoader('stop');

                        var obj = jQuery.parseJSON(json);

                        if (obj['password_status'] == 1) {

                            $('#loginForm')[0].reset();
                            $('#regForm')[0].reset();
                            $('#regForm2')[0].reset();
                            $('#passwordForm')[0].reset();
                            $('#passwordForm').hide();
                            $('#regForm2').hide();
                            $('#regForm').show();
                            $('.captcha_error2').hide();
                            //var msg = "<strong>Please try to login now!!</strong>"
                            //$('#passwordForm').hide();
                            //$('#info_message').html(msg);
                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />We have Created your Password Successfully,You can login Now with Your Email OR Mobile OR NGO PAN !</h4>",
                                css: {
                                    border: '0px',
                                    width: '60%',
                                    left: '20%',
                                    top: '30%'
                                }
                            });

                            setTimeout($.unblockUI, 6000);

                            $('#signin-taba').tab('show');
                        } else {
                            $('.refresh2').on('click', function() {
                                $.get("https://ngodarpan.gov.in/index.php/captcha/refresh_pwd", {}, function(data, status) {
                                    $('#captchaimagehere2').html(data);
                                    $("#captcha2").val('');
                                });

                            });

                            if (obj['errors']['password1_valid'] == 'Please Enter Password') {
                                $('.password1_valid').show();

                            } else {
                                $('.password1_valid').hide();
                            }

                            if (obj['errors']['password1_format'] == 'Please Enter correct format of Password') {
                                $('.password1_format').show();

                            } else {
                                $('.password1_format').hide();
                            }

                            if (obj['errors']['password2_valid'] == 'Please Enter Confirm Password') {
                                $('.password2_valid').show();

                            } else {
                                $('.password2_valid').hide();
                            }

                            if (obj['errors']['pwd_not_match'] == 'Password not match') {
                                $('.pwd_not_match').show();

                            } else {
                                $('.pwd_not_match').hide();
                            }

                            if (obj['errors']['captcha_error2'] == 'Security code was not match, please try again.') {
                                $('.captcha_error2').show();
                            } else {
                                $('.captcha_error2').hide();
                            }

                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please Try Again!</h4>",
                                css: {
                                    border: '0px',
                                    width: '36%',
                                    top: '30%'
                                }
                            });



                            setTimeout($.unblockUI, 2000);
                        }


                    }
                });
            }
        });

        // Read Member Records by ajax

        get_reg_info();

        get_ngo_member_info();

        get_ngo_archive_member_info();

        get_source_fund_info();



    });
</script>
<!--<script src="js/jquery.sticky.js"></script> -->
<script src="https://ngodarpan.gov.in/assets/js/search.js" type="text/javascript"></script>
<!--<script type="text/javascript" src="js/sticky-header.js"></script>-->
<script src="https://ngodarpan.gov.in/assets/js/owl.js" type="text/javascript"></script>
<!-- jQuery -->
<script src="https://ngodarpan.gov.in/assets/js/jquery_002.js" type="text/javascript"></script>
<!-- SmartMenus jQuery plugin -->
<script src="https://ngodarpan.gov.in/assets/js/jquery.js" type="text/javascript"></script>
<script src="https://ngodarpan.gov.in/assets/js/owl.carousel.min.js" type="text/javascript"></script>
<script src="https://ngodarpan.gov.in/assets/js/slider.js" type="text/javascript"></script>
<script>
    $('a.cross').click(function() {
        //$('#mask , .login-popup').fadeOut(300, function () {
        $('.information-txt').remove();
        //});
        //return false;
    });
</script>
<script type="text/javascript">
    var ajaxpath = "incl/PHP/jax__";
    var indexpage = "sanindex.php";


    var fontSize = 150;
    /*
    jQuery(document).ready(function(){
    //alert("ok");
    if(_getCookie("fontSize") != null){
    var fontSize = _getCookie("fontSize");
    }else{
    var fontSize = 150;
    }
    jQuery("body").css("font-size",fontSize + "%");
    });

    */
    function _getCookie(name) {
        var arg = name + "=";
        var alen = arg.length;
        var clen = document.cookie.length;
        var i = 0;
        while (i < clen) {
            var j = i + alen;
            if (document.cookie.substring(i, j) == arg) {
                return _getCookieVal(j);
            }
            i = document.cookie.indexOf(" ", i) + 1;
            if (i == 0)
                break;
        }
        return null;
    }

    function _deleteCookie(name, path, domain) {
        if (_getCookie(name)) {
            document.cookie = name + "=" +
                ((path) ? "; path=" + path : "") +
                ((domain) ? "; domain=" + domain : "") +
                "; expires=Thu, 01-Jan-70 00:00:01 GMT";
        }
    }

    function _setCookie(name, value, expires, path, domain, secure) {
        var vurl = true;
        if (path != '' && path != undefined) {
            vurl = validUrl(path);
        }
        if (jQuery.type(name) == "string" && vurl) {
            document.cookie = name + "=" + escape(value) +
                ((expires) ? "; expires=" + expires.toGMTString() : "") +
                ((path) ? "; path=" + path : "") +
                ((domain) ? "; domain=" + domain : "") +
                ((secure) ? "; secure" : "");
        }
    }

    function _getCookieVal(offset) {
        var endstr = document.cookie.indexOf(";", offset);
        if (endstr == -1) {
            endstr = document.cookie.length;
        }
        return unescape(document.cookie.substring(offset, endstr));
    }


    function set_font_size(fontType) {
        //alert('Does it reaches here');
        //alert(fontType);
        if (fontType == "increase") {
            //alert(fontSize);
            if (fontSize < 145) {
                fontSize = parseInt(fontSize) + 15;
            }
        } else if (fontType == "decrease") {
            if (fontSize > 70) {
                fontSize = parseInt(fontSize) - 15;
            }
        } else {
            fontSize = 125;
        }
        _setCookie("fontSize", fontSize);
        jQuery("body").css("font-size", fontSize + "%");
    }

    // jQuery(document).ready(function(){
    //      $("#state").change(function() {
    //              var state = $('#state').val();

    //              $.ajax({
    //                      type:'POST',
    //                      url:'http://localhost/ngo/index.php/ajaxcontroller/get_district',
    //                      data:'state='+state,
    //                      success:function(json){
    //                              var obj = jQuery.parseJSON(json);

    //                              alert(obj['DisID']);
    //$.each(obj, function(i, obj){
    //alert(data.DisID);
    //$('#district').append("<option value='"+obj.DisID+"'>"+obj.DisName+"</option>");
    //});
    //      }
    //      }); 
    // });
    //   });
    function getXMLHTTP() { //fuction to return the xml http object
        var xmlhttp = false;
        try {
            xmlhttp = new XMLHttpRequest();
        } catch (e) {
            try {
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {
                try {
                    xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
                } catch (e1) {
                    xmlhttp = false;
                }
            }
        }

        return xmlhttp;
    }

    function get_working_district(str) {

        var csrf_test_name = get_csrf_token();

        if (str == '') {
            $("#working_district").html("<option value=''>Select District</option>");
        } else {
            $("#working_district").html("<option value=''>Select District</option>");

            //var link = getBaseURL();
            var strURL = "https://ngodarpan.gov.in/index.php/ajaxcontroller/get_district/" + str;
            var req = getXMLHTTP();
            if (req) {

                req.onreadystatechange = function() {
                    if (req.readyState == 4) {
                        // only if "OK"
                        if (req.status == 200) {
                            var result = req.responseText;
                            //alert(result);
                            $("#working_district").html("<option value=''>Select District</option>");
                            $("#working_district").append(result);
                        } else {
                            alert("There was a problem while using XMLHTTP:\n" + req.statusText);
                        }
                    }
                }
                req.open("POST", strURL, true);
                req.send(null);
            }
        }
    }

    function get_ngo_district(str) {

        if (str == '') {
            $("#ngo_district").html("<option value=''>Select District</option>");
        } else {
            $("#ngo_district").html("<option value=''>Select District</option>");

            var csfrData = {};
            csfrData['csrf_test_name'] = get_csrf_token();

            $.ajax({
                type: "POST",
                url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/get_district/" + str,
                beforeSend: function() {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                        css: {
                            border: '0px',
                            width: '18%',
                            top: '30%'
                        }
                    });
                },
                error: function(data, error) {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                        css: {
                            border: '0px',
                            width: '40%',
                            top: '30%'
                        }
                    });
                    setTimeout($.unblockUI);
                },
                data: csfrData,
                success: function(cities) {
                    setTimeout($.unblockUI);
                    $("#ngo_district").html("<option value=''>Select District</option>");
                    $("#ngo_district").append(cities);
                }
            });
        }
    }

    function get_reg_district(str) {

        var csrf_test_name = get_csrf_token(); //$('#csrff').val();

        if (str == '') {
            $("#reg_district").html("<option value=''>Select District</option>");
            $("#soc_district").html("<option value=''>Select District</option>");
            $("#update_soc_district").html("<option value=''>Select District</option>");
        } else {
            $("#reg_district").html("<option value=''>Select District</option>");
            $("#soc_district").html("<option value=''>Select District</option>");
            $("#update_soc_district").html("<option value=''>Select District</option>");

            // var strURL = "https://ngodarpan.gov.in/index.php/ajaxcontroller/get_district/" + str;
            // var req = getXMLHTTP();
            // if (req) {

            //     req.onreadystatechange = function() {
            //         if (req.readyState == 4) {
            //             // only if "OK"
            //             if (req.status == 200) {
            //                 var result = req.responseText;
            //                 //alert(result);
            //                 $("#reg_district").html("<option value=''>Select District</option>");
            //                 $("#reg_district").append(result);
            //             } else {
            //                 alert("There was a problem while using XMLHTTP:\n" + req.statusText);
            //             }
            //         }
            //     }
            //     req.open("POST", strURL, true);
            //     req.send(null);
            // }
            var csfrData = {};
            csfrData['csrf_test_name'] = csrf_test_name;
            $.ajax({
                type: "POST",
                url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/get_district/" + str,
                data: csfrData,
                success: function(cities) {
                    $("#reg_district").html("<option value=''>Select District</option>");
                    $("#reg_district").append(cities);

                    $("#soc_district").html("<option value=''>Select District</option>");
                    $("#soc_district").append(cities);

                    $("#update_soc_district").html("<option value=''>Select District</option>");
                    $("#update_soc_district").append(cities);
                }
            });
        }
    }

    function temp(str) {
        if (str == "R") {
            $("#login_temp").hide();
            $("#login_id").hide();
            $("#login_regular").show();
        } else if (str == "T") {
            $("#login_temp").show();
            $("#login_id").hide();
            $("#login_regular").hide();
        } else {
            $("#login_id").hide();
        }
    }

    function source_change(str) {
        // if(str == 'A')
        // {
        //      $("#fcradetails").show();
        // }
        // else
        // {
        //      $("#fcradetails").hide();
        // }
    }


    function reason_text(str) {
        if (str == 5) {
            $("#reason_text").show();
        } else {
            $("#reason_text").hide();
        }
    }

    function others_desig(str) {
        if (str == 11) {
            $("#others_desig_text").show();
        } else {
            $("#others_desig_text").hide();
        }
    }

    function others_desig_update(str) {
        if (str == 11) {
            $("#others_desig_text_update").show();
        } else {
            $("#others_desig_text_update").hide();
        }
    }

    // $('#others_desig_text_box').autocomplete({
    // source: function( request, response ) {
    //              $.ajax({
    //                      url : 'https://ngodarpan.gov.in/index.php/ajaxcontroller/get_desig_suggestion',
    //              data: {
    //                 name_startsWith: request.term,
    //                 type: 'designation_table',
    //                 row_num : 1
    //              },
    //              success: function(data) {
    //                              var obj = jQuery.parseJSON(data);                                
    //                              var desig_nam = obj.info[0];
    //                              var desig_name = desig_nam['DesigName'];
    //                      }
    //              });
    //      },
    //      autoFocus: true,              
    //      minLength: 0,
    //      select: function( event, ui ) {
    //      alert('hello');
    //      $('#others_desig_text_box').val(desig_name);
    // }                  
    // });

    $('#others_desig_text_box').bootcomplete({
        url: 'https://ngodarpan.gov.in/index.php/ajaxcontroller/get_desig_suggestion',
        minLength: 2,
    });

    $('#update_others_desig_text_box').bootcomplete({
        url: 'https://ngodarpan.gov.in/index.php/ajaxcontroller/get_desig_suggestion',
        minLength: 2,
    });

    $("#form-contact").validator().on("submit", function(event) {
        if (event.isDefaultPrevented()) {
            //formError();
        } else {
            // everything looks good! 
            event.preventDefault();
            $("#key_contact_btn").buttonLoader('start');
            var sal_tittle = $('#sal_tittle').val();
            var first_name = $('#first_name').val();
            var middle_name = $('#middle_name').val();
            var last_name = $('#last_name').val();
            var mobile = $('#key_contact_mobile').val();
            var altmobile = $('#key_contact_altmobile').val();
            var email = $('#key_contact_email').val();
            var designation = $('#designation').val();
            //var gender = $('#gender').val();
            var gender = $("input:radio[name=gender]:checked").val();
            var dob = $('#dob').val();
            var area = $('#area').val();
            var state = $('#state').val();
            var district = $('#districtabc').val();
            var zip_code = $('#zip_code').val();

            var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();


            var url_created = "https://ngodarpan.gov.in/index.php/ngo/save_account_info";

            $.ajax({
                type: "POST",
                url: url_created,
                complete: function() {
                    $("#key_contact_btn").buttonLoader('stop');
                },
                data: "sal_tittle=" + sal_tittle + "&first_name=" + first_name + "&middle_name=" + middle_name + "&last_name=" + last_name + "&email=" + email + "&altmobile=" + altmobile + "&mobile=" + mobile + "&designation=" + designation + "&gender=" + gender + "&dob=" + dob + "&area=" + area + "&state=" + state + "&district=" + district + "&zip_code=" + zip_code + "&csrf_test_name=" + csrf_test_name,

                success: function(json) {

                    var obj = jQuery.parseJSON(json);
                    var jsonString = JSON.stringify(json);

                    if (obj['success'] == 1) {
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Your Account Information has been saved!</h4>",
                            css: {
                                border: '0px',
                                width: '36%',
                                top: '30%'
                            }
                        });

                        setTimeout(function() {
                            $.unblockUI({
                                onUnblock: function() {
                                    var url = "https://ngodarpan.gov.in/index.php/ngo/account";
                                    $(location).attr('href', url);
                                }
                            });
                        }, 4000);
                    } else {
                        if (jsonString.indexOf("first_name") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['first_name'] + "</li></ul>";
                            $('.first_name_error').show();
                            $('.first_name_error').html(htmlstyle);
                        } else {
                            $('.first_name_error').hide();
                        }

                        if (jsonString.indexOf("middle_name") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['middle_name'] + "</li></ul>";
                            $('.middle_name_error').show();
                            $('.middle_name_error').html(htmlstyle);
                        } else {
                            $('.middle_name_error').hide();
                        }

                        if (jsonString.indexOf("last_name") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['last_name'] + "</li></ul>";
                            $('.last_name_error').show();
                            $('.last_name_error').html(htmlstyle);
                        } else {

                            $('.last_name_error').hide();
                        }

                        // if (jsonString .indexOf("mobile") > -1){

                        //      var htmlstyle = "<ul class='list-unstyled'><li>"+obj['errors']['mobile'] +"</li></ul>";
                        //      $('.mobile_error').show();
                        //      $('.mobile_error').html(htmlstyle);
                        // }
                        // else
                        // {
                        //      $('.mobile_error').hide();
                        // }


                        if (jsonString.indexOf("altmobile") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['altmobile'] + "</li></ul>";
                            $('.alt_mobile_error').show();
                            $('.alt_mobile_error').html(htmlstyle);
                        } else {
                            $('.alt_mobile_error').hide();
                        }

                        if (jsonString.indexOf("email") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['email'] + "</li></ul>";
                            $('.email_error').show();
                            $('.email_error').html(htmlstyle);
                        } else {
                            $('.email_error').hide();
                        }

                        if (jsonString.indexOf("designation") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['designation'] + "</li></ul>";
                            $('.designation_error').show();
                            $('.designation_error').html(htmlstyle);
                        } else {
                            $('.designation_error').hide();
                        }

                        if (jsonString.indexOf("gender") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['gender'] + "</li></ul>";
                            $('.gender_error').show();
                            $('.gender_error').html(htmlstyle);
                        } else {
                            $('.gender_error').hide();
                        }

                        if (jsonString.indexOf("dob") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['dob'] + "</li></ul>";
                            $('.dob_error').show();
                            $('.dob_error').html(htmlstyle);
                        } else {
                            $('.dob_error').hide();
                        }

                        if (jsonString.indexOf("area") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['area'] + "</li></ul>";
                            $('.area_error').show();
                            $('.area_error').html(htmlstyle);
                        } else {
                            $('.area_error').hide();
                        }

                        if (jsonString.indexOf("state") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['state'] + "</li></ul>";
                            $('.state_error').show();
                            $('.state_error').html(htmlstyle);
                        } else {
                            $('.state_error').hide();
                        }

                        if (jsonString.indexOf("district") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['district'] + "</li></ul>";
                            $('.district_error').show();
                            $('.district_error').html(htmlstyle);
                        } else {
                            $('.district_error').hide();
                        }

                        if (jsonString.indexOf("zip_code") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['zip_code'] + "</li></ul>";
                            $('.zip_code_error').show();
                            $('.zip_code_error').html(htmlstyle);
                        } else {
                            $('.zip_code_error').hide();
                        }
                    }

                    return false;
                }
            });
        }
    });

    $("#form-ngo_details").validator().on("submit", function(event) {
        if (event.isDefaultPrevented()) {
            //formError();
        } else {
            event.preventDefault();
            $("#ngo_detail_btn").buttonLoader('start');
            var check_for_valid_pan = '0';
            var org_pan_no = $('#org_pan_no').val();
            var org_pan_no_hidden = $('#org_pan_no_hidden').val();
            var key = $('#key').val();
            var org_pan_no2 = Aes.Ctr.encrypt(org_pan_no_hidden, key, 256);
            //var ngo_name_new = $('#ngo_name_new').val().replace("&","And");
            //var ngo_pan_name_new = $('#ngo_pan_name_new').val().replace("&","And");

            var ngo_name_new = $('#ngo_name_new').val();
            var ngo_pan_name_new = $('#ngo_pan_name_new').val();


            //ngoo_pan_name = ngoo_pan_name.replace(/ +(?= )/g,'');
            //ngoo_pan_name = ngoo_pan_name.toUpperCase();


            var ngo_parent_org = $('#ngo_parent_org').val();
            var ngo_email = $('#ngo_email').val();
            var ngo_url = $('#ngo_url').val();
            var ngo_area = $('#ngo_area').val();
            var ngo_state = $('#ngo_state').val();
            var ngo_district = $('#ngo_district').val();
            var ngo_zip_code = $('#ngo_zip_code').val();
            var p_registered_with = $('#p_registered_with').val();
            var p_ngo_type = $('#p_ngo_type').val();
            var p_reg_no = $('#p_reg_no').val();
            var Preg_upload_doc_id = $('#Preg_upload_doc_id').val();
            var p_act_name = $('#p_act_name').val();
            var p_date_reg = $('#p_date_reg').val();
            // var p_valid_upto = $('#p_valid_upto').val();
            var p_reg_city = $('#p_reg_city').val();
            //var csrf_test_name = get_csrf_token();//$("input[name=csrf_test_name]").val();
            var nr_id = $("input[name=nr_id]").val();

            var fcra_available = $("input:radio[name=fcra_available]:checked").val();

            var validity_available = $("input:radio[name=validity_available]:checked").val();

            if (fcra_available == 'Y') {
                var ngo_fcra_no = $('#ngo_fcra_no').val();
                var fcra_reg_date = $('#fcra_reg_date').val();
                var fcra_exp_date = $('#fcra_exp_date').val();
            } else {
                var ngo_fcra_no = $('#ngo_fcra_no').val();
                var fcra_reg_date = $('#fcra_reg_date').val();
                var fcra_exp_date = $('#fcra_exp_date').val();
            }

            if (validity_available == 'Y') {
                var valid_exp_date = $('#valid_exp_date').val();
            } else {
                var valid_exp_date = $('#valid_exp_date').val();
            }

            var url_created = "https://ngodarpan.gov.in/index.php/ngo/save_ngo_info";

            //if(check_for_valid_pan == 1) {


            var csrf_test_name = get_csrf_token();


            var upload_doc_id = $('#upload_doc_id_NPC').val();

            var ngo_p_pan_status = '';
            var ngo_p_pan_datetime = '';
            var ngo_p_pan_combined = '';

            $.ajax({
                type: "POST",
                url: url_created,
                beforeSend: function() {
                    $("#ngo_detail_btn").buttonLoader('start');
                },
                error: function(data, error) {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                        css: {
                            border: '0px',
                            width: '40%',
                            top: '30%'
                        }
                    });
                    $("#ngo_detail_btn").buttonLoader('stop');
                    setTimeout($.unblockUI, 2000);
                },
                data: "validity_available=" + validity_available + "&valid_exp_date=" + valid_exp_date + "&fcra_available=" + fcra_available + "&ngo_fcra_no=" + ngo_fcra_no + "&fcra_reg_date=" + fcra_reg_date + "&fcra_exp_date=" + fcra_exp_date + "&org_pan_no=" + org_pan_no2 + "&ngo_name_new=" + ngo_name_new + "&ngo_pan_name_new=" + ngo_pan_name_new + "&ngo_parent_org=" + ngo_parent_org + "&ngo_email=" + ngo_email + "&ngo_url=" + ngo_url + "&ngo_area=" + ngo_area + "&ngo_state=" + ngo_state + "&ngo_district=" + ngo_district + "&ngo_zip_code=" + ngo_zip_code + "&upload_doc_id=" + upload_doc_id + "&p_registered_with=" + p_registered_with + "&p_ngo_type=" + p_ngo_type + "&p_reg_no=" + p_reg_no + "&Preg_upload_doc_id=" + Preg_upload_doc_id + "&p_act_name=" + p_act_name + "&p_date_reg=" + p_date_reg + "&p_reg_city=" + p_reg_city + "&csrf_test_name=" + csrf_test_name + "&nr_id=" + nr_id + "&ngo_p_pan_status=" + ngo_p_pan_status + "&ngo_p_pan_datetime=" + ngo_p_pan_datetime + "&ngo_p_pan_combined=" + ngo_p_pan_combined,

                success: function(json) {

                    $("#ngo_detail_btn").buttonLoader('stop');

                    var obj = jQuery.parseJSON(json);

                    var jsonString = JSON.stringify(json);

                    if (obj['success'] == 0) {

                        if (jsonString.indexOf("org_pan_no") > -1) {

                            var arr = obj['errors']['org_pan_no'].split('-');

                            var htmlstyle = "<ul class='list-unstyled'><li>" + arr[1] + "</li></ul>";
                            //$('.p_org_pan_error').show();
                            $('#org_pan_no').val(arr[0]);
                            $('.p_org_pan_error').html(htmlstyle);

                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please dont change your existing org pan or ORG Name!</h4>",
                                css: {
                                    border: '0px',
                                    width: '36%',
                                    top: '30%'
                                }
                            });

                            setTimeout(function() {
                                $.unblockUI({
                                    onUnblock: function() {
                                        var url = "https://ngodarpan.gov.in/index.php/ngo/primaryngo";
                                        $(location).attr('href', url);
                                    }
                                });
                            }, 2000);

                        } else {
                            $('.p_org_pan_error').hide();
                        }

                        if (jsonString.indexOf("not_save") > -1) {

                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Happened, Please close window and Try After Sometime!</h4>",
                                css: {
                                    border: '0px',
                                    width: '36%',
                                    top: '30%'
                                }
                            });

                            setTimeout(function() {
                                $.unblockUI({
                                    onUnblock: function() {
                                        var url = "https://ngodarpan.gov.in/index.php/ngo/primaryngo";
                                        $(location).attr('href', url);
                                    }
                                });
                            }, 2000);

                        }

                        if (jsonString.indexOf("upload_doc_id") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['upload_doc_id'] + "</li></ul>";
                            $('.p_upload_pan_error').show();
                            $('.p_upload_pan_error').html(htmlstyle);
                        } else {
                            $('.p_upload_pan_error').hide();
                        }

                        if (jsonString.indexOf("ngo_name_new") > -1) {

                            var arr = obj['errors']['ngo_name_new'].split('-');

                            var htmlstyle = "<ul class='list-unstyled'><li>" + arr[1] + "</li></ul>";
                            // $('.p_ngo_name_error').show();
                            $('#ngo_name_new').val(arr[0]);
                            $('.p_ngo_name_error').html(htmlstyle);

                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please dont change your existing ORG Pan OR org name!</h4>",
                                css: {
                                    border: '0px',
                                    width: '36%',
                                    top: '30%'
                                }
                            });

                            setTimeout(function() {
                                $.unblockUI({
                                    onUnblock: function() {
                                        var url = "https://ngodarpan.gov.in/index.php/ngo/primaryngo";
                                        $(location).attr('href', url);
                                    }
                                });
                            }, 2000);
                        } else {
                            $('.p_ngo_name_error').hide();
                        }

                        if (jsonString.indexOf("ngo_area") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['ngo_area'] + "</li></ul>";
                            $('.p_address_error').show();
                            $('.p_address_error').html(htmlstyle);
                        } else {
                            $('.p_address_error').hide();
                        }

                        if (jsonString.indexOf("ngo_state") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['ngo_state'] + "</li></ul>";
                            $('.p_state_error').show();
                            $('.p_state_error').html(htmlstyle);
                        } else {
                            $('.p_state_error').hide();
                        }

                        if (jsonString.indexOf("ngo_district") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['ngo_district'] + "</li></ul>";
                            $('.p_district_error').show();
                            $('.p_district_error').html(htmlstyle);
                        } else {
                            $('.p_district_error').hide();
                        }

                        if (jsonString.indexOf("ngo_zip_code") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['ngo_zip_code'] + "</li></ul>";
                            $('.p_pincode_error').show();
                            $('.p_pincode_error').html(htmlstyle);
                        } else {
                            $('.p_pincode_error').hide();
                        }

                        if (jsonString.indexOf("p_reg_city") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['p_reg_city'] + "</li></ul>";
                            $('.p_reg_city_error').show();
                            $('.p_reg_city_error').html(htmlstyle);
                        } else {
                            $('.p_reg_city_error').hide();
                        }

                        if (jsonString.indexOf("ngo_email") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['ngo_email'] + "</li></ul>";
                            $('.p_email_error').show();
                            $('.p_email_error').html(htmlstyle);
                        } else {
                            $('.p_email_error').hide();
                        }

                        if (jsonString.indexOf("ngo_url") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['ngo_url'] + "</li></ul>";
                            $('.p_ngo_url_error').show();
                            $('.p_ngo_url_error').html(htmlstyle);
                        } else {
                            $('.p_ngo_url_error').hide();
                        }

                        if (jsonString.indexOf("p_registered_with") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['p_registered_with'] + "</li></ul>";
                            $('.p_reg_with_error').show();
                            $('.p_reg_with_error').html(htmlstyle);
                        } else {
                            $('.p_reg_with_error').hide();
                        }

                        if (jsonString.indexOf("p_ngo_type") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['p_ngo_type'] + "</li></ul>";
                            $('.p_ngo_typ_error').show();
                            $('.p_ngo_typ_error').html(htmlstyle);
                        } else {
                            $('.p_ngo_typ_error').hide();
                        }

                        if (jsonString.indexOf("p_reg_no") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['p_reg_no'] + "</li></ul>";
                            $('.p_reg_no_error').show();
                            $('.p_reg_no_error').html(htmlstyle);
                        } else {
                            $('.p_reg_no_error').hide();
                        }

                        if (jsonString.indexOf("Preg_upload_doc_id") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['Preg_upload_doc_id'] + "</li></ul>";
                            $('.p_upload_rc_error').show();
                            $('.p_upload_rc_error').html(htmlstyle);
                        } else {
                            $('.p_upload_rc_error').hide();
                        }

                        if (jsonString.indexOf("p_act_name") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['p_act_name'] + "</li></ul>";
                            $('.p_act_name_error').show();
                            $('.p_act_name_error').html(htmlstyle);
                        } else {
                            $('.p_act_name_error').hide();
                        }

                        if (jsonString.indexOf("p_date_reg") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['p_date_reg'] + "</li></ul>";
                            $('.p_reg_date_error').show();
                            $('.p_reg_date_error').html(htmlstyle);
                        } else {
                            $('.p_reg_date_error').hide();
                        }

                        if (jsonString.indexOf("valid_exp_date") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['valid_exp_date'] + "</li></ul>";
                            $('.valid_exp_date_error').show();
                            $('.valid_exp_date_error').html(htmlstyle);
                        } else {
                            $('.valid_exp_date_error').hide();
                        }

                        if (jsonString.indexOf("ngo_parent_org") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['ngo_parent_org'] + "</li></ul>";
                            $('.p_parent_org_error').show();
                            $('.p_parent_org_error').html(htmlstyle);
                        } else {
                            $('.p_parent_org_error').hide();
                        }

                        if (jsonString.indexOf("ngo_fcra_no") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['ngo_fcra_no'] + "</li></ul>";
                            $('.fcra_no_error').show();
                            $('.fcra_no_error').html(htmlstyle);
                        } else {
                            $('.fcra_no_error').hide();
                        }

                        if (jsonString.indexOf("fcra_reg_date") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['fcra_reg_date'] + "</li></ul>";
                            $('.fcra_reg_error').show();
                            $('.fcra_reg_error').html(htmlstyle);
                        } else {
                            $('.fcra_reg_error').hide();
                        }

                        if (jsonString.indexOf("fcra_exp_date") > -1) {

                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['fcra_exp_date'] + "</li></ul>";
                            $('.fcra_exp_date_error').show();
                            $('.fcra_exp_date_error').html(htmlstyle);
                        } else {
                            $('.fcra_exp_date_error').hide();
                        }

                        if (jsonString.indexOf("uploadid") > -1) {

                            var htmlstyle = obj['errors']['uploadid'];

                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />" + htmlstyle + "</h4>",
                                css: {
                                    border: '0px',
                                    width: '43%',
                                    top: '30%'
                                }
                            });

                            setTimeout(function() {
                                $.unblockUI({
                                    onUnblock: function() {
                                        var url = "https://ngodarpan.gov.in/index.php/ngo/primaryngo";
                                        $(location).attr('href', url);
                                    }
                                });
                            }, 4000);

                        }

                        if (jsonString.indexOf("Preguploaddocid") > -1) {

                            var htmlstyle = obj['errors']['Preguploaddocid'];

                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />" + htmlstyle + "</h4>",
                                css: {
                                    border: '0px',
                                    width: '43%',
                                    top: '30%'
                                }
                            });

                            setTimeout(function() {
                                $.unblockUI({
                                    onUnblock: function() {
                                        var url = "https://ngodarpan.gov.in/index.php/ngo/primaryngo";
                                        $(location).attr('href', url);
                                    }
                                });
                            }, 4000);

                        }
                    } else {
                        var check_for_valid_pan = '';
                        var csrf_test_name = get_csrf_token();
                        $('.ngoo_pan_status').hide();

                        $.ajax({
                            url: "https://ngodarpan.gov.in/index.php/ngo/get_status/P/C",
                            type: "POST",
                            crossDomain: true,
                            beforeSend: function(request) {
                                $("#ngo_detail_btn").buttonLoader('start');
                                request.setRequestHeader("Access-Control-Allow-Origin", "*");
                                request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                            },
                            error: function(data, error) {
                                $("#ngo_detail_btn").buttonLoader('stop');
                                return false;
                            },
                            data: "pannumber=" + org_pan_no2 + "&csrf_test_name=" + csrf_test_name + "&org_name=" + $('#ngo_name_new').val() + "&pan_name=" + $('#ngo_pan_name_new').val(),
                            success: function(data) {
                                $("#ngo_detail_btn").buttonLoader('stop');
                                var obj1 = jQuery.parseJSON(data);

                                if (obj1['status'] == 1) { //var ngoo_pan_name = $.trim($('#ngo_pan_name_new').val()); 
                                    //ngoo_pan_name = ngoo_pan_name.toUpperCase(); 

                                    var ngoo_pan_name = $('#ngo_pan_name_new').val();

                                    ngoo_pan_name = ngoo_pan_name.replace(/ +(?= )/g, '');
                                    ngoo_pan_name = ngoo_pan_name.toUpperCase();

                                    var ajax_name = $.trim(obj1['last_name1']);

                                    if (ngoo_pan_name == '') {
                                        check_for_valid_pan = 0;
                                        $('#ngo_pan_status_msg').hide();
                                        $('.ngo_pan_status_error').hide();
                                        $('.ngo_pan_status_error').css('background-color', 'red');
                                        $('.ngo_pan_status_error').show();
                                        $('.ngo_pan_status_error').html('Pan Name/Pan Number Not match!');
                                        $('#ngo_p_pan_status').val('');
                                        $('#ngo_p_pan_datetime').val('');
                                        $('#ngo_p_pan_combined').val('');
                                    }
                                    if (ajax_name === $.trim(ngoo_pan_name)) {
                                        check_for_valid_pan = 1;
                                        $('#ngo_pan_status_msg').hide();
                                        $('.ngo_pan_status_error').css('background-color', '#5bbd72');
                                        $('.ngo_pan_status_error').show();
                                        $('.ngo_pan_status_error').html('Pan Name & Pan Number validated Successfully!');
                                        $('#ngo_p_pan_status').val(obj1['status']);
                                        $('#ngo_p_pan_datetime').val(obj1['txn_dt']);
                                        $('#ngo_p_pan_combined').val(obj1['combined']);
                                    } else {
                                        check_for_valid_pan = 0;
                                        $('#ngo_pan_status_msg').hide();
                                        $('.ngo_pan_status_error').hide();
                                        $('.ngo_pan_status_error').css('background-color', 'red');
                                        $('.ngo_pan_status_error').show();
                                        $('.ngo_pan_status_error').html('Pan Name/Pan Number Not match!');
                                        $('#ngo_p_pan_status').val('');
                                        $('#ngo_p_pan_datetime').val('');
                                        $('#ngo_p_pan_combined').val('');
                                        //return false;
                                    }
                                } else if (obj1['status'] == 2) {
                                    $('.ngo_pan_status_error').html('');
                                    $('.ngo_pan_status_error').hide();

                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Your NGO Profile Has been Saved !</h4>",
                                        css: {
                                            border: '0px',
                                            width: '36%',
                                            top: '30%'
                                        }
                                    });

                                    setTimeout(function() {
                                        $.unblockUI({
                                            onUnblock: function() {
                                                var url = "https://ngodarpan.gov.in/index.php/ngo/primaryngo";
                                                $(location).attr('href', url);
                                            }
                                        });
                                    }, 2000);

                                } else if (obj1['status'] == 5) {
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Close the Window OR Referesh Page, Try Again !</h4>",
                                        css: {
                                            border: '0px',
                                            width: '26%',
                                            top: '30%'
                                        }
                                    });
                                    setTimeout($.unblockUI, 4000);
                                } else {
                                    $('#ngo_pan_status_msg').hide();
                                    check_for_valid_pan = 0;
                                    $('.ngo_pan_status_error').css('background-color', 'red');
                                    $('.ngo_pan_status_error').show();
                                    $('.ngo_pan_status_error').html(obj1['message']);
                                    //return false;
                                }
                            },
                            async: false
                        });

                        if (check_for_valid_pan == 1) {
                            var ngo_p_pan_status = $('#ngo_p_pan_status').val();
                            var ngo_p_pan_datetime = $('#ngo_p_pan_datetime').val();
                            var ngo_p_pan_combined = $('#ngo_p_pan_combined').val();

                            var csrf_test_name = get_csrf_token();
                            $("#ngo_detail_btn").buttonLoader('start');

                            $.ajax({
                                type: "POST",
                                beforeSend: function() {
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                                        css: {
                                            border: '0px',
                                            width: '18%',
                                            top: '30%'
                                        }
                                    });
                                },
                                error: function(data, error) {
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                        css: {
                                            border: '0px',
                                            width: '40%',
                                            top: '30%'
                                        }
                                    });
                                    setTimeout($.unblockUI, 2000);
                                    $("#ngo_detail_btn").buttonLoader('stop');
                                    return false;
                                },
                                url: "https://ngodarpan.gov.in/index.php/ngo/save_ngo_p_info",
                                data: "ngo_p_pan_status=" + ngo_p_pan_status + "&ngo_p_pan_datetime=" + ngo_p_pan_datetime + "&ngo_p_pan_combined=" + ngo_p_pan_combined + "&csrf_test_name=" + csrf_test_name,
                                success: function(json) {
                                    $("#ngo_detail_btn").buttonLoader('stop');
                                    setTimeout($.unblockUI, 2000);
                                    var obj = jQuery.parseJSON(json);
                                    var jsonString = JSON.stringify(json);

                                    if (obj['success'] == 0) {

                                        return false;
                                    }
                                },
                            });
                        } else {
                            return false;
                        }

                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Your NGO Profile Has been Saved !</h4>",
                            css: {
                                border: '0px',
                                width: '36%',
                                top: '30%'
                            }
                        });

                        setTimeout(function() {
                            $.unblockUI({
                                onUnblock: function() {
                                    var url = "https://ngodarpan.gov.in/index.php/ngo/primaryngo";
                                    $(location).attr('href', url);
                                }
                            });
                        }, 2000);
                    }
                }
            });
        }
    });

    $("#add-form-registeration").validator().on("submit", function(event) {
        if (event.isDefaultPrevented()) {
            //formError();
        } else {
            event.preventDefault();
            $("#sec_reg_btn").buttonLoader('start');
            var org_name = $('#org_name').val();
            var reg_address = $('#reg_address').val();
            var reg_state = $('#reg_state').val();
            var reg_district = $('#reg_district').val();
            var city_reg = $('#reg_city').val();
            var registered_with = $('#registered_with').val();
            var ngo_type = $('#ngo_type').val();
            var reg_no = $('#reg_no').val();
            var act_name = $('#act_name').val();
            var date_reg = $('#date_reg').val();

            //var nr_isRegTo = $("#validity_available1").val();
            var nr_isRegTo = $("input:radio[name=validity_available1]:checked").val();

            if (nr_isRegTo == 'Y') {
                var valid_upto = $('#sec_valid_exp_date').val();
            } else {
                var valid_upto = '0000-00-00';
            }

            // var valid_upto = $('#valid_upto').val();
            var reg_upload_doc_id = $('#reg_upload_doc_id').val();
            var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();

            $.ajax({
                type: "POST",
                url: "https://ngodarpan.gov.in/index.php/ngo/save_ngo_reg_info",
                complete: function() {
                    $("#sec_reg_btn").buttonLoader('stop');
                },
                data: "nr_isRegTo=" + nr_isRegTo + "&registered_with=" + registered_with + "&ngo_type=" + ngo_type + "&act_name=" + act_name + "&org_name=" + org_name + "&reg_address=" + reg_address + "&date_reg=" + date_reg + "&valid_upto=" + valid_upto + "&city_reg=" + city_reg + "&state_reg=" + reg_state + "&reg_district=" + reg_district + "&reg_no=" + reg_no + "&reg_upload_doc_id=" + reg_upload_doc_id + "&csrf_test_name=" + csrf_test_name,

                success: function(json) {

                    var obj = jQuery.parseJSON(json);
                    var jsonString = JSON.stringify(json);

                    if (obj['success'] == 1) {
                        $('#add-modal').modal('toggle');

                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                            css: {
                                border: '0px',
                                width: '18%',
                                top: '30%'
                            }
                        });

                        setTimeout(function() {
                            $.unblockUI({
                                onUnblock: function() {

                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Your NGO REG Details has been saved!</h4>",
                                        css: {
                                            border: '0px',
                                            width: '36%',
                                            top: '30%'
                                        }
                                    });

                                    setTimeout(function() {
                                        $.unblockUI({
                                            onUnblock: function() {
                                                var url = "https://ngodarpan.gov.in/index.php/ngo/multiplengo";
                                                $(location).attr('href', url);
                                            }
                                        });
                                    }, 4000);
                                }
                            });
                        }, 3000);
                    } else {

                        if (jsonString.indexOf("all_mandate_check") > -1) {
                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Your Mandatory Primary Reg. is Not Completed Yet, Please Complete it in NGO Details Tab!</h4>",
                                css: {
                                    border: '0px',
                                    width: '36%',
                                    top: '30%'
                                }
                            });

                            setTimeout(function() {
                                $.unblockUI({
                                    onUnblock: function() {
                                        var url = "https://ngodarpan.gov.in/index.php/ngo/primaryngo";
                                        $(location).attr('href', url);
                                    }
                                });
                            }, 6000);
                        }

                        if (jsonString.indexOf("org_name") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['org_name'] + "</li></ul>";
                            $('.s_org_name_error').show();
                            $('.s_org_name_error').html(htmlstyle);
                        } else {
                            $('.s_org_name_error').hide();

                        }


                        if (jsonString.indexOf("reg_address") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['reg_address'] + "</li></ul>";
                            $('.s_reg_address_error').show();
                            $('.s_reg_address_error').html(htmlstyle);
                        } else {
                            $('.s_reg_address_error').hide();

                        }

                        if (jsonString.indexOf("state_reg") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['state_reg'] + "</li></ul>";
                            $('.s_reg_state_error').show();
                            $('.s_reg_state_error').html(htmlstyle);
                        } else {
                            $('.s_reg_state_error').hide();

                        }

                        if (jsonString.indexOf("reg_district") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['reg_district'] + "</li></ul>";
                            $('.s_reg_district_error').show();
                            $('.s_reg_district_error').html(htmlstyle);
                        } else {
                            $('.s_reg_district_error').hide();

                        }

                        if (jsonString.indexOf("city_reg") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['city_reg'] + "</li></ul>";
                            $('.s_reg_city_error').show();
                            $('.s_reg_city_error').html(htmlstyle);
                        } else {
                            $('.s_reg_city_error').hide();

                        }

                        if (jsonString.indexOf("registered_with") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['registered_with'] + "</li></ul>";
                            $('.s_registered_with_error').show();
                            $('.s_registered_with_error').html(htmlstyle);
                        } else {
                            $('.s_registered_with_error').hide();

                        }

                        if (jsonString.indexOf("ngo_type") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['ngo_type'] + "</li></ul>";
                            $('.s_ngo_type_error').show();
                            $('.s_ngo_type_error').html(htmlstyle);
                        } else {
                            $('.s_ngo_type_error').hide();

                        }

                        if (jsonString.indexOf("reg_no") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['reg_no'] + "</li></ul>";
                            $('.s_reg_no_error').show();
                            $('.s_reg_no_error').html(htmlstyle);
                        } else {
                            $('.s_reg_no_error').hide();

                        }

                        if (jsonString.indexOf("reg_upload_doc_id") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['reg_upload_doc_id'] + "</li></ul>";
                            $('.reg_upload_doc_id_error').show();
                            $('.reg_upload_doc_id_error').html(htmlstyle);
                        } else {
                            $('.reg_upload_doc_id_error').hide();

                        }


                        if (jsonString.indexOf("act_name") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['act_name'] + "</li></ul>";
                            $('.s_act_name_error').show();
                            $('.s_act_name_error').html(htmlstyle);
                        } else {
                            $('.s_act_name_error').hide();

                        }

                        if (jsonString.indexOf("date_reg") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['date_reg'] + "</li></ul>";
                            $('.s_date_reg_error').show();
                            $('.s_date_reg_error').html(htmlstyle);
                        } else {
                            $('.s_date_reg_error').hide();

                        }

                        if (jsonString.indexOf("valid_upto") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['valid_upto'] + "</li></ul>";
                            $('.sec_valid_exp_date_error').show();
                            $('.sec_valid_exp_date_error').html(htmlstyle);
                        } else {
                            $('.sec_valid_exp_date_error').hide();

                        }
                    }

                    return false;
                }
            });
        }
    });


    $("#add-form-member").validator().on("submit", function(event) {
        if (event.isDefaultPrevented()) {
            //formError();
        } else {
            event.preventDefault();

            $("#add_member_btn").buttonLoader('start');

            $('.member_name_error').hide();
            $('.member_gender_error').hide();
            $('.member_dob_error').hide();
            $('.member_designation_error').hide();
            $('.check_member_exists_error').hide();
            $('.check_member_exists_two_error').hide();
            $('.member_key_designation_error').hide();
            $('.member_pan_no_error').hide();
            $('.pan_name_error').hide();
            $('.uplaod_button_PC_error').hide();
            $('.pan_check_error').hide();
            $('.member_adhar_no_error').hide();
            $('.aadhaar_name_error').hide();
            $('.upload_doc_id_AC_error').hide();
            $('.aadhar_check_error').hide();
            $('.member_mobile_no_error').hide();
            $('.member_email_error').hide();
            $('.member_active_from_error').hide();

            var check_for_valid_pan = '';
            var check_for_valid_aadhaar = '';


            var csrf_test_name = get_csrf_token();
            var member_name = $('#member_name').val();
            member_name = member_name.replace(/ +(?= )/g, '');

            var member_gender = $("input:radio[name=member_gender]:checked").val();

            var member_dob = $('#member_dob').val();
            var member_designation = $('#member_designation').val();
            var member_key_designation = $('#member_key_designation').val();

            var member_pan_no = $('#member_pan_no').val();
            member_pan_no = member_pan_no.replace(/ +(?= )/g, '');

            var pan_name = $('#pan_name').val();
            pan_name = pan_name.replace(/ +(?= )/g, '');

            //var member_pan_check = $('#pan_check').val();
            var member_adhar_no = $('#member_adhar_no').val();
            member_adhar_no = member_adhar_no.replace(/ +(?= )/g, '');


            var key = $('#key').val();
            var member_pan_no2 = Aes.Ctr.encrypt($('#member_pan_no').val(), key, 256);
            var member_adhar_no2 = Aes.Ctr.encrypt($('#member_adhar_no').val(), key, 256);




            var aadhaar_name = $('#aadhaar_name').val();
            aadhaar_name = aadhaar_name.replace(/ +(?= )/g, '');

            var member_mobile_no = $('#member_mobile_no').val();
            var member_email = $('#member_email').val();
            var member_active_from = $('#member_active_from').val();
            var member_active_to = '';

            $('.member_pan_status').hide();

            var upload_doc_id_AC = '';
            upload_doc_id_AC = $('#upload_doc_id_AC').val();

            if ($("#aadhar_check").is(":checked")) {
                var member_adhar_check = 1;
            } else {
                var member_adhar_check = 0;
            }

            var check_for_valid_aadhaar = 1;

            var aadhaar_status = '';







            var upload_doc_id_PC = $('#upload_doc_id_PC').val();
            //var member_pan_check = $('#pan_check').val();

            if ($("#pan_check").is(":checked")) {
                var member_pan_check = 1;
            } else {
                var member_pan_check = 0;
            }

            var check_for_valid_pan = 1;

            var mem_pan_status = '';
            var mem_pan_datetime = '';
            var mem_pan_combined = '';

            var id = '';


            if (member_designation == 11) {

                var others_desig_text_box_id = $("input[name=others_desig_text_box_id]").val();
                var others_desig_value = $('#others_desig_text_box').val();
                if (others_desig_text_box_id == '') {
                    var others_desig_value = $('#others_desig_text_box').val();
                } else {
                    var others_desig_value = others_desig_text_box_id;
                }

            } else {
                var others_desig_value = '';
            }

            $.ajax({
                type: "POST",
                url: "https://ngodarpan.gov.in/index.php/ngo/save_ngo_member_info",
                beforeSend: function() {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait..</h4>",
                        css: {
                            border: '0px',
                            width: '26%',
                            top: '30%'
                        }
                    });
                },
                error: function(data, error) {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                        css: {
                            border: '0px',
                            width: '40%',
                            top: '30%'
                        }
                    });
                    setTimeout($.unblockUI, 2000);
                    $("#add_member_btn").buttonLoader('stop');
                },
                complete: function() {
                    setTimeout($.unblockUI);
                },
                data: "member_name=" + member_name + "&member_designation=" + member_designation + "&member_pan_no2=" + member_pan_no2 + "&pan_check=" + member_pan_check + "&member_adhar_no2=" + member_adhar_no2 + "&adhar_check=" + member_adhar_check + "&member_mobile_no=" + member_mobile_no + "&member_email=" + member_email + "&member_active_from=" + member_active_from + "&member_active_to=" + member_active_to + "&upload_doc_id_PC=" + upload_doc_id_PC + "&upload_doc_id_AC=" + upload_doc_id_AC + "&member_key_designation=" + member_key_designation + "&id=" + id + "&csrf_test_name=" + csrf_test_name + "&member_gender=" + member_gender + "&member_dob=" + member_dob + "&pan_name=" + pan_name + "&aadhaar_name=" + aadhaar_name + "&others_desig_value=" + others_desig_value + "&aadhaar_status=" + aadhaar_status + "&mem_pan_status=" + mem_pan_status + "&mem_pan_datetime=" + mem_pan_datetime + "&mem_pan_combined=" + mem_pan_combined,

                success: function(json) {
                    setTimeout($.unblockUI);
                    $("#add_member_btn").buttonLoader('stop');
                    $('.member_uid_status').hide();
                    $('.member_pan_status').hide();

                    var obj = jQuery.parseJSON(json);
                    var jsonString = JSON.stringify(json);
                    // alert(obj['success']);
                    if (obj['success'] == 1) {
                        var check_for_valid_pan = 1;
                        var check_for_valid_aadhaar = 1;

                        $("#add_member_btn").buttonLoader('start');
                        var csrf_test_name = get_csrf_token();
                        $('.member_pan_status').hide();

                        $.ajax({
                            url: "https://ngodarpan.gov.in/index.php/ngo/get_status/P/M",
                            type: "POST",
                            crossDomain: true,
                            beforeSend: function(request) {
                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Validating Pan Number..</h4>",
                                    css: {
                                        border: '0px',
                                        width: '26%',
                                        top: '30%'
                                    }
                                });
                                request.setRequestHeader("Access-Control-Allow-Origin", "*");
                                request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                            },
                            error: function(data, error) {
                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                    css: {
                                        border: '0px',
                                        width: '40%',
                                        top: '30%'
                                    }
                                });
                                setTimeout($.unblockUI, 2000);
                                $("#add_member_btn").buttonLoader('stop');
                            },
                            data: "pannumber=" + member_pan_no2 + "&csrf_test_name=" + csrf_test_name + "&member_name=" + member_name + "&pan_name=" + pan_name,
                            success: function(data) {
                                $("#add_member_btn").buttonLoader('stop');
                                var obj1 = jQuery.parseJSON(data);

                                if (obj1['status'] == 1) {
                                    member_pan_name = $.trim(pan_name.toUpperCase());
                                    var noc = obj1['name_on_card'];
                                    console.log('noc is ->' + noc);
                                    if (member_pan_name != '') {
                                        var noc = trim(obj1['name_on_card']);
                                        console.log('noc is ' + noc);


                                        if (obj1['first_name1'] != '') {
                                            var cpn = obj1['first_name1'];

                                            cpn = $.trim(cpn);

                                            cpn = cpn.toUpperCase();
                                        }

                                        if (obj1['last_name1'] != '') {
                                            var cpn = obj1['first_name1'] + ' ' + obj1['last_name1'];
                                            cpn = $.trim(cpn);

                                            cpn = cpn.toUpperCase();
                                        }

                                        if (obj1['middle_name1'] != '') {
                                            var cpn = obj1['first_name1'] + ' ' + obj1['middle_name1'] + ' ' + obj1['last_name1'];
                                            cpn = $.trim(cpn);

                                            cpn = cpn.toUpperCase();
                                        }
                                    } else {
                                        check_for_valid_pan = '0';
                                        $('.member_pan_status').hide();
                                        $('.member_pan_status').css('background-color', 'red');
                                        $('.member_pan_status').show();
                                        $('.member_pan_status').html('Pan Name/Pan Number Not match!');
                                        $('#mem_pan_status').val('');
                                        $('#mem_pan_datetime').val('');
                                        $('#mem_pan_combined').val('');
                                        $("#add_member_btn").buttonLoader('stop');
                                    }

                                    if (cpn == member_pan_name || noc == member_pan_name) {
                                        check_for_valid_pan = '1';

                                        $('.member_pan_status').css('background-color', '#5bbd72');
                                        $('.member_pan_status').show();
                                        $('.member_pan_status').html('Pan Name & Pan Number validated Successfully!');
                                        $('#mem_pan_status').val(obj1['status']);
                                        $('#mem_pan_datetime').val(obj1['txn_dt']);
                                        $('#mem_pan_combined').val(obj1['combined']);
                                    } else {
                                        check_for_valid_pan = '0';
                                        $("#add_member_btn").buttonLoader('stop');
                                        $('.member_pan_status').hide();
                                        $('.member_pan_status').css('background-color', 'red');
                                        $('.member_pan_status').show();
                                        $('.member_pan_status').html('Pan Name/Pan Number Not match!');
                                        $('#mem_pan_status').val('');
                                        $('#mem_pan_datetime').val('');
                                        $('#mem_pan_combined').val('');
                                        $("#add_member_btn").buttonLoader('stop');
                                    }
                                } else if (obj1['status'] == 5) {
                                    alert("Close the Window OR Referesh Page, Try Again !");
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Close the Window OR Referesh Page, Try Again !</h4>",
                                        css: {
                                            border: '0px',
                                            width: '26%',
                                            top: '30%'
                                        }
                                    });
                                    setTimeout($.unblockUI, 4000);
                                } else {
                                    check_for_valid_pan = '0';
                                    $('.member_pan_status').css('background-color', 'red');
                                    $('.member_pan_status').show();
                                    $('.member_pan_status').html(obj1['message']);
                                    $("#add_member_btn").buttonLoader('stop');
                                    //return false;
                                }
                            },
                            async: false
                        });

                        var mem_pan_status = $('#mem_pan_status').val();
                        var mem_pan_datetime = $('#mem_pan_datetime').val();
                        var mem_pan_combined = $('#mem_pan_combined').val();

                        var upload_doc_id_PC = '';

                        if ($("#pan_check").is(":checked")) {
                            var member_pan_check = 1;
                        } else {
                            var member_pan_check = 0;
                        }


                        $("#add_member_btn").buttonLoader('start');

                        var csrf_test_name = get_csrf_token();

                        var uid = $("#member_adhar_no").val();

                        uid = uid.replace(/ +(?= )/g, '');

                        var aname = $("#aadhaar_name").val();

                        aname = aname.replace(/ +(?= )/g, '');

                        var Verhoeff = {
                            "d": [
                                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                                [1, 2, 3, 4, 0, 6, 7, 8, 9, 5],
                                [2, 3, 4, 0, 1, 7, 8, 9, 5, 6],
                                [3, 4, 0, 1, 2, 8, 9, 5, 6, 7],
                                [4, 0, 1, 2, 3, 9, 5, 6, 7, 8],
                                [5, 9, 8, 7, 6, 0, 4, 3, 2, 1],
                                [6, 5, 9, 8, 7, 1, 0, 4, 3, 2],
                                [7, 6, 5, 9, 8, 2, 1, 0, 4, 3],
                                [8, 7, 6, 5, 9, 3, 2, 1, 0, 4],
                                [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
                            ],
                            "p": [
                                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                                [1, 5, 7, 6, 2, 8, 3, 0, 9, 4],
                                [5, 8, 0, 3, 7, 9, 6, 1, 4, 2],
                                [8, 9, 1, 6, 0, 4, 3, 5, 2, 7],
                                [9, 4, 5, 3, 1, 2, 6, 8, 7, 0],
                                [4, 2, 8, 6, 5, 7, 3, 9, 0, 1],
                                [2, 7, 9, 3, 8, 0, 6, 4, 1, 5],
                                [7, 0, 4, 6, 9, 1, 3, 2, 5, 8]
                            ],
                            "j": [0, 4, 3, 2, 1, 5, 6, 7, 8, 9],
                            "check": function(str) {
                                var c = 0;
                                str.replace(/\D+/g, "").split("").reverse().join("").replace(/[\d]/g, function(u, i, o) {
                                    c = Verhoeff.d[c][Verhoeff.p[i & 7][parseInt(u, 10)]];
                                });
                                //alert(c)
                                return c;
                                //return (c === 0);

                            },
                            "get": function(str) {

                                var c = 0;
                                str.replace(/\D+/g, "").split("").reverse().join("").replace(/[\d]/g, function(u, i, o) {
                                    c = Verhoeff.d[c][Verhoeff.p[(i + 1) & 7][parseInt(u, 10)]];
                                });
                                //alert('d '+Verhoeff.j[c]);
                                //alert(Verhoeff.j[c]);
                                return Verhoeff.j[c];
                            }
                        };

                        // Verhoeff algorithm validator, by Avraham Plotnitzky. (aviplot at gmail)
                        String.prototype.verhoeffCheck = (function() {
                            //alert("sdd");
                            var d = [
                                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                                [1, 2, 3, 4, 0, 6, 7, 8, 9, 5],
                                [2, 3, 4, 0, 1, 7, 8, 9, 5, 6],
                                [3, 4, 0, 1, 2, 8, 9, 5, 6, 7],
                                [4, 0, 1, 2, 3, 9, 5, 6, 7, 8],
                                [5, 9, 8, 7, 6, 0, 4, 3, 2, 1],
                                [6, 5, 9, 8, 7, 1, 0, 4, 3, 2],
                                [7, 6, 5, 9, 8, 2, 1, 0, 4, 3],
                                [8, 7, 6, 5, 9, 3, 2, 1, 0, 4],
                                [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
                            ];
                            var p = [
                                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                                [1, 5, 7, 6, 2, 8, 3, 0, 9, 4],
                                [5, 8, 0, 3, 7, 9, 6, 1, 4, 2],
                                [8, 9, 1, 6, 0, 4, 3, 5, 2, 7],
                                [9, 4, 5, 3, 1, 2, 6, 8, 7, 0],
                                [4, 2, 8, 6, 5, 7, 3, 9, 0, 1],
                                [2, 7, 9, 3, 8, 0, 6, 4, 1, 5],
                                [7, 0, 4, 6, 9, 1, 3, 2, 5, 8]
                            ];
                            var j = [0, 4, 3, 2, 1, 5, 6, 7, 8, 9];

                            return function() {
                                var c = 0;
                                this.replace(/\D+/g, "").split("").reverse().join("").replace(/[\d]/g, function(u, i, o) {
                                    c = d[c][p[i & 7][parseInt(u, 10)]];
                                });
                                //alert(c);
                                return (c === 0);
                            };
                        })();


                        if (Verhoeff['check'](uid) == 0) {
                            if (aname != '') {


                                //var key = $('#key').val();

                                var member_adhar_no2 = Aes.Ctr.encrypt(uid, key, 256);
                                $.ajax({
                                    url: "https://ngodarpan.gov.in/index.php/ngo/get_status/A/M",
                                    type: "POST",
                                    crossDomain: true,
                                    beforeSend: function(request) {
                                        request.setRequestHeader("Access-Control-Allow-Origin", "*");
                                        $.blockUI({
                                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Validating Adhaar..</h4>",
                                            css: {
                                                border: '0px',
                                                width: '26%',
                                                top: '30%'
                                            }
                                        });
                                    },
                                    error: function(data, error) {
                                        $.blockUI({
                                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                            css: {
                                                border: '0px',
                                                width: '40%',
                                                top: '30%'
                                            }
                                        });
                                        setTimeout($.unblockUI, 2000);
                                        $("#add_member_btn").buttonLoader('stop');
                                        return false;
                                    },
                                    complete: function() {
                                        setTimeout($.unblockUI);
                                    },
                                    async: false,
                                    data: "aadhaarnumber=" + member_adhar_no2 + "&aadhaarname=" + aname + "&csrf_test_name=" + csrf_test_name + "&member_name=" + member_name,
                                    success: function(data) {
                                        $("#add_member_btn").buttonLoader('stop');
                                        var obj12 = jQuery.parseJSON(data);
                                        if (obj12['status'] == 1) {
                                            $('.member_uid_status').css('background-color', '#5bbd72');
                                            $('.member_uid_status').show();
                                            $('.member_uid_status').html('Aadhaar Name & Aadhaar Number validated Successfully!');
                                            $('#aadhaar_status').val(obj12['status']);





                                            check_for_valid_aadhaar = '1';

                                        } else if (obj12['status'] == 5) {
                                            $.blockUI({
                                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Close the Window OR Referesh Page, Try Again !</h4>",
                                                css: {
                                                    border: '0px',
                                                    width: '26%',
                                                    top: '30%'
                                                }
                                            });
                                            setTimeout($.unblockUI, 4000);
                                            $("#add_member_btn").buttonLoader('stop');
                                            check_for_valid_aadhaar = '0';
                                        } else {
                                            $('.member_uid_status').hide();
                                            $('.member_uid_status').css('background-color', 'red');
                                            $('.member_uid_status').show();
                                            $('.member_uid_status').html(obj12['message']);







                                            check_for_valid_aadhaar = '0';
                                            $("#add_member_btn").buttonLoader('stop');
                                        }
                                    }
                                });
                            } else {
                                $('.member_uid_status').hide();

                                check_for_valid_aadhaar = '0';

                                $('.member_uid_status').css('background-color', 'red');
                                $('.member_uid_status').show();
                                $('.member_uid_status').html('Enter Valid Aadhaar Number!');
                                $('#aadhaar_status').val('');





                                $("#add_member_btn").buttonLoader('stop');
                            }
                        } else {

                            $('.member_uid_status').hide();

                            check_for_valid_aadhaar = '0';

                            $('.member_uid_status').css('background-color', 'red');
                            $('.member_uid_status').show();
                            $('.member_uid_status').html('Enter Valid Aadhaar Number!');
                            $('#aadhaar_status').val('');





                            $("#add_member_btn").buttonLoader('stop');
                        }

                        var aadhaar_status = $('#aadhaar_status').val();
                        var aadhaar_datetime = $('#aadhaar_datetime').val();







                        if (check_for_valid_pan == 1 && check_for_valid_aadhaar == 1) {

                            $("#add_member_btn").buttonLoader('start');

                            var csrf_test_name = get_csrf_token();

                            $.ajax({
                                type: "POST",
                                beforeSend: function() {
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                                        css: {
                                            border: '0px',
                                            width: '18%',
                                            top: '30%'
                                        }
                                    });
                                },
                                error: function(data, error) {
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                        css: {
                                            border: '0px',
                                            width: '40%',
                                            top: '30%'
                                        }
                                    });
                                    setTimeout($.unblockUI, 2000);
                                    $("#add_member_btn").buttonLoader('stop');
                                },
                                url: "https://ngodarpan.gov.in/index.php/ngo/save_ngo_m_info",
                                data: "member_name=" + member_name + "&member_designation=" + member_designation + "&member_pan_no2=" + member_pan_no2 + "&pan_check=" + member_pan_check + "&member_adhar_no2=" + member_adhar_no2 + "&adhar_check=" + member_adhar_check + "&member_mobile_no=" + member_mobile_no + "&member_email=" + member_email + "&member_active_from=" + member_active_from + "&member_active_to=" + member_active_to + "&upload_doc_id_PC=" + upload_doc_id_PC + "&upload_doc_id_AC=" + upload_doc_id_AC + "&member_key_designation=" + member_key_designation + "&id=" + id + "&csrf_test_name=" + csrf_test_name + "&member_gender=" + member_gender + "&member_dob=" + member_dob + "&pan_name=" + pan_name + "&aadhaar_name=" + aadhaar_name + "&others_desig_value=" + others_desig_value + "&aadhaar_status=" + aadhaar_status + "&mem_pan_status=" + mem_pan_status + "&mem_pan_datetime=" + mem_pan_datetime + "&mem_pan_combined=" + mem_pan_combined,
                                success: function(json) {
                                    $("#add_member_btn").buttonLoader('stop');
                                    var obj3 = jQuery.parseJSON(json);
                                    var jsonString = JSON.stringify(json);

                                    if (obj3['success'] == 1) {
                                        $("#add-modal-member").modal("toggle");

                                        //get_ngo_member_info();

                                        //get_ngo_archive_member_info();

                                        // $('#add-modal-member').modal('toggle');

                                        // $.blockUI({ message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>", css: { border: '0px',width: '18%',top: '30%'}});

                                        // setTimeout(function() { 
                                        //      $.unblockUI({ 
                                        //      onUnblock: function(){
                                        //      var url = "https://ngodarpan.gov.in/index.php/ngo/members";
                                        //      $(location).attr('href',url);
                                        //      } 
                                        //      }); 
                                        // }, 4000);

                                        $.blockUI({
                                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                                            css: {
                                                border: '0px',
                                                width: '18%',
                                                top: '30%'
                                            }
                                        });

                                        setTimeout(function() {
                                            $.unblockUI({
                                                onUnblock: function() {

                                                    $.blockUI({
                                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Office Bearer information  Has been Saved Successfully!</h4>",
                                                        css: {
                                                            border: '0px',
                                                            width: '34%',
                                                            top: '30%'
                                                        }
                                                    });
                                                    setTimeout(function() {
                                                        $.unblockUI({
                                                            onUnblock: function() {
                                                                var url = "https://ngodarpan.gov.in/index.php/ngo/members";
                                                                $(location).attr('href', url);
                                                            }
                                                        });
                                                    }, 4000);
                                                }
                                            });
                                        }, 3000);


                                    } else {
                                        setTimeout($.unblockUI);
                                        if (jsonString.indexOf("not_save") > -1) {
                                            $.blockUI({
                                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Happened, Please close window and Try After Sometime!</h4>",
                                                css: {
                                                    border: '0px',
                                                    width: '36%',
                                                    top: '30%'
                                                }
                                            });

                                            setTimeout(function() {
                                                $.unblockUI({
                                                    onUnblock: function() {
                                                        var url = "https://ngodarpan.gov.in/index.php/ngo/members";
                                                        $(location).attr('href', url);
                                                    }
                                                });
                                            }, 2000);

                                        }
                                    }
                                },
                            });
                        }
                    } else {

                        if (jsonString.indexOf("member_name") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_name'] + "</li></ul>";
                            $('.member_name_error').show();
                            $('.member_name_error').html(htmlstyle);
                        } else {
                            $('.member_name_error').hide();
                        }

                        if (jsonString.indexOf("member_gender") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_gender'] + "</li></ul>";
                            $('.member_gender_error').show();
                            $('.member_gender_error').html(htmlstyle);
                        } else {
                            $('.member_gender_error').hide();
                        }

                        if (jsonString.indexOf("member_dob") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_dob'] + "</li></ul>";
                            $('.member_dob_error').show();
                            $('.member_dob_error').html(htmlstyle);
                        } else {
                            $('.member_dob_error').hide();
                        }

                        if (jsonString.indexOf("member_designation") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_designation'] + "</li></ul>";
                            $('.member_designation_error').show();
                            $('.member_designation_error').html(htmlstyle);
                        } else {
                            $('.member_designation_error').hide();
                        }

                        if (jsonString.indexOf("check_member_exists") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['check_member_exists'] + "</li></ul>";
                            $('.check_member_exists_error').show();
                            $('.check_member_exists_error').html(htmlstyle);
                        } else {
                            $('.check_member_exists_error').hide();
                        }

                        if (jsonString.indexOf("check_member_exists_two") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['check_member_exists_two'] + "</li></ul>";
                            $('.check_member_exists_two_error').show();
                            $('.check_member_exists_two_error').html(htmlstyle);
                        } else {
                            $('.check_member_exists_two_error').hide();
                        }

                        if (jsonString.indexOf("member_key_designation") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_key_designation'] + "</li></ul>";
                            $('.member_key_designation_error').show();
                            $('.member_key_designation_error').html(htmlstyle);
                        } else {
                            $('.member_key_designation_error').hide();
                        }

                        if (jsonString.indexOf("member_pan_no") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_pan_no'] + "</li></ul>";
                            $('.member_pan_no_error').show();
                            $('.member_pan_no_error').html(htmlstyle);
                        } else {
                            $('.member_pan_no_error').hide();
                        }

                        if (jsonString.indexOf("pan_name") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['pan_name'] + "</li></ul>";
                            $('.pan_name_error').show();
                            $('.pan_name_error').html(htmlstyle);
                        } else {
                            $('.pan_name_error').hide();
                        }

                        if (jsonString.indexOf("upload_doc_id_PC") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['upload_doc_id_PC'] + "</li></ul>";
                            $('.uplaod_button_PC_error').show();
                            $('.uplaod_button_PC_error').html(htmlstyle);
                        } else {
                            $('.uplaod_button_PC_error').hide();
                        }

                        if (jsonString.indexOf("pan_check") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['pan_check'] + "</li></ul>";
                            $('.pan_check_error').show();
                            $('.pan_check_error').html(htmlstyle);
                        } else {
                            $('.pan_check_error').hide();
                        }

                        if (jsonString.indexOf("member_adhar_no") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_adhar_no'] + "</li></ul>";
                            $('.member_adhar_no_error').show();
                            $('.member_adhar_no_error').html(htmlstyle);
                        } else {
                            $('.member_adhar_no_error').hide();
                        }

                        if (jsonString.indexOf("aadhaar_name") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['aadhaar_name'] + "</li></ul>";
                            $('.aadhaar_name_error').show();
                            $('.aadhaar_name_error').html(htmlstyle);
                        } else {
                            $('.aadhaar_name_error').hide();
                        }

                        if (jsonString.indexOf("check_member_exists_three") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['check_member_exists_three'] + "</li></ul>";
                            $('.check_member_exists_three_error').show();
                            $('.check_member_exists_three_error').html(htmlstyle);
                        } else {
                            $('.check_member_exists_three_error').hide();
                        }

                        if (jsonString.indexOf("upload_doc_id_AC") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['upload_doc_id_AC'] + "</li></ul>";
                            $('.upload_doc_id_AC_error').show();
                            $('.upload_doc_id_AC_error').html(htmlstyle);
                        } else {
                            $('.upload_doc_id_AC_error').hide();
                        }

                        if (jsonString.indexOf("aadhar_check") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['aadhar_check'] + "</li></ul>";
                            $('.aadhar_check_error').show();
                            $('.aadhar_check_error').html(htmlstyle);
                        } else {
                            $('.aadhar_check_error').hide();
                        }

                        if (jsonString.indexOf("member_mobile_no") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_mobile_no'] + "</li></ul>";
                            $('.member_mobile_no_error').show();
                            $('.member_mobile_no_error').html(htmlstyle);
                        } else {
                            $('.member_mobile_no_error').hide();
                        }

                        if (jsonString.indexOf("member_email") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_email'] + "</li></ul>";
                            $('.member_email_error').show();
                            $('.member_email_error').html(htmlstyle);
                        } else {
                            $('.member_email_error').hide();
                        }

                        if (jsonString.indexOf("member_active_from") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_active_from'] + "</li></ul>";
                            $('.member_active_from_error').show();
                            $('.member_active_from_error').html(htmlstyle);
                        } else {
                            $('.member_active_from_error').hide();
                        }
                    }
                }
            });
        }
    });


    $("#add-form-member-exempt").validator().on("submit", function(event) {
        if (event.isDefaultPrevented()) {
            //formError();
        } else {
            event.preventDefault();

            $("#add_member_btn_exempt").buttonLoader('start');

            $('.member_name_exempt_error').hide();
            $('.member_gender_exempt_error').hide();
            $('.member_dob_exempt_error').hide();
            $('.member_designation_exempt_error').hide();
            $('.check_member_exists_exempt_error').hide();
            $('.check_member_exists_two_exempt_error').hide();
            $('.member_key_designation_exempt_error').hide();
            $('.member_pan_no_exempt_error').hide();
            $('.pan_name_exempt_error').hide();
            $('.uplaod_button_PC_exempt_error').hide();
            $('.pan_check_exempt_error').hide();
            $('.member_adhar_no_exempt_error').hide();
            $('.aadhaar_name_exempt_error').hide();
            $('.upload_doc_id_AC_exempt_error').hide();
            $('.aadhar_check_exempt_error').hide();
            $('.member_mobile_no_exempt_error').hide();
            $('.member_email_exempt_error').hide();
            $('.member_active_from_exempt_error').hide();

            var check_for_valid_pan = '';
            var check_for_valid_aadhaar = '';

            var member_name = $('#member_name_exempt').val();

            var member_gender = $("input:radio[name=member_gender_exempt]:checked").val();

            var member_dob = $('#member_dob_exempt').val();
            var member_designation = $('#member_designation_exempt').val();
            var member_key_designation = $('#member_key_designation_exempt').val();

            var member_pan_no = $('#member_pan_no_exempt').val();
            member_pan_no = member_pan_no.replace(/ +(?= )/g, '');


            var pan_name = $('#pan_name_exempt').val();
            pan_name = pan_name.replace(/ +(?= )/g, '');

            var member_adhar_no = $('#member_adhar_no_exempt').val();
            member_adhar_no = member_adhar_no.replace(/ +(?= )/g, '');

            var aadhaar_name = $('#aadhaar_name_exempt').val();
            aadhaar_name = aadhaar_name.replace(/ +(?= )/g, '');

            var member_mobile_no = $('#member_mobile_no_exempt').val();
            var member_email = $('#member_email_exempt').val();
            var member_active_from = $('#member_active_from_exempt').val();
            var member_active_to = '';

            var id = '';

            if (member_designation == 11) {

                var others_desig_text_box_id = $("input[name=others_desig_text_box_id_exempt]").val();
                var others_desig_value = $('#others_desig_text_box_exempt').val();
                if (others_desig_text_box_id == '') {
                    var others_desig_value = $('#others_desig_text_box_exempt').val();
                } else {
                    var others_desig_value = others_desig_text_box_id;
                }

            } else {
                var others_desig_value = '';
            }


            var aadhaar_status = $('#aadhaar_status_exempt').val();
            var aadhaar_datetime = $('#aadhaar_datetime_exempt').val();
            var aadhaar_error_code = $('#aadhaar_error_code_exempt').val();
            var aadhaar_code = $('#aadhaar_code_exempt').val();
            var transaction_id = $('#transaction_id_exempt').val();
            var nekot_str = $('#nekot_str_exempt').val();

            var upload_doc_id_AC = '';

            if ($("#aadhar_check_exempt").is(":checked")) {
                var member_adhar_check = 1;
            } else {
                var member_adhar_check = 0;
            }


            //if($ci->HomeModel->get_service_status('P') == 'L') { 

            // var mem_pan_status = $('#mem_pan_status_exempt').val();
            // var mem_pan_datetime = $('#mem_pan_datetime_exempt').val();
            // var mem_pan_combined = $('#mem_pan_combined_exempt').val();

            // var upload_doc_id_PC = '';


            // if ($("#pan_check_exempt").is(":checked")) {
            //      var member_pan_check = 1;
            // }
            // else
            // {
            //      var member_pan_check = 0;
            // }

            //} else { 

            var upload_doc_id_PC = $('#upload_doc_id_EPC').val();

            if ($("#pan_check_exempt").is(":checked")) {
                var member_pan_check = 1;
            } else {
                var member_pan_check = 0;
            }

            var check_for_valid_pan = 1;

            var mem_pan_status = '';
            var mem_pan_datetime = '';
            var mem_pan_combined = '';

            // }

            var csrf_test_name = get_csrf_token();

            $.ajax({
                type: "POST",
                url: "https://ngodarpan.gov.in/index.php/ngo/save_ngo_member_exempt_info",
                beforeSend: function() {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait..</h4>",
                        css: {
                            border: '0px',
                            width: '26%',
                            top: '30%'
                        }
                    });
                },
                error: function(data, error) {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                        css: {
                            border: '0px',
                            width: '40%',
                            top: '30%'
                        }
                    });
                    setTimeout($.unblockUI);
                    $("#add_member_btn_exempt").buttonLoader('stop');
                    return false;
                },
                complete: function() {
                    setTimeout($.unblockUI);
                },
                data: "member_name=" + member_name + "&member_designation=" + member_designation + "&member_pan_no=" + member_pan_no + "&pan_check=" + member_pan_check + "&member_adhar_no=" + member_adhar_no + "&adhar_check=" + member_adhar_check + "&member_mobile_no=" + member_mobile_no + "&member_email=" + member_email + "&member_active_from=" + member_active_from + "&member_active_to=" + member_active_to + "&upload_doc_id_PC=" + upload_doc_id_PC + "&upload_doc_id_AC=" + upload_doc_id_AC + "&member_key_designation=" + member_key_designation + "&id=" + id + "&csrf_test_name=" + csrf_test_name + "&member_gender=" + member_gender + "&member_dob=" + member_dob + "&pan_name=" + pan_name + "&aadhaar_name=" + aadhaar_name + "&others_desig_value=" + others_desig_value + "&aadhaar_status=" + aadhaar_status + "&aadhaar_datetime=" + aadhaar_datetime + "&aadhaar_error_code=" + aadhaar_error_code + "&aadhaar_code=" + aadhaar_code + "&transaction_id=" + transaction_id + "&nekot_str=" + nekot_str + "&mem_pan_status=" + mem_pan_status + "&mem_pan_datetime=" + mem_pan_datetime + "&mem_pan_combined=" + mem_pan_combined,

                success: function(json) {
                    setTimeout($.unblockUI);
                    $("#add_member_btn_exempt").buttonLoader('stop');
                    $('.member_uid_status_exempt').hide();
                    $('.member_pan_status_exempt').hide();

                    var obj = jQuery.parseJSON(json);
                    var jsonString = JSON.stringify(json);
                    if (obj['success'] == 1) {
                        var check_for_valid_pan = 1;

                        var check_for_valid_aadhaar = 1;

                        $("#add_member_btn_exempt").buttonLoader('start');
                        var csrf_test_name = get_csrf_token();
                        $('.member_pan_status_exempt').hide();

                        $.ajax({
                            url: "https://ngodarpan.gov.in/index.php/ngo/get_status/P/M",
                            type: "POST",
                            crossDomain: true,
                            beforeSend: function(request) {
                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Validating Pan Number..</h4>",
                                    css: {
                                        border: '0px',
                                        width: '26%',
                                        top: '30%'
                                    }
                                });
                                request.setRequestHeader("Access-Control-Allow-Origin", "*");
                                request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                            },
                            error: function(data, error) {
                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                    css: {
                                        border: '0px',
                                        width: '40%',
                                        top: '30%'
                                    }
                                });
                                setTimeout($.unblockUI, 2000);
                                $("#add_member_btn_exempt").buttonLoader('stop');
                            },
                            data: "pannumber=" + member_pan_no + "&csrf_test_name=" + csrf_test_name + "&member_name=" + member_name + "&pan_name=" + pan_name,
                            success: function(data) {
                                $("#add_member_btn_exempt").buttonLoader('stop');
                                var obj1 = jQuery.parseJSON(data);

                                if (obj1['status'] == 1) {
                                    member_pan_name = $.trim(pan_name.toUpperCase());

                                    if (member_pan_name != '') {
                                        if (obj1['first_name1'] != '') {
                                            var cpn = obj1['first_name1'];

                                            cpn = $.trim(cpn);

                                            cpn = cpn.toUpperCase();
                                        }

                                        if (obj1['last_name1'] != '') {
                                            var cpn = obj1['first_name1'] + ' ' + obj1['last_name1'];
                                            cpn = $.trim(cpn);

                                            cpn = cpn.toUpperCase();
                                        }

                                        if (obj1['middle_name1'] != '') {
                                            var cpn = obj1['first_name1'] + ' ' + obj1['middle_name1'] + ' ' + obj1['last_name1'];
                                            cpn = $.trim(cpn);

                                            cpn = cpn.toUpperCase();
                                        }
                                    } else {
                                        check_for_valid_pan = '0';
                                        $('.member_pan_status_exempt').hide();
                                        $('.member_pan_status_exempt').css('background-color', 'red');
                                        $('.member_pan_status_exempt').show();
                                        $('.member_pan_status_exempt').html('Pan Name/Pan Number Not match!');
                                        $('#mem_pan_status_exempt').val('');
                                        $('#mem_pan_datetime_exempt').val('');
                                        $('#mem_pan_combined_exempt').val('');
                                        $("#add_member_btn_exempt").buttonLoader('stop');
                                    }

                                    if (cpn == member_pan_name) {
                                        check_for_valid_pan = '1';

                                        $('.member_pan_status_exempt').css('background-color', '#5bbd72');
                                        $('.member_pan_status_exempt').show();
                                        $('.member_pan_status_exempt').html('Pan Name & Pan Number validated Successfully!');
                                        $('#mem_pan_status_exempt').val(obj1['status']);
                                        $('#mem_pan_datetime_exempt').val(obj1['txn_dt']);
                                        $('#mem_pan_combined_exempt').val(obj1['combined']);
                                    } else {
                                        check_for_valid_pan = '0';
                                        $('.member_pan_status_exempt').hide();
                                        $('.member_pan_status_exempt').css('background-color', 'red');
                                        $('.member_pan_status_exempt').show();
                                        $('.member_pan_status_exempt').html('Pan Name/Pan Number Not match!');
                                        $('#mem_pan_status_exempt').val('');
                                        $('#mem_pan_datetime_exempt').val('');
                                        $('#mem_pan_combined_exempt').val('');
                                        $("#add_member_btn_exempt").buttonLoader('stop');
                                    }
                                } else if (obj1['status'] == 5) {
                                    alert("Close the Window OR Referesh Page, Try Again !");
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Close the Window OR Referesh Page, Try Again !</h4>",
                                        css: {
                                            border: '0px',
                                            width: '26%',
                                            top: '30%'
                                        }
                                    });
                                    setTimeout($.unblockUI, 4000);
                                } else {
                                    check_for_valid_pan = '0';
                                    $('.member_pan_status_exempt').css('background-color', 'red');
                                    $('.member_pan_status_exempt').show();
                                    $('.member_pan_status_exempt').html(obj1['message']);
                                    $("#add_member_btn_exempt").buttonLoader('stop');
                                    //return false;
                                }
                            },
                            async: false
                        });

                        var mem_pan_status = $('#mem_pan_status_exempt').val();
                        var mem_pan_datetime = $('#mem_pan_datetime_exempt').val();
                        var mem_pan_combined = $('#mem_pan_combined_exempt').val();

                        var upload_doc_id_PC = '';

                        if ($("#pan_check_exempt").is(":checked")) {
                            var member_pan_check = 1;
                        } else {
                            var member_pan_check = 0;
                        }


                        if (member_adhar_no != '') {
                            $("#add_member_btn_exempt").buttonLoader('start');

                            var csrf_test_name = get_csrf_token();

                            var uid = $("#member_adhar_no_exempt").val();

                            uid = uid.replace(/ +(?= )/g, '');

                            var aname = $("#aadhaar_name_exempt").val();

                            aname = aname.replace(/ +(?= )/g, '');

                            var Verhoeff = {
                                "d": [
                                    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                                    [1, 2, 3, 4, 0, 6, 7, 8, 9, 5],
                                    [2, 3, 4, 0, 1, 7, 8, 9, 5, 6],
                                    [3, 4, 0, 1, 2, 8, 9, 5, 6, 7],
                                    [4, 0, 1, 2, 3, 9, 5, 6, 7, 8],
                                    [5, 9, 8, 7, 6, 0, 4, 3, 2, 1],
                                    [6, 5, 9, 8, 7, 1, 0, 4, 3, 2],
                                    [7, 6, 5, 9, 8, 2, 1, 0, 4, 3],
                                    [8, 7, 6, 5, 9, 3, 2, 1, 0, 4],
                                    [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
                                ],
                                "p": [
                                    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                                    [1, 5, 7, 6, 2, 8, 3, 0, 9, 4],
                                    [5, 8, 0, 3, 7, 9, 6, 1, 4, 2],
                                    [8, 9, 1, 6, 0, 4, 3, 5, 2, 7],
                                    [9, 4, 5, 3, 1, 2, 6, 8, 7, 0],
                                    [4, 2, 8, 6, 5, 7, 3, 9, 0, 1],
                                    [2, 7, 9, 3, 8, 0, 6, 4, 1, 5],
                                    [7, 0, 4, 6, 9, 1, 3, 2, 5, 8]
                                ],
                                "j": [0, 4, 3, 2, 1, 5, 6, 7, 8, 9],
                                "check": function(str) {
                                    var c = 0;
                                    str.replace(/\D+/g, "").split("").reverse().join("").replace(/[\d]/g, function(u, i, o) {
                                        c = Verhoeff.d[c][Verhoeff.p[i & 7][parseInt(u, 10)]];
                                    });
                                    //alert(c)
                                    return c;
                                    //return (c === 0);

                                },
                                "get": function(str) {

                                    var c = 0;
                                    str.replace(/\D+/g, "").split("").reverse().join("").replace(/[\d]/g, function(u, i, o) {
                                        c = Verhoeff.d[c][Verhoeff.p[(i + 1) & 7][parseInt(u, 10)]];
                                    });
                                    //alert('d '+Verhoeff.j[c]);
                                    //alert(Verhoeff.j[c]);
                                    return Verhoeff.j[c];
                                }
                            };

                            // Verhoeff algorithm validator, by Avraham Plotnitzky. (aviplot at gmail)
                            String.prototype.verhoeffCheck = (function() {
                                //alert("sdd");
                                var d = [
                                    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                                    [1, 2, 3, 4, 0, 6, 7, 8, 9, 5],
                                    [2, 3, 4, 0, 1, 7, 8, 9, 5, 6],
                                    [3, 4, 0, 1, 2, 8, 9, 5, 6, 7],
                                    [4, 0, 1, 2, 3, 9, 5, 6, 7, 8],
                                    [5, 9, 8, 7, 6, 0, 4, 3, 2, 1],
                                    [6, 5, 9, 8, 7, 1, 0, 4, 3, 2],
                                    [7, 6, 5, 9, 8, 2, 1, 0, 4, 3],
                                    [8, 7, 6, 5, 9, 3, 2, 1, 0, 4],
                                    [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
                                ];
                                var p = [
                                    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                                    [1, 5, 7, 6, 2, 8, 3, 0, 9, 4],
                                    [5, 8, 0, 3, 7, 9, 6, 1, 4, 2],
                                    [8, 9, 1, 6, 0, 4, 3, 5, 2, 7],
                                    [9, 4, 5, 3, 1, 2, 6, 8, 7, 0],
                                    [4, 2, 8, 6, 5, 7, 3, 9, 0, 1],
                                    [2, 7, 9, 3, 8, 0, 6, 4, 1, 5],
                                    [7, 0, 4, 6, 9, 1, 3, 2, 5, 8]
                                ];
                                var j = [0, 4, 3, 2, 1, 5, 6, 7, 8, 9];

                                return function() {
                                    var c = 0;
                                    this.replace(/\D+/g, "").split("").reverse().join("").replace(/[\d]/g, function(u, i, o) {
                                        c = d[c][p[i & 7][parseInt(u, 10)]];
                                    });
                                    //alert(c);
                                    return (c === 0);
                                };
                            })();

                            if (Verhoeff['check'](uid) == 0) {
                                if (aname != '') {
                                    $.ajax({
                                        url: "https://ngodarpan.gov.in/index.php/ngo/get_status/A/M",
                                        type: "POST",
                                        crossDomain: true,
                                        beforeSend: function(request) {
                                            request.setRequestHeader("Access-Control-Allow-Origin", "*");
                                            $.blockUI({
                                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Validating Adhaar..</h4>",
                                                css: {
                                                    border: '0px',
                                                    width: '26%',
                                                    top: '30%'
                                                }
                                            });
                                        },
                                        error: function(data, error) {
                                            $.blockUI({
                                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                                css: {
                                                    border: '0px',
                                                    width: '40%',
                                                    top: '30%'
                                                }
                                            });
                                            setTimeout($.unblockUI, 2000);
                                            $("#add_member_btn_exempt").buttonLoader('stop');
                                            return false;
                                        },
                                        complete: function() {
                                            setTimeout($.unblockUI);
                                        },
                                        async: false,
                                        data: "aadhaarnumber=" + uid + "&aadhaarname=" + aname + "&csrf_test_name=" + csrf_test_name + "&member_name=" + member_name,
                                        success: function(data) {
                                            var obj12 = jQuery.parseJSON(data);
                                            if (obj12['status'] == 1) {
                                                $('.member_uid_status_exempt').css('background-color', '#5bbd72');
                                                $('.member_uid_status_exempt').show();
                                                $('.member_uid_status_exempt').html('Aadhaar Name & Aadhaar Number validated Successfully!');
                                                $('#aadhaar_status_exempt').val(obj12['status']);
                                                $('#aadhaar_datetime_exempt').val(obj12['ts']);
                                                $('#aadhaar_error_code_exempt').val(obj12['error']);
                                                $('#transaction_id_exempt').val(obj12['transaction_id']);
                                                $('#nekot_str_exempt').val(encodeURIComponent(obj12['nekot_str']));
                                                $('#aadhaar_code_exempt').val(obj12['code']);
                                                check_for_valid_aadhaar = '1';

                                            } else if (obj12['status'] == 5) {
                                                $.blockUI({
                                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Close the Window OR Referesh Page, Try Again !</h4>",
                                                    css: {
                                                        border: '0px',
                                                        width: '26%',
                                                        top: '30%'
                                                    }
                                                });
                                                setTimeout($.unblockUI, 4000);
                                                $("#add_member_btn_exempt").buttonLoader('stop');
                                            } else {
                                                $('.member_uid_status_exempt').hide();
                                                $('.member_uid_status_exempt').css('background-color', 'red');
                                                $('.member_uid_status_exempt').show();
                                                $('.member_uid_status_exempt').html(obj12['message']);
                                                $('#aadhaar_status_exempt').val('');
                                                $('#aadhaar_datetime_exempt').val('');
                                                $('#aadhaar_error_code_exempt').val('');
                                                $('#transaction_id_exempt').val('');
                                                $('#nekot_str_exempt').val('');
                                                $('#aadhaar_code_exempt').val('');
                                                check_for_valid_aadhaar = '0';
                                                $("#add_member_btn_exempt").buttonLoader('stop');
                                            }
                                        }
                                    });
                                } else {
                                    $('.member_uid_status_exempt').hide();

                                    check_for_valid_aadhaar = '0';

                                    $('.member_uid_status_exempt').css('background-color', 'red');
                                    $('.member_uid_status_exempt').show();
                                    $('.member_uid_status_exempt').html('Enter Valid Aadhaar Number!');
                                    $('#aadhaar_status_exempt').val('');
                                    $('#aadhaar_datetime_exempt').val('');
                                    $('#aadhaar_error_code_exempt').val('');
                                    $('#transaction_id_exempt').val('');
                                    $('#nekot_str_exempt').val('');
                                    $('#aadhaar_code_exempt').val('');
                                    $("#add_member_btn_exempt").buttonLoader('stop');
                                }
                            } else {

                                $('.member_uid_status_exempt').hide();

                                check_for_valid_aadhaar = '0';

                                $('.member_uid_status_exempt').css('background-color', 'red');
                                $('.member_uid_status_exempt').show();
                                $('.member_uid_status_exempt').html('Enter Valid Aadhaar Number!');
                                $('#aadhaar_status_exempt').val('');
                                $('#aadhaar_datetime_exempt').val('');
                                $('#aadhaar_error_code_exempt').val('');
                                $('#transaction_id_exempt').val('');
                                $('#nekot_str_exempt').val('');
                                $('#aadhaar_code_exempt').val('');
                                $("#add_member_btn_exempt").buttonLoader('stop');
                            }

                            var aadhaar_status = $('#aadhaar_status_exempt').val();
                            var aadhaar_datetime = $('#aadhaar_datetime_exempt').val();
                            var aadhaar_error_code = $('#aadhaar_error_code_exempt').val();
                            var aadhaar_code = $('#aadhaar_code_exempt').val();
                            var transaction_id = $('#transaction_id_exempt').val();
                            var nekot_str = $('#nekot_str_exempt').val();
                        }

                        if (check_for_valid_pan == 1) {

                            $("#add_member_btn_exempt").buttonLoader('start');

                            var csrf_test_name = get_csrf_token();

                            $.ajax({
                                type: "POST",
                                beforeSend: function() {
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                                        css: {
                                            border: '0px',
                                            width: '18%',
                                            top: '30%'
                                        }
                                    });
                                },
                                error: function(data, error) {
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                                        css: {
                                            border: '0px',
                                            width: '40%',
                                            top: '30%'
                                        }
                                    });
                                    setTimeout($.unblockUI, 2000);
                                    $("#add_member_btn_exempt").buttonLoader('stop');
                                },
                                url: "https://ngodarpan.gov.in/index.php/ngo/save_ngo_m_exempt_info",
                                data: "member_name=" + member_name + "&member_designation=" + member_designation + "&member_pan_no=" + member_pan_no + "&pan_check=" + member_pan_check + "&member_adhar_no=" + member_adhar_no + "&adhar_check=" + member_adhar_check + "&member_mobile_no=" + member_mobile_no + "&member_email=" + member_email + "&member_active_from=" + member_active_from + "&member_active_to=" + member_active_to + "&upload_doc_id_PC=" + upload_doc_id_PC + "&upload_doc_id_AC=" + upload_doc_id_AC + "&member_key_designation=" + member_key_designation + "&id=" + id + "&csrf_test_name=" + csrf_test_name + "&member_gender=" + member_gender + "&member_dob=" + member_dob + "&pan_name=" + pan_name + "&aadhaar_name=" + aadhaar_name + "&others_desig_value=" + others_desig_value + "&aadhaar_status=" + aadhaar_status + "&aadhaar_datetime=" + aadhaar_datetime + "&aadhaar_error_code=" + aadhaar_error_code + "&aadhaar_code=" + aadhaar_code + "&transaction_id=" + transaction_id + "&nekot_str=" + nekot_str + "&mem_pan_status=" + mem_pan_status + "&mem_pan_datetime=" + mem_pan_datetime + "&mem_pan_combined=" + mem_pan_combined,
                                success: function(json) {
                                    $("#add_member_btn_exempt").buttonLoader('stop');
                                    var obj3 = jQuery.parseJSON(json);
                                    var jsonString = JSON.stringify(json);

                                    if (obj3['success'] == 1) {
                                        $('#add-modal-member_aadhaar_exempt').modal('toggle');

                                        $.blockUI({
                                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                                            css: {
                                                border: '0px',
                                                width: '18%',
                                                top: '30%'
                                            }
                                        });

                                        setTimeout(function() {
                                            $.unblockUI({
                                                onUnblock: function() {

                                                    $.blockUI({
                                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Member Has been Saved Successfully!</h4>",
                                                        css: {
                                                            border: '0px',
                                                            width: '34%',
                                                            top: '30%'
                                                        }
                                                    });
                                                    setTimeout(function() {
                                                        $.unblockUI({
                                                            onUnblock: function() {
                                                                var url = "https://ngodarpan.gov.in/index.php/ngo/members";
                                                                $(location).attr('href', url);
                                                            }
                                                        });
                                                    }, 4000);
                                                }
                                            });
                                        }, 3000);
                                    } else {
                                        if (jsonString.indexOf("not_save") > -1) {
                                            $.blockUI({
                                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Happened, Please close window and Try After Sometime!</h4>",
                                                css: {
                                                    border: '0px',
                                                    width: '36%',
                                                    top: '30%'
                                                }
                                            });

                                            setTimeout(function() {
                                                $.unblockUI({
                                                    onUnblock: function() {
                                                        var url = "https://ngodarpan.gov.in/index.php/ngo/members";
                                                        $(location).attr('href', url);
                                                    }
                                                });
                                            }, 2000);

                                        }
                                    }
                                },
                            });
                        }

                        // $('#add-modal-member_aadhaar_exempt').modal('toggle');

                        // $.blockUI({ message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>", css: { border: '0px',width: '18%',top: '30%'}});

                        // setTimeout(function() { 
                        // $.unblockUI({ 
                        // onUnblock: function(){
                        //      var url = "https://ngodarpan.gov.in/index.php/ngo/members";
                        //      $(location).attr('href',url);
                        // } 
                        // }); 
                        // }, 4000);

                        // get_ngo_member_info();
                        // get_ngo_archive_member_info();
                    } else {
                        if (jsonString.indexOf("member_name_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_name_exempt'] + "</li></ul>";
                            $('.member_name_exempt_error').show();
                            $('.member_name_exempt_error').html(htmlstyle);
                        } else {
                            $('.member_name_exempt_error').hide();
                        }

                        if (jsonString.indexOf("member_gender_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_gender_exempt'] + "</li></ul>";
                            $('.member_gender_exempt_error').show();
                            $('.member_gender_exempt_error').html(htmlstyle);
                        } else {
                            $('.member_gender_exempt_error').hide();
                        }

                        if (jsonString.indexOf("member_dob_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_dob_exempt'] + "</li></ul>";
                            $('.member_dob_exempt_error').show();
                            $('.member_dob_exempt_error').html(htmlstyle);
                        } else {
                            $('.member_dob_exempt_error').hide();
                        }

                        if (jsonString.indexOf("member_designation_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_designation_exempt'] + "</li></ul>";
                            $('.member_designation_exempt_error').show();
                            $('.member_designation_exempt_error').html(htmlstyle);
                        } else {
                            $('.member_designation_exempt_error').hide();
                        }

                        if (jsonString.indexOf("check_member_exists_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['check_member_exists_exempt'] + "</li></ul>";
                            $('.check_member_exists_exempt_error').show();
                            $('.check_member_exists_exempt_error').html(htmlstyle);
                        } else {
                            $('.check_member_exists_exempt_error').hide();
                        }

                        if (jsonString.indexOf("check_member_exists_two_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['check_member_exists_two_exempt'] + "</li></ul>";
                            $('.check_member_exists_two_exempt_error').show();
                            $('.check_member_exists_two_exempt_error').html(htmlstyle);
                        } else {
                            $('.check_member_exists_two_exempt_error').hide();
                        }

                        if (jsonString.indexOf("member_key_designation_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_key_designation_exempt'] + "</li></ul>";
                            $('.member_key_designation_exempt_error').show();
                            $('.member_key_designation_exempt_error').html(htmlstyle);
                        } else {
                            $('.member_key_designation_exempt_error').hide();
                        }

                        if (jsonString.indexOf("member_pan_no_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_pan_no_exempt'] + "</li></ul>";
                            $('.member_pan_no_exempt_error').show();
                            $('.member_pan_no_exempt_error').html(htmlstyle);
                        } else {
                            $('.member_pan_no_exempt_error').hide();
                        }

                        if (jsonString.indexOf("pan_name_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['pan_name_exempt'] + "</li></ul>";
                            $('.pan_name_exempt_error').show();
                            $('.pan_name_exempt_error').html(htmlstyle);
                        } else {
                            $('.pan_name_exempt_error').hide();
                        }

                        if (jsonString.indexOf("upload_doc_id_PC") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['upload_doc_id_PC'] + "</li></ul>";
                            $('.uplaod_button_PC_error').show();
                            $('.uplaod_button_PC_error').html(htmlstyle);
                        } else {
                            $('.uplaod_button_PC_error').hide();
                        }

                        if (jsonString.indexOf("pan_check_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['pan_check_exempt'] + "</li></ul>";
                            $('.pan_check_exempt_error').show();
                            $('.pan_check_exempt_error').html(htmlstyle);
                        } else {
                            $('.pan_check_exempt_error').hide();
                        }

                        if (jsonString.indexOf("member_adhar_no_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_adhar_no_exempt'] + "</li></ul>";
                            $('.member_adhar_no_exempt_error').show();
                            $('.member_adhar_no_exempt_error').html(htmlstyle);
                        } else {
                            $('.member_adhar_no_exempt_error').hide();
                        }

                        if (jsonString.indexOf("aadhaar_name_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['aadhaar_name_exempt'] + "</li></ul>";
                            $('.aadhaar_name_exempt_error').show();
                            $('.aadhaar_name_exempt_error').html(htmlstyle);
                        } else {
                            $('.aadhaar_name_exempt_error').hide();
                        }

                        if (jsonString.indexOf("check_member_exists_three_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['check_member_exists_three_exempt'] + "</li></ul>";
                            $('.check_member_exists_three_exempt_error').show();
                            $('.check_member_exists_three_exempt_error').html(htmlstyle);
                        } else {
                            $('.check_member_exists_three_exempt_error').hide();
                        }

                        if (jsonString.indexOf("upload_doc_id_AC") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['upload_doc_id_AC'] + "</li></ul>";
                            $('.upload_doc_id_AC_error').show();
                            $('.upload_doc_id_AC_error').html(htmlstyle);
                        } else {
                            $('.upload_doc_id_AC_error').hide();
                        }

                        if (jsonString.indexOf("aadhar_check_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['aadhar_check_exempt'] + "</li></ul>";
                            $('.aadhar_check_exempt_error').show();
                            $('.aadhar_check_exempt_error').html(htmlstyle);
                        } else {
                            $('.aadhar_check_exempt_error').hide();
                        }

                        if (jsonString.indexOf("member_mobile_no_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_mobile_no_exempt'] + "</li></ul>";
                            $('.member_mobile_no_exempt_error').show();
                            $('.member_mobile_no_exempt_error').html(htmlstyle);
                        } else {
                            $('.member_mobile_no_exempt_error').hide();
                        }

                        if (jsonString.indexOf("member_email_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_email_exempt'] + "</li></ul>";
                            $('.member_email_exempt_error').show();
                            $('.member_email_exempt_error').html(htmlstyle);
                        } else {
                            $('.member_email_exempt_error').hide();
                        }

                        if (jsonString.indexOf("member_active_from_exempt") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_active_from_exempt'] + "</li></ul>";
                            $('.member_active_from_exempt_error').show();
                            $('.member_active_from_exempt_error').html(htmlstyle);
                        } else {
                            $('.member_active_from_exempt_error').hide();
                        }
                    }
                }
            });
        }
    });


    $("#form-working_areas").validator().on("submit", function(event) {
        if (event.isDefaultPrevented()) {
            //formError();
        } else {
            // everything looks good! 

            event.preventDefault();
            var select_issues = $('#select_issues').val();
            var operation_states = $('#operation_states').val();
            var temp_request_id = $('#temp_request_id').val();
            var operational_district = $('#working_district').val();
            var working_info_id = $('#working_info_id').val();
            var ngo_id = $('#ngo_id').val();

            if (select_issues == null) {
                // $('#select_issues_invalid').hide();
                alert("Please select Working Issues");
                return false;
            }

            if (operation_states == null) {
                //$('#select_states_invalid').hide();
                alert("Please select Operational States");
                return false;
            }

            if (working_info_id == '') {
                var url_created = "https://ngodarpan.gov.in/index.php/ngo/save_working_areas";
            } else {
                var url_created = "https://ngodarpan.gov.in/index.php/ngo/save_working_areas/" + working_info_id;
            }


            $.ajax({
                type: "POST",
                url: url_created,
                data: "select_issues=" + select_issues + "&operation_states=" + operation_states + "&temp_request_id=" + temp_request_id + "&ngo_id=" + ngo_id + "&operational_district=" + operational_district,

                success: function(json) {

                    var obj = jQuery.parseJSON(json);

                    if (obj['success'] == 1) {

                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                            css: {
                                border: '0px',
                                width: '18%',
                                top: '30%'
                            }
                        });

                        setTimeout(function() {
                            $.unblockUI({
                                onUnblock: function() {

                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Your Working Areas has been saved!</h4>",
                                        css: {
                                            border: '0px',
                                            width: '34%',
                                            top: '30%'
                                        }
                                    });

                                    setTimeout(function() {
                                        $.unblockUI({
                                            onUnblock: function() {
                                                var url = "https://ngodarpan.gov.in/index.php/ngo/work";
                                                $(location).attr('href', url);
                                            }
                                        });
                                    }, 4000);
                                }
                            });
                        }, 3000);
                    }

                    return false;
                }
            });
        }
    });

    $("#form-cvdactvities").validator().on("submit", function(event) {
        //alert('Does it reaches here inside validator')
        if (event.isDefaultPrevented()) {
            //formError();
        } else {
            // everything looks good! 

            event.preventDefault();
            $("#cvd_btn").buttonLoader('start');
            var acti_rem = $('#acti_remarks').val();
            var arrSelActi = [];
            var arrds = [];
            var strselacti = '';
            var strselds = '';
            //var favProgramming = [];
            //$.each($("input[name='programming1']:checked"), function(){            
            //  favProgramming .push($(this).val());
            //});


            $.each($("input[name='or_activity_name']:checked"), function() {
                //$('#or_activity_name').each(function(idex, ele){
                // statement
                //alert('index->'+idex+ ' element name -> '+ele.name + 'Element Value ->'+$(ele).val());
                //alert($(this).val());
                arrSelActi.push($(this).val());

            });
            strselacti = arrSelActi.join(", ");
            //alert("Selcted activities ids are : " + strselacti);
            $.each($("input[name='chk_dsactivities']:checked"), function() {

                arrds.push($(this).val());

            });
            strselds = arrds.join(", ");
            //alert("Selcted state/districts ids are : " +strselds );

            //alert('Value of  Remarks'+acti_rem);
            //return false;
            //$("#isAgeSelected").is(':checked'))



            if ((strselacti == null || strselacti == '') && (strselds == null || strselds == '')) {
                // $('#select_issues_invalid').hide();
                alert('Please select activities/ state & district ');
                $("#cvd_btn").buttonLoader('stop');
                return false;
            } else {
                var url_created = "https://ngodarpan.gov.in/index.php/ngo/save_cvdactivities";
                //var url_created = "https://ngodarpan.gov.in/index.php/ngo/save_cvdactivities/"+working_info_id;
                var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();
                $.ajax({
                    type: "POST",
                    url: url_created,

                    beforeSend: function() {
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                            css: {
                                border: '0px',
                                width: '18%',
                                top: '30%'
                            }
                        });
                    },

                    error: function(data, error) {
                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                            css: {
                                border: '0px',
                                width: '40%',
                                top: '30%'
                            }
                        });
                        //setTimeout($.unblockUI);
                        console.log(data);
                        console.log('error generated in Ajax Error ' + error);
                        return false;
                    },

                    data: "selnewacti=" + strselacti + "&selds=" + strselds + "&csrf_test_name=" + csrf_test_name + "&acti_rem=" + acti_rem,

                    success: function(json) {

                        var obj = jQuery.parseJSON(json);
                        $("#cvd_btn").buttonLoader('stop');

                        if (obj['success'] == 1) {
                            console.log(obj['dbopr']);
                            $.blockUI({
                                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                                css: {
                                    border: '0px',
                                    width: '18%',
                                    top: '30%'
                                }
                            });

                            setTimeout(function() {
                                $.unblockUI({
                                    onUnblock: function() {

                                        $.blockUI({
                                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Activities have been savd succssfully!</h4>",
                                            css: {
                                                border: '0px',
                                                width: '34%',
                                                top: '30%'
                                            }
                                        });

                                        setTimeout(function() {
                                            $.unblockUI({
                                                onUnblock: function() {
                                                    var url = "https://ngodarpan.gov.in/index.php/ngo/combatcovid19";
                                                    $(location).attr('href', url);
                                                }
                                            });
                                        }, 4000);
                                    }
                                });
                            }, 3000);
                        } else if (obj['success'] == '0') {

                            alert('some errors occured');
                            console.log(obj['errors']);
                            setTimeout($.unblockUI);
                            return false;

                        }


                    }
                });

            }



        }
        //return false;
    });
    $("#search-form").on("submit", function(event) {
        event.preventDefault();
        $("#example").hide();
        $('#postList').html('Data is loading, Please wait......');
        $("#text_search").hide();

        var statefromdb = '';
        var state_search_search = $('#state_search_search').val();
        var district_search = $('#district_search').val();
        var sector_search = $('#sector_search').val();
        var ngo_type_search = $('#ngo_type_search').val();
        var ngo_name_search = $('#ngo_name_search').val();
        var unique_id_search = $('#unique_id_search').val();

        var page_num = 0;
        // var view_type = $('#view_type').val();
        var view_type = 'detail_view';
        var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();

        if (state_search_search == '' && district_search == '' && sector_search == '' && ngo_type_search == '' && ngo_name_search == '' && unique_id_search == '') {
            $(".search_error").show();
            return false;
        } else {
            $(".search_error").hide();
        }

        $.ajax({
            type: "POST",
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/search_index_new/" + page_num,
            beforeSend: function() {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });
            },
            data: "state_search=" + state_search_search + "&district_search=" + district_search + "&sector_search=" + sector_search + "&ngo_type_search=" + ngo_type_search + "&ngo_name_search=" + ngo_name_search + "&unique_id_search=" + unique_id_search + "&view_type=" + view_type + "&csrf_test_name=" + csrf_test_name,

            success: function(data) {
                setTimeout($.unblockUI);
                $('#postList').html(data);
            }
        });
    });




    $("#searchschemes-form-min").on("submit", function(event) {
        event.preventDefault();
        $("#example_search_schemes").hide();
        $('#postList').html('Data is loading, Please wait......');
        $("#text_search_schemes").hide();

        var statefromdb = '';
        var sellist = $('#selministry_search_schemes').val();


        var page_num = 0;
        // var view_type = $('#view_type').val();
        var view_type = 'detail_view';
        var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();

        if (sellist == '') {
            $(".searchschemes_error_min").show();
            return false;
        } else {
            $(".searchschemes_error_min").hide();
        }

        //alert('The value of searchlist '+sellist);
        console.log('value of sellist before calling Ajax Function ' + sellist);


        $.ajax({
            type: "POST",
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/search_schemes/" + page_num,
            beforeSend: function() {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });
            },

            error: function(data, error) {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                    css: {
                        border: '0px',
                        width: '40%',
                        top: '30%'
                    }
                });
                //setTimeout($.unblockUI);
                console.log(data);
                console.log('error generated in Ajax Error ' + error);


                return false;
            },

            data: "searchtype=m&sellist=" + sellist + "&view_type=" + view_type + "&csrf_test_name=" + csrf_test_name,

            success: function(data) {
                setTimeout($.unblockUI);
                console.log(data);
                $('#postList').html(data);
            }
        });





    });






    $("#searchschemes-form-state").on("submit", function(event) {
        event.preventDefault();
        $("#example_search_schemes").hide();
        $('#postList').html('Data is loading, Please wait......');
        $("#text_search_schemes").hide();

        var statefromdb = '';
        var sellist = $('#selstate_search_schemes').val();


        var page_num = 0;
        // var view_type = $('#view_type').val();
        var view_type = 'detail_view';
        var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();

        if (sellist == '') {
            $(".searchschemes_error_state").show();
            return false;
        } else {
            $(".searchschemes_error_state").hide();
        }

        //alert('The value of searchlist '+sellist);
        console.log('value of sellist before calling Ajax Function from State Side ' + sellist);


        $.ajax({
            type: "POST",
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/search_schemes/" + page_num,
            beforeSend: function() {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });
            },

            error: function(data, error) {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                    css: {
                        border: '0px',
                        width: '40%',
                        top: '30%'
                    }
                });
                //setTimeout($.unblockUI);
                console.log(data);
                console.log('error generated in Ajax Error from State Side ' + error);


                return false;
            },

            data: "searchtype=s&sellist=" + sellist + "&view_type=" + view_type + "&csrf_test_name=" + csrf_test_name,

            success: function(data) {
                setTimeout($.unblockUI);
                console.log(data);
                $('#postList').html(data);
            }
        });





    });



    $("#searchgrants-form").on("submit", function(event) {
        event.preventDefault();
        $("#example").hide();
        $('#postList').html('Data is loading, Please wait......');
        $("#text_searchgrants").hide();

        var statefromdb = '';
        var finyear_searchgrants = $('#finyear_searchgrants').val();

        var ngoname_searchgrants = $('#ngoname_searchgrants').val();
        var uniqueid_searchgrants = $('#uniqueid_searchgrants').val();

        alert('the value selected for fin year are ' + finyear_searchgrants);

        var page_num = 0;
        // var view_type = $('#view_type').val();
        var view_type = 'detail_view';
        var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();

        if (finyear_searchgrants == '' && ngoname_searchgrants == '' && uniqueid_searchgrants == '') {
            $(".searchgrants_error").show();
            return false;
        } else {
            $(".searchgrants_error").hide();
        }

        $.ajax({
            type: "POST",
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/searchgrants_index_new/" + page_num,
            beforeSend: function() {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });
            },
            data: "finyear_searchgrants=" + finyear_searchgrants + "&ngoname_searchgrants=" + ngoname_searchgrants + "&uniqueid_searchgrants=" + uniqueid_searchgrants + "&view_type=" + view_type + "&csrf_test_name=" + csrf_test_name,

            success: function(data) {
                setTimeout($.unblockUI);
                $('#postList').html(data);
            }
        });
    });











    function searchFilter(page_num) {
        $("#text_search").hide();
        $('#postList').html('Data is loading, Please wait......');
        page_num = page_num ? page_num : 0;
        $("#example").hide();
        //$("#text_search").show();

        var statefromdb = '';
        var state_search_search = $('#state_search_search').val();
        var district_search = $('#district_search').val();
        var sector_search = $('#sector_search').val();
        var ngo_type_search = $('#ngo_type_search').val();
        var ngo_name_search = $('#ngo_name_search').val();
        var unique_id_search = $('#unique_id_search').val();
        var csrf_test_name = get_csrf_token();

        $.ajax({
            type: "POST",
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/search_index_new/" + page_num,
            beforeSend: function() {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });
            },
            data: "state_search=" + state_search_search + "&district_search=" + district_search + "&sector_search=" + sector_search + "&ngo_type_search=" + ngo_type_search + "&ngo_name_search=" + ngo_name_search + "&unique_id_search=" + unique_id_search + "&csrf_test_name=" + csrf_test_name,

            success: function(data) {
                setTimeout($.unblockUI);
                $('#postList').html(data);
            }
        });
    }








    function searchFilterSchemes(page_num) {
        //$("#text_search").hide();
        $('#ministrydetails').html('Data is loading, Please wait......');
        page_num = page_num ? page_num : 0;
        //$("#example").hide();
        //$("#text_search").show();

        var view_type = 'detail_view';
        var sellist = 0;
        var searchtype = 'a';
        var csrf_test_name = get_csrf_token();

        $.ajax({
            type: "POST",
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/search_schemes/" + page_num,
            beforeSend: function() {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });
            },
            data: "searchtype=" + searchtype + "&sellist=" + sellist + "&view_type=" + view_type + "&csrf_test_name=" + csrf_test_name,

            success: function(data) {
                setTimeout($.unblockUI);
                $('#ministrydetails').html(data);
            }
        });
    }

    function searchFilterMinistrySchemes(page_num) {
        //$("#text_search").hide();
        $('#ministrydetails').html('Data is loading, Please wait......');
        page_num = page_num ? page_num : 0;
        //$("#example").hide();
        //$("#text_search").show();

        var view_type = 'detail_view';
        var sellist = 0;
        var searchtype = 'm';
        var csrf_test_name = get_csrf_token();

        $.ajax({
            type: "POST",
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/search_schemes/" + page_num,
            beforeSend: function() {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });
            },
            data: "searchtype=" + searchtype + "&sellist=" + sellist + "&view_type=" + view_type + "&csrf_test_name=" + csrf_test_name,

            success: function(data) {
                setTimeout($.unblockUI);
                $('#ministrydetails').html(data);
            }
        });
    }

    function searchFilterStateSchemes(page_num) {
        //$("#text_search").hide();
        $('#statedetails').html('Data is loading, Please wait......');
        page_num = page_num ? page_num : 0;
        //$("#example").hide();
        //$("#text_search").show();

        var view_type = 'detail_view';
        var sellist = 0;
        var searchtype = 's';
        var csrf_test_name = get_csrf_token();

        $.ajax({
            type: "POST",
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/search_schemes/" + page_num,
            beforeSend: function() {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });
            },
            data: "searchtype=" + searchtype + "&sellist=" + sellist + "&view_type=" + view_type + "&csrf_test_name=" + csrf_test_name,

            success: function(data) {
                setTimeout($.unblockUI);
                $('#statedetails').html(data);
            }
        });
    }



    function searchFilterNodalOfficers(page_num) {

        $('#nodaldetails').html('Data is loading, Please wait......');
        page_num = page_num ? page_num : 0;
        //$("#example").hide();

        var sellist = 0;
        var view_type = 'detail_view';

        var csrf_test_name = get_csrf_token();


        $.ajax({
            type: "POST",
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/showlist_nodalofficers/" + page_num,
            beforeSend: function() {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait..</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });
            },

            error: function(data, error) {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                    css: {
                        border: '0px',
                        width: '40%',
                        top: '30%'
                    }
                });
                //setTimeout($.unblockUI);
                //console.log(data);
                console.log('error generated in Ajax Error calling searchFilterNodalOfficers with page num ' + error);


                return false;
            },

            data: "searchtype=a&sellist=" + sellist + "&view_type=" + view_type + "&csrf_test_name=" + csrf_test_name,

            success: function(data) {
                setTimeout($.unblockUI);
                //console.log(data);
                //$('#postList').html(data);
                $('#nodaldetails').html(data);

            }
        });



    }



    function searchgrantsFilter(page_num) {
        $("#text_searchgrants").hide();
        $('#postList').html('Data is loading, Please wait......');
        page_num = page_num ? page_num : 0;
        alert('Page number is->' + page_num);
        $("#example").hide();
        //$("#text_search").show();

        var finyear_searchgrants = $('#finyear_searchgrants').val();

        var ngoname_searchgrants = $('#ngoname_searchgrants').val();
        var uniqueid_searchgrants = $('#uniqueid_searchgrants').val();
        var view_type = 'detail_view';
        var csrf_test_name = get_csrf_token();

        $.ajax({
            type: "POST",
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/searchgrants_index_new/" + page_num,
            beforeSend: function() {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });
            },
            data: "finyear_searchgrants=" + finyear_searchgrants + "&ngoname_searchgrants=" + ngoname_searchgrants + "&uniqueid_searchgrants=" + uniqueid_searchgrants + "&view_type=" + view_type + "&csrf_test_name=" + csrf_test_name,
            success: function(data) {
                setTimeout($.unblockUI);
                $('#postList').html(data);
            }
        });
    }















    function removeLastComma(str) {
        return str.replace(/,(\s+)?$/, '');
    }



    function show_ngo_info(ngo_id, uflag) {
        $.blockUI({
            baseZ: "2000",
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please Wait!</h4>",
            css: {
                border: '0px',
                width: '36%',
                top: '30%',
                zIndex: '20000'
            },
        });

        //var csrf_test_name1 = get_csrf_token();//$('#csrff').val();
        //alert('Value of uflag->'+uflag);
        setTimeout($.unblockUI, 3000);
        //$("#ngo_name").html('');
        $.post("https://ngodarpan.gov.in/index.php/ajaxcontroller/show_ngo_info", {
                id: ngo_id,
                uflag: uflag,
                csrf_test_name: get_csrf_token()
            },
            function(data, status) {
                var obj = JSON.parse(data);
                $("#ngo_name_title").html(obj.registeration_info[0].nr_orgName);
                console.log(obj.infor[0].UniqueID);
                if (obj.infor[0].UniqueID === null || obj.infor[0].UniqueID == '') {
                    $("#UniqueID").html('Not Available');
                    if (obj.infor[0].Last_UniqueID === null || obj.infor[0].Last_UniqueID == '') {
                        $("#UniqueID").html('Not Available');
                    } else {
                        $("#UniqueID").html(obj.infor[0].Last_UniqueID);
                    }

                } else {
                    $("#UniqueID").html(obj.infor[0].UniqueID);
                }

                if (obj.infor[0].uniqueid_gen_dt === null || obj.infor[0].uniqueid_gen_dt == '') {
                    $("#darpan_reg_date").html('Not Available');


                } else {
                    $("#darpan_reg_date").html(obj.infor[0].uniqueid_gen_dt);
                }




                //$("#ngo_reg_date").html(obj.infor[0].reg_date);

                if (obj.infor[0].pan_updDocId != '0') {
                    $("#pc_upload").html("Available");
                } else {
                    $("#pc_upload").html('Not Available');
                }

                if (obj.infor[0].Off_phone1 === null) {
                    $("#phone_n").html('Not Available');
                } else {
                    $("#phone_n").html(obj.infor[0].Off_phone1);
                }

                if (obj.infor[0].ngo_url == '') {
                    $("#ngo_web_url").html('Not Available');
                } else {
                    $("#ngo_web_url").html('<a target="_new" href="' + obj.infor[0].ngo_url + '">' + obj.infor[0].ngo_url + '</a>');
                }

                if (obj.infor[0].Major_Activities1 === null) {
                    $("#activities_achieve").html('Not Available');
                } else {
                    $("#activities_achieve").html(obj.infor[0].Major_Activities1);
                }


                $('#member_table').html('');


                if (obj.member_info.length > 0) {
                    tr = $('<tr>');
                    tr.append("<th style='width:25%;'>Name</th><th style='width:25%;'>Designation</th><th style='width:25%;'>Pan</th><th style='width:25%;'>Aadhaar</th>");
                    $('#member_table').append(tr);
                    for (var i = 0; i < obj.member_info.length; i++) {

                        tr = $('<tr/>');
                        // tr.append("<tr><th style='width:20%;'>Member Name</th><th style='width:72%;'>Member Designation</th></tr><tr>")

                        //tr.append("<td>" + obj.member_info[i].FName + "</td>");
                        var salcode = obj.member_info[i].SalCode;
                        var fname = obj.member_info[i].FName;
                        var mname = obj.member_info[i].MName;
                        var lname = obj.member_info[i].LName;
                        var fullname = '';
                        if (salcode == '' || salcode === null) {
                            //do nothing
                        } else {
                            fullname = fullname + salcode;

                        }
                        if (fname == '' || fname === null) {
                            //do nothing
                        } else {
                            fullname = fullname + ' ' + fname;

                        }
                        if (mname == '' || mname === null) {
                            //do nothing
                        } else {
                            fullname = fullname + ' ' + mname;

                        }
                        if (lname == '' || lname === null) {
                            //do nothing
                        } else {
                            fullname = fullname + ' ' + lname;

                        }
                        tr.append("<td>" + fullname + "</td>");



                        if (obj.member_info[i].DesigName == 'No Designation') {
                            tr.append("<td>Not Specified</td>");
                        } else {
                            tr.append("<td>" + obj.member_info[i].DesigName + "</td>");

                        }

                        //tr.append("<td>" + desgn + "</td>");

                        if (obj.member_info[i].pan_updDocId != '0') {
                            tr.append("<td>Available</td>");
                        } else {
                            tr.append("<td>Not Available</td>");
                        }
                        if (obj.member_info[i].aadhaar_updDocId != '0') {
                            tr.append("<td>Available</td>");
                        } else {
                            tr.append("<td>Not Available</td>");
                        }
                        $('#member_table').append(tr);
                    }
                } else {

                    tr = $('<tr/>');
                    tr.append("<td><strong>No Member Found for this NGO<strong></td>");
                    $('#member_table').append(tr);
                }


                if (obj.registeration_info[0].reg_name != '') {
                    $("#reg_with").html(obj.registeration_info[0].reg_name);
                } else {
                    $("#reg_with").html('Not Available');
                }

                if (obj.registeration_info[0].ngo_reg_date != '') {
                    $("#ngo_reg_date").html(obj.registeration_info[0].ngo_reg_date);
                } else {
                    $("#ngo_reg_date").html('Not Available');
                }
                if (obj.registeration_info[0].TypeDescription != '') {
                    $("#ngo_type").html(obj.registeration_info[0].TypeDescription);
                } else {
                    $("#ngo_type").html('Not Available');
                }

                if (obj.registeration_info[0].nr_regNo != '') {
                    $("#ngo_regno").html(obj.registeration_info[0].nr_regNo);
                } else {
                    $("#ngo_regno").html('Not Available');
                }

                if (obj.registeration_info[0].nr_actName != '') {
                    $("#ngo_act_name").html(obj.registeration_info[0].nr_actName);
                } else {
                    $("#ngo_act_name").html('Not Available');
                }

                if (obj.registeration_info[0].nr_updDocId != '') {
                    $("#rc_upload").html("Available");
                } else {
                    $("#rc_upload").html('Not Available');
                }

                if (obj.registeration_info[0].nr_isFcra == 'Y') {
                    $("#FCRA_details").html("Available");
                    $("#FCRA_reg_no").html(obj.registeration_info[0].fcrano);
                } else {
                    $("#FCRA_details").html('Not Available');
                    $("#FCRA_reg_no").html('Not Available');
                }

                if (obj.infor['issues_working_db'] != '') {
                    $("#key_issues").html(removeLastComma(obj.infor['issues_working_db']));
                } else {
                    $("#key_issues").html('Not Available');
                }

                if (obj.infor['operational_states_db'] != '') {
                    $("#operational_states").html(removeLastComma(obj.infor['operational_states_db']));
                } else {
                    $("#operational_states").html('Not Available');
                }

                if (obj.infor['operational_district_db'] != '') {
                    $("#operational_district").html(removeLastComma(obj.infor['operational_district_db']));
                } else {
                    $("#operational_district").html('Not Available');
                }

                if (obj.registeration_info[0].nr_add != '') {
                    $("#address").html(obj.registeration_info[0].nr_add);
                } else {
                    $("#address").html('Not Available');
                }

                if (obj.registeration_info[0].nr_city != '') {
                    $("#city").html(obj.registeration_info[0].nr_city);
                    $("#ngo_city_p").html(obj.registeration_info[0].nr_city);
                } else {
                    $("#city").html('Not Available');
                }

                if (obj.registeration_info[0].StateName != '') {
                    $("#state_p_ngo").html(obj.registeration_info[0].StateName);
                    $("#ngo_state_p").html(obj.registeration_info[0].StateName);
                } else {
                    $("#state_p_ngo").html('Not Available');
                    $("#ngo_state_p").html('Not Available');
                }

                if (obj.infor[0].Email != '') {
                    var addr = obj.infor[0].Email.replace("@", "(at)").replace(".", "[dot]");
                    $("#email_n").html(addr);
                } else {
                    $("#email_n").html('Not Available');
                }

                if (obj.infor[0].Mobile != '') {
                    $("#mobile_n").html(obj.infor[0].Mobile);
                } else {
                    $("#mobile_n").html('Not Available');


                }




                if (obj.infor[0].last_modified_dt != '' && obj.infor[0].last_modified_dt != null) {
                    $("#lastmodifieddt_n").html(obj.infor[0].last_modified_dt);
                } else {

                    if (obj.infor[0].uniqueid_gen_dt === null || obj.infor[0].uniqueid_gen_dt == '') {
                        $("#lastmodifieddt_n").html('Not Available');


                    } else {
                        $("#lastmodifieddt_n").html(obj.infor[0].uniqueid_gen_dt);

                    }

                }

                $('#source_table').html('');

                if (obj.source_info.length > 0) {
                    // if(obj.source_info[0].sourcefund != '')
                    // {
                    tr = $('<tr>');
                    tr.append("<th style='width:20%;'>Department Name</th><th style='width:20%;'>Source</th><th style='width:20%;'>Finacial Year</th><th style='width:20%;'>Amount Sanctioned</th><th style='width:20%;'>Purpose</th>");

                    $('#source_table').append(tr);

                    for (var i = 0; i < obj.source_info.length; i++) {

                        tr = $('<tr/>');

                        if (obj.source_info[i].deptt_name == '') {
                            tr.append("<td>Not Specified</td>");
                        } else {
                            tr.append("<td>" + obj.source_info[i].deptt_name + "</td>");
                        }

                        if (obj.source_info[i].sourcefund == '') {
                            tr.append("<td>Not Specified</td>");
                        } else {
                            if (obj.source_info[i].sourcefund == 'C') {
                                tr.append("<td>Central</td>");
                            } else if (obj.source_info[i].sourcefund == 'S') {
                                tr.append("<td>State</td>");
                            } else if (obj.source_info[i].sourcefund == 'O') {
                                tr.append("<td>Overseas</td>");
                            } else {
                                tr.append("<td>Any Other</td>");
                            }
                        }


                        if (obj.source_info[i].datefrom == '') {
                            tr.append("<td>Not Specified</td>");
                        } else {
                            //tr.append("<td>"+obj.source_info[i].datefrom+"</td>");
                            var date_from_year_array = obj.source_info[i].datefrom.split('-');
                            var date_from_year = date_from_year_array[0];
                        }

                        if (obj.source_info[i].dateto == '') {
                            tr.append("<td>Not Specified</td>");
                        } else {
                            //tr.append("<td>"+obj.source_info[i].dateto+"</td>");
                            var date_to_year_array = obj.source_info[i].dateto.split('-');
                            var date_to_year = date_to_year_array[0];
                        }

                        var finacial_year = date_from_year + '-' + date_to_year;

                        tr.append("<td>" + finacial_year + "</td>");

                        if (obj.source_info[i].amount_sanctioned == '' || obj.source_info[i].amount_sanctioned == '0') {
                            tr.append("<td>Not Specified</td>");
                        } else {
                            tr.append("<td>" + obj.source_info[i].amount_sanctioned + "</td>");
                        }

                        if (obj.source_info[i].purpose == '') {
                            tr.append("<td>Not Specified</td>");
                        } else {
                            tr.append("<td>" + obj.source_info[i].purpose + "</td>");
                        }

                        $('#source_table').append(tr);
                    }
                } else {
                    tr = $('<tr/>');
                    tr.append("<td><strong>No Source Fund found for this NGO<strong></td>");
                    $('#source_table').append(tr);
                }

                $("#ngo_info_modal").modal("show");

            }
        );
    }



    function show_ngo_grants_info(ngo_id, uflag) {
        //alert('does it reaches inside show_ngo_grants_info');
        $.blockUI({
            baseZ: "2000",
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please Wait!</h4>",
            css: {
                border: '0px',
                width: '36%',
                top: '30%',
                zIndex: '20000'
            },
        });

        //var csrf_test_name1 = get_csrf_token();//$('#csrff').val();
        //alert('Value of uflag->'+uflag);
        setTimeout($.unblockUI, 3000);
        //$("#ngo_name").html('');
        $.post("https://ngodarpan.gov.in/index.php/ajaxcontroller/show_ngo_grants_info", {
                id: ngo_id,
                uflag: uflag,
                csrf_test_name: get_csrf_token()
            },
            function(data, status) {
                var obj = JSON.parse(data);
                console.log(obj.ngo_info);
                console.log(obj.ngo_grants_info);
                console.log(obj.ngo_info.ngo_name);
                $("#grants_ngo_name_title").html(obj.ngo_info.ngo_name);

                if (obj.ngo_info.unique_id === null || obj.ngo_info.unique_id == '') {
                    $("#grants_UniqueID").html('Not Available');


                } else {
                    $("#grants_UniqueID").html(obj.ngo_info.unique_id);
                }

                if (obj.ngo_info.ngo_name === null || obj.ngo_info.ngo_name == '') {
                    $("#grants_ngo_name").html('Not Available');


                } else {
                    $("#grants_ngo_name").html(obj.ngo_info.ngo_name);
                }

                $('#ngogrants_table').html('');


                if (obj.ngo_grants_info.length > 0) {
                    tr = $('<tr>');
                    tr.append("<th style='width:5%;'>Fin Year</th><th style='width:35%;'>Ministry/Department</th><th style='width:35%;'>Scheme</th><th style='width:10%; text-align:right'>Amount</th>");
                    $('#ngogrants_table').append(tr);
                    for (var i = 0; i < obj.ngo_grants_info.length; i++) {

                        tr = $('<tr/>');
                        // tr.append("<tr><th style='width:20%;'>Member Name</th><th style='width:72%;'>Member Designation</th></tr><tr>")

                        //tr.append("<td>" + obj.member_info[i].FName + "</td>");
                        var mindep = obj.ngo_grants_info[i].controller_name + " / " + obj.ngo_grants_info[i].grant_name;
                        var fyear = obj.ngo_grants_info[i].fin_year;
                        var schemename = obj.ngo_grants_info[i].scheme_name;
                        var relamt = obj.ngo_grants_info[i].release_amt;


                        if (fyear === null || fyear == '') {
                            tr.append("<td>Not Specified</td>");
                        } else {
                            tr.append("<td>" + fyear + "</td>");

                        }

                        tr.append("<td>" + mindep + "</td>");



                        if (schemename === null || schemename == '') {
                            tr.append("<td>Not Specified</td>");
                        } else {
                            tr.append("<td>" + schemename + "</td>");

                        }
                        if (relamt === null || relamt == '') {
                            tr.append("<td>Not Specified</td>");
                        } else {
                            tr.append("<td style='text-align:center'>" + relamt + "</td>");

                        }

                        $('#ngogrants_table').append(tr);
                    }
                } else {

                    tr = $('<tr/>');
                    tr.append("<td><strong>No grant information found</td>");
                    $('#ngogrants_table').append(tr);
                }

                $("#ngo_grants_info_modal").modal("show");

            }
        );
    }







    function show_scheme_info(schemeid) {
        $.blockUI({
            baseZ: "2000",
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please Wait!</h4>",
            css: {
                border: '0px',
                width: '36%',
                top: '30%',
                zIndex: '20000'
            },
        });

        //var csrf_test_name1 = get_csrf_token();//$('#csrff').val();

        setTimeout($.unblockUI, 3000);
        //$("#ngo_name").html('');
        $.post("https://ngodarpan.gov.in/index.php/ajaxcontroller/show_scheme_info", {
                id: schemeid,
                csrf_test_name: get_csrf_token()
            },
            function(data, status) {
                var obj = JSON.parse(data);
                console.log(data);

                if (obj.infor[0].short_name != '' && obj.infor[0].short_name != null) {
                    $("#shortname").html(obj.infor[0].short_name);
                } else {
                    $("#shortname").html('NA');
                }

                if (obj.infor[0].name === null || obj.infor[0].name == '') {
                    $("#namedescription").html('NA');
                } else {
                    $("#namedescription").html(obj.infor[0].name + '\n' + obj.infor[0].description);
                }

                if (obj.infor[0].sponsored_by === '' || obj.infor[0].sponsored_by === '0') {
                    $("#centralstate").html('NA');
                } else {

                    if (obj.infor[0].sponsored_by == 'C') {
                        $("#centralstate").html('Centrally Sponsored');


                    } else if (obj.infor[0].sponsored_by == 'S') {
                        $("#centralstate").html('State Sponsored');


                    } else if (obj.infor[0].sponsored_by == 'B') {

                        $("#centralstate").html('Central & State Sponsored');

                    }
                }

                if (obj.infor[0].min_id === '' || obj.infor[0].min_id === '0' || obj.infor[0].min_id == null) {
                    $("#ministry").html('NA');
                } else {
                    $("#ministry").html(obj.infor[0].vm_min_name);
                }


                if (obj.infor[0].dep_id === '' || obj.infor[0].dep_id === '0' || obj.infor[0].dep_id == null) {
                    $("#department").html('NA');
                } else {
                    $("#department").html(obj.infor[0].vd_dep_name);
                }

                if (obj.infor[0].state_id === '' || obj.infor[0].state_id === '0' || obj.infor[0].state_id == null) {
                    $("#stateofscheme").html('NA');
                } else {
                    $("#stateofscheme").html(obj.infor[0].vns_state_name);
                }






                if (obj.infor[0].cp_name === '' || obj.infor[0].cp_name === 'NULL') {
                    $("#cpname").html('NA');
                } else {
                    $("#cpname").html(obj.infor[0].cp_name);
                }


                if (obj.infor[0].cp_address === '' || obj.infor[0].cp_address == null) {
                    $("#cpaddress").html('NA');
                } else {
                    $("#cpaddress").html(obj.infor[0].cp_address);
                }


                if (obj.infor[0].cp_phone1 === '' || obj.infor[0].cp_phone1 == null) {
                    $("#cpphone").html('NA');
                } else {
                    $("#cpphone").html(obj.infor[0].cp_phone1);
                }


                if (obj.infor[0].cp_phone2 === '' || obj.infor[0].cp_phone2 == null) {
                    $("#cpaltphone").html('NA');
                } else {
                    $("#cpaltphone").html(obj.infor[0].cp_phone2);
                }

                if (obj.infor[0].cp_mail === '' || obj.infor[0].cp_mail == null) {
                    $("#cpemail").html('NA');
                } else {
                    $("#cpemail").html(obj.infor[0].cp_mail);
                }


                if (obj.infor[0].web_url === '' || obj.infor[0].web_url == null) {
                    $("#cpweburl").html('NA');
                } else {
                    $("#cpweburl").html(obj.infor[0].web_url);
                }


                if (obj.infor[0].cp_fax === '' || obj.infor[0].cp_fax == null) {
                    $("#cpfax").html('NA');
                } else {
                    $("#cpfax").html(obj.infor[0].cp_fax);
                }

                if (obj.infor[0].eligibility_criteria === '' || obj.infor[0].eligibility_criteria == null) {
                    $("#eligibility").html('NA');
                } else {
                    $("#eligibility").html(obj.infor[0].eligibility_criteria);
                }





                if (obj.infor[0].app_inv_from === '' || obj.infor[0].app_inv_from == null) {
                    $("#applfrom").html('NA');
                } else {
                    $("#applfrom").html(obj.infor[0].app_inv_from);
                }


                if (obj.infor[0].app_inv_to === '' || obj.infor[0].app_inv_to == null) {
                    $("#applto").html('NA');
                } else {
                    $("#applto").html(obj.infor[0].app_inv_to);
                }

                if (obj.infor[0].fund_pattern === '' || obj.infor[0].fund_pattern == null) {
                    $("#fundpattern").html('NA');
                } else {
                    $("#fundpattern").html(obj.infor[0].fund_pattern);
                }

                if (obj.infor[0].max_grant === '' || obj.infor[0].max_grant == null) {
                    $("#maxgrant").html('NA');
                } else {
                    $("#maxgrant").html(obj.infor[0].max_grant);
                }

                if (obj.infor[0].individual === '' || obj.infor[0].individual == null) {
                    $("#individual").html('NA');
                } else {
                    $("#individual").html(obj.infor[0].individual);
                }

                if (obj.infor[0].family === '' || obj.infor[0].family == null) {
                    $("#family").html('NA');
                } else {
                    $("#family").html(obj.infor[0].family);
                }

                if (obj.infor[0].community === '' || obj.infor[0].community == null) {
                    $("#community").html('NA');
                } else {
                    $("#community").html(obj.infor[0].community);
                }


                if (obj.infor[0].women === '' || obj.infor[0].women == null) {
                    $("#women").html('NA');
                } else {
                    $("#women").html(obj.infor[0].women);
                }




                if (obj.infor[0].children === '' || obj.infor[0].children == null) {
                    $("#children").html('NA');
                } else {
                    $("#children").html(obj.infor[0].children);
                }

                if (obj.infor[0].physically_challenged === '' || obj.infor[0].physically_challenged == null) {
                    $("#differentlyabled").html('NA');
                } else {
                    $("#differentlyabled").html(obj.infor[0].physically_challenged);
                }


                if (obj.infor[0].sc_st_obc_minorities === '' || obj.infor[0].sc_st_obc_minorities == null) {
                    $("#scstobc").html('NA');
                } else {
                    $("#scstobc").html(obj.infor[0].sc_st_obc_minorities);
                }

                if (obj.infor[0].senior_citizen === '' || obj.infor[0].senior_citizen == null) {
                    $("#seniorcitizen").html('NA');
                } else {
                    $("#seniorcitizen").html(obj.infor[0].senior_citizen);
                }


                if (obj.infor[0].transgender === '' || obj.infor[0].transgender == null) {
                    $("#transgender").html('NA');
                } else {
                    $("#transgender").html(obj.infor[0].transgender);
                }



                if (obj.infor[0].destitutes === '' || obj.infor[0].destitutes == null) {
                    $("#destitutes").html('NA');
                } else {
                    $("#destitutes").html(obj.infor[0].destitutes);
                }

                if (obj.infor[0].subsidy === '' || obj.infor[0].subsidy == null) {
                    $("#subsidy").html('NA');
                } else {
                    $("#subsidy").html(obj.infor[0].subsidy);
                }


                if (obj.infor[0].training === '' || obj.infor[0].training == null) {
                    $("#training").html('NA');
                } else {
                    $("#training").html(obj.infor[0].training);
                }

                if (obj.infor[0].loan === '' || obj.infor[0].loan == null) {
                    $("#loan").html('NA');
                } else {
                    $("#loan").html(obj.infor[0].loan);
                }

                if (obj.infor[0].material === '' || obj.infor[0].material == null) {
                    $("#material").html('NA');
                } else {
                    $("#material").html(obj.infor[0].material);
                }

                if (obj.infor[0].education === '' || obj.infor[0].education == null) {
                    $("#education").html('NA');
                } else {
                    $("#education").html(obj.infor[0].education);
                }

                if (obj.infor[0].distribution_of_goods === '' || obj.infor[0].distribution_of_goods == null) {
                    $("#distributiongoods").html('NA');
                } else {
                    $("#distributiongoods").html(obj.infor[0].distribution_of_goods);
                }

                if (obj.infor[0].doc1 === '' || obj.infor[0].doc1 == null) {
                    $("#doc1").html('NA');
                } else {
                    $("#doc1").html(obj.infor[0].doc1);
                    $("#doc1").html("<a   target='_blank' href='https://ngodarpan.gov.in/assets/images/schemedocs/" + obj.infor[0].doc1 + "'>Document#1</a>");
                }



                $("#scheme_info_modal").modal("show");

            }
        );
    }



    function show_nodalofficer_info(npid) {
        $.blockUI({
            baseZ: "2000",
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please Wait!</h4>",
            css: {
                border: '0px',
                width: '36%',
                top: '30%',
                zIndex: '20000'
            },
        });

        //var csrf_test_name1 = get_csrf_token();//$('#csrff').val();



        setTimeout($.unblockUI, 3000);

        $.post("https://ngodarpan.gov.in/index.php/ajaxcontroller/show_nodalofficer_info", {
                npid: npid,
                csrf_test_name: get_csrf_token()
            },
            function(data, status) {
                var obj = JSON.parse(data);
                console.log(data);


                if (obj.infor[0].last_modified_date != '' && obj.infor[0].last_modified_date != null) {


                    $("#nplastmodi").html(obj.infor[0].last_modified_date);
                } else {

                    if (obj.infor[0].created_date != '' && obj.infor[0].created_date != null) {


                        $("#nplastmodi").html(obj.infor[0].created_date);

                    } else {
                        $("#nplastmodi").html('Not Available');

                    }



                }


                if (obj.infor[0].name != '' && obj.infor[0].name != null) {
                    $("#npname").html(obj.infor[0].name);
                } else {
                    $("#npname").html('NA');
                }



                if (obj.infor[0].desig_name != '' && obj.infor[0].desig_name != null) {
                    $("#npdesig").html(obj.infor[0].desig_name);
                } else {
                    $("#npdesig").html('NA');
                }

                if (obj.infor[0].email != '' && obj.infor[0].email != null) {
                    $("#npemail").html(obj.infor[0].email);
                } else {
                    $("#npemail").html('NA');
                }

                if (obj.infor[0].mobile != '' && obj.infor[0].mobile != '0' && obj.infor[0].mobile != null) {
                    $("#npmobile").html(obj.infor[0].mobile);
                } else {
                    $("#npmobile").html('NA');
                }



                if (obj.infor[0].phone1 != '' && obj.infor[0].phone1 != '0' && obj.infor[0].phone1 != null) {
                    $("#npphone1").html(obj.infor[0].phone1);
                } else {
                    $("#npphone1").html('NA');
                }



                if (obj.infor[0].phone2 != '' && obj.infor[0].phone2 != '0' && obj.infor[0].phone2 != null) {
                    $("#npphone2").html(obj.infor[0].phone2);
                } else {
                    $("#npphone2").html('NA');
                }


                if (obj.infor[0].fax != '' && obj.infor[0].fax != '0' && obj.infor[0].fax != null) {
                    $("#npfax").html(obj.infor[0].fax);
                } else {
                    $("#npfax").html('NA');
                }

                if (obj.infor[0].address != '' && obj.infor[0].address != null) {
                    $("#npaddress").html(obj.infor[0].address);
                } else {
                    $("#npaddress").html('NA');
                }


                if (obj.infor[0].vm_min_name != '' && obj.infor[0].vm_min_name != null) {
                    $("#npminname").html(obj.infor[0].vm_min_name);
                } else {
                    $("#npminname").html('NA');
                }


                if (obj.infor[0].vd_dep_name != '' && obj.infor[0].vd_dep_name != null) {
                    $("#npdepname").html(obj.infor[0].vd_dep_name);
                } else {
                    $("#npdepname").html('NA');
                }

                if (obj.infor[0].vns_state_name != '' && obj.infor[0].vns_state_name != null) {
                    $("#npstatename").html(obj.infor[0].vns_state_name);
                } else {
                    $("#npstatename").html('NA');
                }






                $("#nodalofficer_info_modal").modal("show");

            }
        );
    }



















    function show_ngo_list_by_state(state_id) {

        var csrf_test_name = get_csrf_token(); //$('#csrff').val();
        $('#title').html('List of NGO Statewise');
        $('#sdgsdgsdgdsgsd').DataTable({
            "language": {
                "searchPlaceholder": "Enter 2 or more words",
                "infoEmpty": "No data available for this State",
                "scrollY": "200px",
                "scrollX": true,
                "scrollCollapse": true,
            },
            destroy: true,
            "ajax": {
                "url": "https://ngodarpan.gov.in/index.php/ajaxcontroller/show_ngo_list_by_state",
                "type": "POST",
                "data": {
                    "state_id": state_id,
                    "csrf_test_name": csrf_test_name
                }
            },
            processing: true,
            "columns": [{
                "data": getNgoNameLink
            }, {
                "data": getRegNoStateCity
            }, {
                "data": getAddress
            }, {
                "data": getSectors
            }]
        });

        $("#test").modal("show");
    }

    function getAddress(data, type, dataToSet) {
        return data.Address;
    }

    function getSectors(data, type, dataToSet) {
        // if(data.sectors == '')
        // {
        //      return "No data Found";
        // }
        // else
        // {
        return data.sectors;
        //}
    }

    function getRegNoStateCity(data, type, dataToSet) {
        return data.RegNO + "," + data.City + " (" + data.StateName + " )";
    }

    function getNgoNameLink(data, type, ataToSet) {
        //alert(data);
        return '<a href="javascript:void(0)" onclick="show_ngo_info(\'' + data.NGOID + '\');">' + data.ngo_name + '</a>';
    }

    function show_ngo_list_by_sector(sector_id) {
        var csrf_test_name = get_csrf_token(); //$('#csrff').val();
        $('#title').html('List of NGO Sectorwise');

        var csrf_test_name = get_csrf_token(); //$('#csrff').val();
        $('#title').html('List of NGO Sectorwise');
        $('#dfhdfhfdhdfhhdfh').DataTable({
            "language": {
                "searchPlaceholder": "Enter 2 or more words",
                "scrollY": "200px",
                "scrollX": true,
                "scrollCollapse": true
            },
            destroy: true,
            "ajax": {
                "url": "https://ngodarpan.gov.in/index.php/ajaxcontroller/show_ngo_list_by_sector",
                "type": "POST",
                "data": {
                    "sector_id": sector_id,
                    "csrf_test_name": csrf_test_name
                }
            },
            processing: true,
            "columns": [{
                "data": getNgoNameLink
            }, {
                "data": getRegNoStateCity
            }, {
                "data": "Address"
            }, {
                "data": getSectors
            }]
        });

        $("#test1").modal("show");

    }

    function get_ngo_reg_info(id) {
        var csrf_test_name = get_csrf_token(); //$('#csrff').val();

        $("#hidden_id").val(id);
        $.post("https://ngodarpan.gov.in/index.php/ngo/get_ngo_reg_info", {
                id: id,
                csrf_test_name: csrf_test_name
            },
            function(data, status) {
                var dat = JSON.parse(data);

                var strVale = dat.result['nr_regFr'];

                var strVale1 = dat.result['nr_regTo'];

                var strVale2 = dat.result['nr_isRegTo'];

                arr = strVale.split('-');
                arr1 = strVale1.split('-');

                var date_from = arr[2] + '-' + arr[1] + '-' + arr[0];

                var date_to = arr1[2] + '-' + arr1[1] + '-' + arr1[0];

                if (strVale2 == 'Y') {
                    $('input[name=validity_available2][value="Y"]').prop('checked', true);
                    $("#update_sec_valid_exp_date").val(date_to);
                    $("#valid_details4").show();
                } else {
                    $('input[name=validity_available2][value="N"]').prop('checked', true);
                    $("#valid_details4").hide();
                }

                // Assing existing values to the modal popup fields
                $("#update_org_name").val(dat.result['nr_orgName']);
                $("#update_reg_address").val(dat.result['nr_add']);
                $("#update_reg_no").val(dat.result['nr_regNo']);
                $("#update_registered_with").val(dat.result['nr_regWith']);
                $("#update_ngo_type").val(dat.result['nr_orgType']);
                $("#update_act_name").val(dat.result['nr_actName']);
                $("#update_city_reg").val(dat.result['nr_city']);
                $("#update_state_reg").val(dat.result['nr_stateId']);
                $("#update_district_reg").val(dat.result['nr_distId']);
                $("#update_date_reg").val(date_from);
                $("#update_reg_upload_doc_id").val(dat.result['nr_updDocId']);
                $("#update_reg_file_name").val(dat.file_name);

                $("#UPDATERC_ID").val(dat.result['nr_id']);
                $('#uplaod_button_hide_RC').css('margin', '9px 1px');

                if (dat.rcm != '') {
                    $('#sec_rc_doc_status_msg').show();
                    $('#sec_rc_doc_status_msg').html(dat.rcm);
                }

                $('#icon_app_rc').show();

                $('.rc_id').hide();

                if (dat.rcs == '1') {
                    $('#icon_app_rc').show();
                } else {
                    $('#icon_app_rc').hide();
                }


                if (dat.file_exist == 0) {
                    $('#uplaod_button_hide_RC').html('RC File Not Found');
                    $('#uplaod_button_hide_RC').attr('href', 'javascript:void(0)');
                } else {
                    $('#uplaod_button_hide_RC').html('View RC File');
                    var download_href_value = 'https://ngodarpan.gov.in/index.php/download/new_file_download/' + dat.result['nr_updDocId'] + '/SR';

                    $('#uplaod_button_hide_RC').attr('href', download_href_value);
                }

            }
        );
        // Open modal popup
        $("#update_ngo_reg_modal").modal("show");

        //return false;
    }

    function update_ngo_reg_info() {
        // get values

        var csrf_test_name = get_csrf_token(); //$('#csrff').val();

        var nr_orgName = $("#update_org_name").val();
        var nr_add1 = $("#update_reg_address").val();
        var nr_regNo = $("#update_reg_no").val();
        var nr_regWith = $("#update_registered_with").val();
        var nr_orgType = $("#update_ngo_type").val();
        var nr_actName = $("#update_act_name").val();
        var nr_city = $("#update_city_reg").val();
        var nr_stateId = $("#update_state_reg").val();
        var nr_distId = $("#update_district_reg").val();
        var nr_regFr = $("#update_date_reg").val();

        var is_nr_regTo = $("#validity_available2").val();

        //if(is_nr_regFr == 'Y')
        //{

        //}
        //else
        //{
        //      var nr_regTo = $('#update_sec_valid_exp_date').val();
        //}

        var is_nr_regTo = $("input:radio[name=validity_available2]:checked").val();

        if (is_nr_regTo == 'Y') {
            var nr_regTo = $('#update_sec_valid_exp_date').val();
        } else {
            var nr_regTo = "";
        }

        // get hidden field value
        var id = $("#hidden_id").val();
        var update_upload_doc_id = $("#update_reg_upload_doc_id").val();


        // Update the details by requesting to the server using ajax
        $.post("https://ngodarpan.gov.in/index.php/ngo/update_ngo_reg_info", {
                id: id,
                nr_orgName: nr_orgName,
                nr_add1: nr_add1,
                nr_regNo: nr_regNo,
                nr_regWith: nr_regWith,
                nr_orgType: nr_orgType,
                nr_actName: nr_actName,
                nr_city: nr_city,
                nr_stateId: nr_stateId,
                nr_distId: nr_distId,
                nr_regFr: nr_regFr,
                is_nr_regTo: is_nr_regTo,
                nr_regTo: nr_regTo,
                update_upload_doc_id: update_upload_doc_id,
                csrf_test_name: csrf_test_name,

            },
            function(json) {

                var obj = jQuery.parseJSON(json);

                var jsonString = JSON.stringify(json);

                if (obj['success'] == 0) {
                    if (jsonString.indexOf("update_org_name") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['update_org_name'] + "</li></ul>";
                        $('.s_update_org_name_error').show();
                        $('.s_update_org_name_error').html(htmlstyle);
                    } else {
                        $('.s_update_org_name_error').hide();
                    }

                    if (jsonString.indexOf("update_reg_address") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['update_reg_address'] + "</li></ul>";
                        $('.s_update_reg_address_error').show();
                        $('.s_update_reg_address_error').html(htmlstyle);
                    } else {
                        $('.s_update_reg_address_error').hide();
                    }

                    if (jsonString.indexOf("update_state_reg") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['update_state_reg'] + "</li></ul>";
                        $('.s_update_state_reg_address_error').show();
                        $('.s_update_state_reg_address_error').html(htmlstyle);
                    } else {
                        $('.s_update_state_reg_address_error').hide();
                    }

                    if (jsonString.indexOf("update_district_reg") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['update_district_reg'] + "</li></ul>";
                        $('.s_update_district_reg_error').show();
                        $('.s_update_district_reg_error').html(htmlstyle);
                    } else {
                        $('.s_update_district_reg_error').hide();
                    }

                    if (jsonString.indexOf("update_city_reg") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['update_city_reg'] + "</li></ul>";
                        $('.s_update_city_reg_error').show();
                        $('.s_update_city_reg_error').html(htmlstyle);
                    } else {
                        $('.s_update_city_reg_error').hide();
                    }

                    if (jsonString.indexOf("update_registered_with") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['update_registered_with'] + "</li></ul>";
                        $('.s_update_registered_with_error').show();
                        $('.s_update_registered_with_error').html(htmlstyle);
                    } else {
                        $('.s_update_registered_with_error').hide();
                    }

                    if (jsonString.indexOf("update_ngo_type") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['update_ngo_type'] + "</li></ul>";
                        $('.s_update_ngo_type_error').show();
                        $('.s_update_ngo_type_error').html(htmlstyle);
                    } else {
                        $('.s_update_ngo_type_error').hide();
                    }

                    if (jsonString.indexOf("update_act_name") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['update_act_name'] + "</li></ul>";
                        $('.s_update_act_name_error').show();
                        $('.s_update_act_name_error').html(htmlstyle);
                    } else {
                        $('.s_update_act_name_error').hide();
                    }

                    if (jsonString.indexOf("update_reg_no") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['update_reg_no'] + "</li></ul>";
                        $('.s_update_reg_no_error').show();
                        $('.s_update_reg_no_error').html(htmlstyle);
                    } else {
                        $('.s_update_reg_no_error').hide();
                    }

                    if (jsonString.indexOf("update_reg_upload_doc_id") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['update_reg_upload_doc_id'] + "</li></ul>";
                        $('.s_update_reg_upload_doc_id_error').show();
                        $('.s_update_reg_upload_doc_id_error').html(htmlstyle);
                    } else {
                        $('.s_update_reg_upload_doc_id_error').hide();
                    }

                    if (jsonString.indexOf("update_date_reg") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['update_date_reg'] + "</li></ul>";
                        $('.s_update_date_reg_error').show();
                        $('.s_update_date_reg_error').html(htmlstyle);
                    } else {
                        $('.s_update_date_reg_error').hide();
                    }

                    if (jsonString.indexOf("update_valid_upto") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['update_valid_upto'] + "</li></ul>";
                        $('.s_update_valid_upto_error').show();
                        $('.s_update_valid_upto_error').html(htmlstyle);
                    } else {
                        $('.s_update_valid_upto_error').hide();
                    }
                } else {
                    //alert("0");
                    //hide modal popup
                    $("#update_ngo_reg_modal").modal("hide");


                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                        css: {
                            border: '0px',
                            width: '18%',
                            top: '30%'
                        }
                    });

                    setTimeout(function() {
                        $.unblockUI({
                            onUnblock: function() {

                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Your NGO REG Details has been Updated!</h4>",
                                    css: {
                                        border: '0px',
                                        width: '36%',
                                        top: '30%'
                                    }
                                });

                                setTimeout(function() {
                                    $.unblockUI({
                                        onUnblock: function() {
                                            var url = "https://ngodarpan.gov.in/index.php/ngo/multiplengo";
                                            $(location).attr('href', url);
                                        }
                                    });
                                }, 4000);
                            }
                        });
                    }, 3000);

                }

            }
        );

        get_reg_info();
        //var url = "https://ngodarpan.gov.in/index.php/ngo/#registeration_details";
        //$(location).attr('href',url);
    }

    function get_ngo_member_info_by_id(id) {
        // Add ID to the hidden field for furture usage
        $("#hidden_member_id").val(id);
        $('#div_ac_update').hide();

        $.blockUI({
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
            css: {
                border: '0px',
                width: '18%',
                top: '30%'
            }
        });

        var csrf_test_name = get_csrf_token();

        $.post("https://ngodarpan.gov.in/index.php/ngo/get_ngo_member_info_by_id", {
                id: id,
                csrf_test_name: csrf_test_name
            },
            function(data, status) {
                setTimeout($.unblockUI);
                //alert(data);
                // PARSE json data
                var dat = JSON.parse(data);

                var strVale = dat.result['Active_Fr'];
                var strVale1 = dat.result['Active_To'];
                var update_dob = dat.result['memberDob'];

                arr = strVale.split('-');
                arr1 = strVale1.split('-');
                arr2 = update_dob.split('-');

                var date_from = arr[2] + '-' + arr[1] + '-' + arr[0];

                var date_to = arr1[2] + '-' + arr1[1] + '-' + arr1[0];

                var mem_dob = arr2[2] + '-' + arr2[1] + '-' + arr2[0];

                if (dat.result['memberGender'] == 'M') {
                    $('input[name=update_member_gender][value="0"]').prop('checked', true);
                } else if (dat.result['memberGender'] == 'F') {
                    $('input[name=update_member_gender][value="1"]').prop('checked', true);
                } else {
                    $('input[name=update_member_gender][value="0"]').prop('checked', true);
                }

                // Assing existing values to the modal popup fields
                $("#update_member_name").val(dat.result['FName']);
                //$("#update_member_gender").val(gend);
                $("#update_member_dob").val(mem_dob);
                if (dat.result['DesigId_Other'] != '') {
                    $("#others_desig_text").show();
                    $("#update_others_desig_text_box").val(dat.result['DesigId_Other']);
                }
                $("#update_member_designation").val(dat.result['DesigId']);
                $("#update_member_key_designation").val(dat.result['KeyDesigId']);
                // $("#update_member_pan_no").val(dat.result['PANNo']);

                if (dat.pan_no_used == '') {
                    $("#update_member_pan_no").val("N/A");
                } else {
                    $("#update_member_pan_no").val(dat.pan_no_used);
                }

                if (dat.result['panName'] != '') {
                    $("#update_pan_name").val(dat.result['panName']);
                } else {
                    $("#update_pan_name").val("N/A");
                }

                // $("#update_member_adhar_no").val(dat.result['AadhaarNo']);
                if (dat.aadhaar_no_used != '') {
                    $("#update_member_adhar_no").val(dat.aadhaar_no_used);
                } else {
                    $("#update_member_adhar_no").val("Not Available");
                }

                $("#update_aadhaar_name").val(dat.result['aadhaarName']);
                $("#update_member_mobile_no").val(dat.result['MobileNo']);
                $("#update_member_email").val(dat.result['EmailId']);
                $("#update_member_active_from").val(date_from);
                $("#update_member_active_to").val(date_to);
                $("#update_upload_doc_id_PC").val(dat.result['pan_updDocId']);
                $("#update_upload_doc_id_AC").val(dat.result['aadhaar_updDocId']);
                $("#update_ngo_id").val(dat.result['NGOID']);

                $("#update_member_pan").val(dat.file_name_pan);
                $("#update_member_aadhaar").val(dat.file_name_aadhar);

                //for updating uploading pan of membeer
                $("#UPDATEMPC_ID").val(dat.result['MemberId']);

                var filename_hidden_MPC = dat.file_name_pan;
                var filename_hidden_MAC = dat.file_name_aadhar;

                var pc_status = dat.ps;
                var ac_status = dat.as;

                $('#icon_app_ma').hide();
                $('#member_aadhaar_status_msg').hide();

                if (dat.result['PANNo'] != '') {

                    if (pc_status == 1) {
                        if (filename_hidden_MPC != '') {
                            $('.member_app_verfied').show();
                        }
                        $('#icon_app_mp').show();
                        $('#div_pc_update').hide();
                    } else {
                        $('#icon_app_mp').hide();

                        $('#div_pc_update').show();

                        $('.mem-update-pc').hide();
                    }
                }

                if (dat.result['AadhaarNo'] != '') {
                    if (ac_status == 1) {
                        if (filename_hidden_MAC != '') {
                            $('.member_add_verfied').show();
                        }
                        $('#icon_app_ma').show();
                        $('#div_ac_update').hide();
                    } else {
                        $('#icon_app_ma').hide();
                        $('#div_ac_update').show();
                        $('.mem-update-ac').hide();
                    }
                }

                if (dat.result['PANNo'] != '') {
                    if (dat.pm != '') {
                        $('#member_pan_status_msg').show();
                        $('#member_pan_status_msg').html(dat.pm);
                    }
                } else {
                    $('#member_pan_status_msg').hide();
                }

                if (dat.result['AadhaarNo'] != '') {
                    if (dat.am != '') {
                        $('#member_aadhaar_status_msg').show();
                        $('#member_aadhaar_status_msg').html(dat.am);
                    }
                } else {
                    $('#member_aadhaar_status_msg').hide();
                }

                if (dat.result['PANNo'] != '') {
                    if (dat.pm == 'Member Pan Approved & Verified' || dat.pm == 'Member Pan Unapproved') {

                        $('#uplaod_button_update').hide();
                        $('#update_uplaod_button_hide_PC1').hide();
                        $('.btn-default').hide();
                    }
                }

                if (dat.result['AadhaarNo'] != '') {
                    if (dat.am == 'Member Aadhaar Approved & Verified' || dat.am == 'Member Aadhaar Unapproved') {

                        $('#uplaod_button_update').hide();
                        $('.btn-default').hide();
                        $('#update_uplaod_button_hide_AC1').hide();
                    }
                }

                if (dat.pm != 'Member Pan Verified Online') {
                    if (dat.result['PANNo'] != '') {
                        $('.member_pan_status').html('');
                        $('.member_pan_status').hide();

                        if (dat.p_file_exist == 0) {
                            $('#update_uplaod_button_hide_PC').show();
                            if (dat.aadhaar_no_used != '') {
                                $('#update_uplaod_button_hide_PC').html('File Not Found');
                                $('#update_uplaod_button_hide_PC').attr('href', 'javascript:void(0)');
                            }
                        }
                        // else
                        // {
                        //      $('#update_uplaod_button_hide_PC').html('View PAN File');

                        // var download_href_value_MPC = 'https://ngodarpan.gov.in/index.php/download/new_file_download/'+dat.result['pan_updDocId']+'/MP'; 

                        // $('#update_uplaod_button_hide_PC').attr('href',download_href_value_MPC);
                        // }
                    } else {
                        $('#update_uplaod_button_hide_PC').hide();
                    }
                } else {
                    $('#update_uplaod_button_hide_PC').hide();
                }

                if (dat.am != 'Member Aadhaar Verified Online') {
                    if (dat.result['AadhaarNo'] != '') {

                        if (dat.a_file_exist == 0) {
                            $('#update_uplaod_button_hide_AC').show();
                            $('#update_uplaod_button_hide_AC').html('File Not Found');
                            $('#update_uplaod_button_hide_AC').attr('href', 'javascript:void(0)');
                        }
                        // else
                        // {
                        //      $('#update_uplaod_button_hide_AC').html('View Aadhaar File');

                        // var download_href_value_MAC = 'https://ngodarpan.gov.in/index.php/download/new_file_download/'+dat.result['aadhaar_updDocId']+'/MA'; 

                        // $('#update_uplaod_button_hide_AC').attr('href',download_href_value_MAC);
                        // }
                    } else {
                        $('#update_uplaod_button_hide_AC').hide();
                    }
                } else {
                    $('#update_uplaod_button_hide_AC').hide();
                }

                var download_href_value_MPC = 'https://ngodarpan.gov.in/index.php/download/new_file_download/' + dat.result['pan_updDocId'] + '/MP';

                var download_href_value_MAC = 'https://ngodarpan.gov.in/index.php/download/new_file_download/' + dat.result['aadhaar_updDocId'] + '/MA';

                $('#update_uplaod_button_hide_PC1').attr('href', download_href_value_MPC);

                $('#update_uplaod_button_hide_AC1').attr('href', download_href_value_MAC);

                $("#update_ngo_member_modal").modal("show");
            }
        );
    }

    function update_ngo_member_info() {
        // get values
        $("#update_member_btn").prop("disabled", true);
        $("#update_member_btn").html('Please wait...');

        $.blockUI({
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
            css: {
                border: '0px',
                width: '18%',
                top: '30%'
            }
        });

        var csrf_test_name = get_csrf_token(); //$('#csrff').val();


        var member_name = $("#update_member_name").val();
        // var member_gender = $("#update_member_gender").val();

        var member_gender = $("input:radio[name=update_member_gender]:checked").val();

        var member_dob = $("#update_member_dob").val();

        var member_designation = $("#update_member_designation").val();
        var member_key_designation = $("#update_member_key_designation").val();
        var member_pan_no = $("#update_member_pan_no").val();
        var pan_name = $("#update_pan_name").val();

        var member_adhar_no = $("#update_member_adhar_no").val();
        var aadhaar_name = $("#update_aadhaar_name").val();

        var member_mobile_no = $("#update_member_mobile_no").val();
        var member_email = $("#update_member_email").val();
        var member_active_from = $("#update_member_active_from").val();
        var pan_updDocId = $('#update_upload_doc_id_PC').val();
        var aadhaar_updDocId = $('#update_upload_doc_id_AC').val();

        if (member_designation == 11) {

            var others_desig_text_box_id = $("input[name=update_others_desig_text_box_id]").val();

            //alert(others_desig_text_box_id);
            var others_desig_value = $('#update_others_desig_text_box').val();

            //alert(others_desig_value);
            if (others_desig_text_box_id == '') {
                var others_desig_value = $('#update_others_desig_text_box').val();
            } else {
                var others_desig_value = others_desig_text_box_id;
            }

        } else {
            var others_desig_value = '';
        }


        var update_archive = $("#update_archive").val();

        //var r = false;

        if (update_archive != '') {
            //r = confirm("Are you sure to archive this member ?");
            //if (r == true)
            if (update_archive == 5) {
                var archive_reason_text = $("#archive_reason_text").val();
            } else {
                var archive_reason_text = '';
            }
        }

        // get hidden field value
        var id = $("#hidden_member_id").val();


        // Update the details by requesting to the server using ajax
        $.post("https://ngodarpan.gov.in/index.php/ngo/save_ngo_m_info/" + id, {
                id: id,
                member_name: member_name,
                member_gender: member_gender,
                member_dob: member_dob,
                member_designation: member_designation,
                others_desig_value: others_desig_value,
                member_key_designation: member_key_designation,
                member_pan_no: member_pan_no,
                pan_name: pan_name,
                member_adhar_no: member_adhar_no,
                aadhaar_name: aadhaar_name,
                member_mobile_no: member_mobile_no,
                member_email: member_email,
                member_active_from: member_active_from,
                update_archive: update_archive,
                archive_reason_text: archive_reason_text,
                upload_doc_id_PC: pan_updDocId,
                upload_doc_id_AC: aadhaar_updDocId,
                csrf_test_name: csrf_test_name,
            },
            function(json) {
                $("#update_member_btn").prop("disabled", false);
                $("#update_member_btn").html('Save changes');

                var obj = jQuery.parseJSON(json);

                var jsonString = JSON.stringify(json);

                if (obj['success'] == 0) {
                    if (jsonString.indexOf("member_name") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_name'] + "</li></ul>";
                        $('.update_member_name_error').show();
                        $('.update_member_name_error').html(htmlstyle);
                    } else {
                        $('.update_member_name_error').hide();
                    }

                    if (jsonString.indexOf("member_gender") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_gender'] + "</li></ul>";
                        $('.update_member_gender_error').show();
                        $('.update_member_gender_error').html(htmlstyle);
                    } else {
                        $('.update_member_gender_error').hide();
                    }

                    if (jsonString.indexOf("member_dob") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_dob'] + "</li></ul>";
                        $('.update_member_dob_error').show();
                        $('.update_member_dob_error').html(htmlstyle);
                    } else {
                        $('.update_member_dob_error').hide();
                    }

                    if (jsonString.indexOf("member_designation") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_designation'] + "</li></ul>";
                        $('.update_member_designation_error').show();
                        $('.update_member_designation_error').html(htmlstyle);
                    } else {
                        $('.update_member_designation_error').hide();
                    }

                    if (jsonString.indexOf("member_key_designation") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_key_designation'] + "</li></ul>";
                        $('.update_member_key_designation_error').show();
                        $('.update_member_key_designation_error').html(htmlstyle);
                    } else {
                        $('.update_member_key_designation_error').hide();
                    }

                    if (jsonString.indexOf("member_mobile_no") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_mobile_no'] + "</li></ul>";
                        $('.update_member_mobile_no_error').show();
                        $('.update_member_mobile_no_error').html(htmlstyle);
                    } else {
                        $('.update_member_mobile_no_error').hide();
                    }

                    if (jsonString.indexOf("member_email") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_email'] + "</li></ul>";
                        $('.update_member_email_error').show();
                        $('.update_member_email_error').html(htmlstyle);
                    } else {
                        $('.update_member_email_error').hide();
                    }

                    if (jsonString.indexOf("member_active_from") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['member_active_from'] + "</li></ul>";
                        $('.update_member_active_from_error').show();
                        $('.update_member_active_from_error').html(htmlstyle);
                    } else {
                        $('.update_member_active_from_error').hide();
                    }

                    if (jsonString.indexOf("check_member_doc_status") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['check_member_doc_status'] + "</li></ul>";
                        $('.update_member_active_from_error').show();
                        $('.update_member_active_from_error').html(htmlstyle);
                    } else {
                        $('.update_member_active_from_error').hide();
                    }

                } else {
                    $("#update_ngo_member_modal").modal("hide");

                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                        css: {
                            border: '0px',
                            width: '18%',
                            top: '30%'
                        }
                    });

                    setTimeout(function() {
                        $.unblockUI({
                            onUnblock: function() {

                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Member Details has been updated!</h4>",
                                    css: {
                                        border: '0px',
                                        width: '34%',
                                        top: '30%'
                                    }
                                });
                                setTimeout(function() {
                                    $.unblockUI({
                                        onUnblock: function() {
                                            var url = "https://ngodarpan.gov.in/index.php/ngo/members";
                                            $(location).attr('href', url);
                                        }
                                    });
                                }, 4000);
                            }
                        });
                    }, 3000);

                }

            }
        );

        get_ngo_member_info();
        get_ngo_archive_member_info();
    }

    $("#form_sof_fcra_details").validator().on("submit", function(event) {
        if (event.isDefaultPrevented()) {
            //formError();
        } else {
            event.preventDefault();
            // $("#sof_fcra_btn").buttonLoader('start');

            var sof_ngo_fcra_no = $('#sof_ngo_fcra_no').val();
            var sof_fcra_reg_date = $('#sof_fcra_reg_date').val();
            var sof_fcra_exp_date = $('#sof_fcra_exp_date').val();

            var csrf_test_name = get_csrf_token();

            $.ajax({
                type: "POST",
                url: "https://ngodarpan.gov.in/index.php/ngo/save_fcra_sof",
                // complete: function() {
                //      $("#sof_fcra_btn").buttonLoader('stop');
                // },
                data: "sof_ngo_fcra_no=" + sof_ngo_fcra_no + "&sof_fcra_reg_date=" + sof_fcra_reg_date + "&sof_fcra_exp_date=" + sof_fcra_exp_date + "&csrf_test_name=" + csrf_test_name,
                success: function(json) {

                    var obj = jQuery.parseJSON(json);
                    var jsonString = JSON.stringify(json);

                    if (obj['success'] == 1) {
                        $('#FCRAModal').modal('toggle');

                        alert("FCRA Details Has been Saved!");
                        //$.blockUI({ message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />FCRA Details Has been Saved</h4>", css: { border: '0px',width: '18%',top: '30%'}});
                    } else {
                        if (jsonString.indexOf("sof_ngo_fcra_no") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['sof_ngo_fcra_no'] + "</li></ul>";
                            $('.fcra_sof_no_error').show();
                            $('.fcra_sof_no_error').html(htmlstyle);
                        } else {
                            $('.fcra_sof_no_error').hide();
                        }

                        if (jsonString.indexOf("sof_fcra_reg_date") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['sof_fcra_reg_date'] + "</li></ul>";
                            $('.fcra_sof_reg_error').show();
                            $('.fcra_sof_reg_error').html(htmlstyle);
                        } else {
                            $('.fcra_sof_reg_error').hide();
                        }

                        if (jsonString.indexOf("sof_fcra_exp_date") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['sof_fcra_exp_date'] + "</li></ul>";
                            $('.fcra_sof_exp_date_error').show();
                            $('.fcra_sof_exp_date_error').html(htmlstyle);
                        } else {
                            $('.fcra_sof_exp_date_error').hide();
                        }
                    }

                    return false;
                }
            });
        }
    });

    $("#add-source-fund").validator().on("submit", function(event) {
        if (event.isDefaultPrevented()) {
            //formError();
        } else {
            event.preventDefault();
            var year = $('#year').val();
            var sof_available = $("input:radio[name=sof_available]:checked").val();
            var purpose = $('#purpose').val();

            $.blockUI({
                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                css: {
                    border: '0px',
                    width: '18%',
                    top: '30%',
                    'z-index': '1051'
                },
                overlayCSS: {
                    'z-index': '1050'
                }
            });

            var csrf_test_name = get_csrf_token();

            if (sof_available == 'Y') {
                var deptt_name = $('#deptt_name').val();
                var source = $('#source').val();
                var fcra_details = $("#fcra_details").val();

                var amount_sanctioned = $('#amount_sanctioned').val();
                var amount_spent = $('#amount_spent').val();
                var amount_avail = $('#amount_avail').val();
                var project_name = $('#project_name').val();

                var project_location = $('#project_location').val();
                var soc_state = $('#soc_state').val();
                var soc_district = $('#soc_district').val();

                var pfms_id = $('#pfms_id').val();
                var scheme_id = $('#scheme_id').val();

                var ut_certificate = $('#ut_certificate').val();
            } else {
                var deptt_name = $('#deptt_name').val();
                var source = $('#source').val();
                var fcra_details = $("#fcra_details").val();

                var amount_sanctioned = $('#amount_sanctioned').val();
                var amount_spent = $('#amount_spent').val();
                var amount_avail = $('#amount_avail').val();
                var project_name = $('#project_name').val();

                var project_location = $('#project_location').val();
                var soc_state = $('#soc_state').val();
                var soc_district = $('#soc_district').val();

                var pfms_id = $('#pfms_id').val();
                var scheme_id = $('#scheme_id').val();

                var ut_certificate = $('#ut_certificate').val();
            }

            $("#add_source_fund_btn").buttonLoader('start');

            $.ajax({
                type: "POST",
                url: "https://ngodarpan.gov.in/index.php/ngo/save_source_fund_info",
                error: function(data, error) {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                        css: {
                            border: '0px',
                            width: '40%',
                            top: '30%'
                        }
                    });
                    //setTimeout($.unblockUI);
                    $("#add_source_fund_btn").buttonLoader('stop');
                    return false;
                },
                data: "sof_available=" + sof_available + "&soc_state=" + soc_state + "&soc_district=" + soc_district + "&pfms_id=" + pfms_id + "&scheme_id=" + scheme_id + "&amount_sanctioned=" + amount_sanctioned + "&amount_spent=" + amount_spent + "&amount_avail=" + amount_avail + "&project_name=" + project_name + "&project_location=" + project_location + "&ut_certificate=" + ut_certificate + "&fcra_details=" + fcra_details + "&year=" + year + "&deptt_name=" + deptt_name + "&source=" + source + "&purpose=" + purpose + "&csrf_test_name=" + csrf_test_name,

                success: function(json) {
                    $("#add_source_fund_btn").buttonLoader('stop');
                    var obj = jQuery.parseJSON(json);
                    var jsonString = JSON.stringify(json);

                    if (obj['success'] == 1) {
                        get_source_fund_info();

                        $('#add-modal-source-fund').modal('toggle');

                        setTimeout(function() {
                            $.unblockUI({
                                onUnblock: function() {
                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Source Fund Info has been saved!</h4>",
                                        css: {
                                            border: '0px',
                                            width: '36%',
                                            top: '30%'
                                        }
                                    });

                                    setTimeout(function() {
                                        $.unblockUI({
                                            onUnblock: function() {
                                                var url = "https://ngodarpan.gov.in/index.php/ngo/sourcefunds";
                                                $(location).attr('href', url);
                                            }
                                        });
                                    }, 4000);
                                }
                            });
                        }, 3000);

                    } else {
                        setTimeout($.unblockUI);

                        if (jsonString.indexOf("year") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['year'] + "</li></ul>";
                            $('.year_error').show();
                            $('.year_error').html(htmlstyle);
                        } else {
                            $('.year_error').hide();
                        }

                        if (jsonString.indexOf("soc_available") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['soc_available'] + "</li></ul>";
                            $('.sof_available_error').show();
                            $('.sof_available_error').html(htmlstyle);
                        } else {
                            $('.sof_available_error').hide();
                        }

                        if (jsonString.indexOf("deptt_name") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['deptt_name'] + "</li></ul>";
                            $('.deptt_name_error').show();
                            $('.deptt_name_error').html(htmlstyle);
                        } else {
                            $('.deptt_name_error').hide();
                        }

                        if (jsonString.indexOf("source") > -1) {
                            if (obj['errors']['source'] == 1) {
                                $("#FCRAModal").modal("show");
                            } else {
                                var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['source'] + "</li></ul>";
                                $('.source_error').show();
                                $('.source_error').html(htmlstyle);
                            }
                        } else {
                            $('.source_error').hide();
                        }

                        if (jsonString.indexOf("amount_sanctioned") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['amount_sanctioned'] + "</li></ul>";
                            $('.amount_sanctioned_error').show();
                            $('.amount_sanctioned_error').html(htmlstyle);
                        } else {
                            $('.amount_sanctioned_error').hide();
                        }

                        if (jsonString.indexOf("amount_spent") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['amount_spent'] + "</li></ul>";
                            $('.amount_spent_error').show();
                            $('.amount_spent_error').html(htmlstyle);
                        } else {
                            $('.amount_spent_error').hide();
                        }

                        if (jsonString.indexOf("amount_avail") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['amount_avail'] + "</li></ul>";
                            $('.amount_avail_error').show();
                            $('.amount_avail_error').html(htmlstyle);
                        } else {
                            $('.amount_avail_error').hide();
                        }

                        if (jsonString.indexOf("project_name") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['project_name'] + "</li></ul>";
                            $('.project_name_error').show();
                            $('.project_name_error').html(htmlstyle);
                        } else {
                            $('.project_name_error').hide();
                        }

                        if (jsonString.indexOf("project_location") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['project_location'] + "</li></ul>";
                            $('.project_location_error').show();
                            $('.project_location_error').html(htmlstyle);
                        } else {
                            $('.project_location_error').hide();
                        }

                        if (jsonString.indexOf("state_id") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['state_id'] + "</li></ul>";
                            $('.soc_state_error').show();
                            $('.soc_state_error').html(htmlstyle);
                        } else {
                            $('.soc_state_error').hide();
                        }

                        if (jsonString.indexOf("district_id") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['district_id'] + "</li></ul>";
                            $('.soc_district_error').show();
                            $('.soc_district_error').html(htmlstyle);
                        } else {
                            $('.soc_district_error').hide();
                        }

                        if (jsonString.indexOf("ut_certificate") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['ut_certificate'] + "</li></ul>";
                            $('.ut_certificate_error').show();
                            $('.ut_certificate_error').html(htmlstyle);
                        } else {
                            $('.ut_certificate_error').hide();
                        }
                        if (jsonString.indexOf("fcra_details_text_error") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['fcra_details_text_error'] + "</li></ul>";
                            $('.fcra_details_text_error').show();
                            $('.fcra_details_text_error').html(htmlstyle);
                        } else {
                            $('.fcra_details_text_error').hide();
                        }

                        if (jsonString.indexOf("purpose") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['purpose'] + "</li></ul>";
                            $('.purpose_error').show();
                            $('.purpose_error').html(htmlstyle);
                        } else {
                            $('.purpose_error').hide();
                        }
                    }

                    return false;
                }
            });
        }
    });


    $("#form-actvities").validator().on("submit", function(event) {
        if (event.isDefaultPrevented()) {
            formError();
        } else {
            event.preventDefault();
            $("#actvities_btn").buttonLoader('start');
            var Best_Prac = $('#Best_Prac').val();
            var Major_Activities1 = $('#Major_Activities1').val();
            var Major_Activities2 = '';
            var Major_Activities3 = '';

            var csrf_test_name = get_csrf_token(); //$("input[name=csrf_test_name]").val();

            $.ajax({
                type: "POST",
                url: "https://ngodarpan.gov.in/index.php/ngo/save_activities_info",
                complete: function() {
                    $("#actvities_btn").buttonLoader('stop');
                },
                data: "Best_Prac=" + Best_Prac + "&Major_Activities1=" + Major_Activities1 + "&Major_Activities2=" + Major_Activities2 + "&Major_Activities3=" + Major_Activities3 + "&csrf_test_name=" + csrf_test_name,

                success: function(json) {

                    var obj = jQuery.parseJSON(json);
                    var jsonString = JSON.stringify(json);

                    if (obj['success'] == 1) {

                        $.blockUI({
                            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                            css: {
                                border: '0px',
                                width: '18%',
                                top: '30%'
                            }
                        });

                        setTimeout(function() {
                            $.unblockUI({
                                onUnblock: function() {

                                    $.blockUI({
                                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Activities have been saved!</h4>",
                                        css: {
                                            border: '0px',
                                            width: '36%',
                                            top: '30%'
                                        }
                                    });

                                    setTimeout(function() {
                                        $.unblockUI({
                                            onUnblock: function() {
                                                var url = "https://ngodarpan.gov.in/index.php/ngo/work";
                                                $(location).attr('href', url);
                                            }
                                        });
                                    }, 4000);
                                }
                            });
                        }, 3000);
                    } else {
                        if (jsonString.indexOf("Best_Prac") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['Best_Prac'] + "</li></ul>";
                            $('.Best_Prac_error').show();
                            $('.Best_Prac_error').html(htmlstyle);
                        } else {
                            $('.Best_Prac_error').hide();
                        }

                        if (jsonString.indexOf("Major_Activities1") > -1) {
                            var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['Major_Activities1'] + "</li></ul>";
                            $('.Major_Activities1_error').show();
                            $('.Major_Activities1_error').html(htmlstyle);
                        } else {
                            $('.Major_Activities1_error').hide();
                        }
                    }

                    return false;
                }
            });
        }
    });


    function fun_cs_confirm_certificate(id, doc_type) {

        var uploaded_file = $("#uploaded_cs_file").val();

        var before_save_doc = $("#before_save_cs_doc").val();

        if (uploaded_file != '') {
            if (before_save_doc != '') {

                $('#before_save_cs_doc_msg').hide();

                var r = confirm("Are you sure to upload this file ?");

                if (r == true) {
                    $("#cs_modal").modal("hide");

                    $.blockUI({
                        baseZ: "2000",
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />You have Successfully submit the Document, We will Email you once all documents cleared by us!</h4>",
                        css: {
                            border: '0px',
                            width: '36%',
                            top: '30%',
                            zIndex: '20000'
                        },
                    });

                    setTimeout(function() {
                        $.unblockUI({
                            onUnblock: function() {
                                var url = "https://ngodarpan.gov.in/index.php/ngo/compliance";
                                $(location).attr('href', url);
                            }
                        });
                    }, 2000);
                } else {
                    $('#upload_cs_form')[0].reset();
                    $('#progress-cs-wrp').hide();
                    $('#output_cs').hide();
                    $('.file-preview').hide();
                    return false;
                }

            } else {
                $('#before_save_cs_doc_msg').show();
                return false;
            }
        } else {

            $.blockUI({
                baseZ: "2000",
                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />You did not select a file to upload.!</h4>",
                css: {
                    border: '0px',
                    width: '36%',
                    top: '30%',
                    zIndex: '20000'
                },
            });

            setTimeout($.unblockUI, 2000);

            return false;
        }
    }

    function fun_confirm_certificate(doc_type) {

        var uploaded_file = $("#uploaded_file").val();

        var before_save_doc = $("#before_save_doc").val();

        if (doc_type == 'PC') {
            var upload_id_from_db = $("#upload_doc_id_PC").val();
        }

        if (doc_type == 'EPC') {
            var upload_id_from_db = $("#upload_doc_id_EPC").val();
        }

        if (doc_type == 'AC') {
            var upload_id_from_db = $("#upload_doc_id_AC").val();
        }

        if (doc_type == 'EAC') {
            var upload_id_from_db = $("#upload_doc_id_EAC").val();
        }

        if (doc_type == 'RC') {
            var upload_id_from_db = $("#reg_upload_doc_id").val();
        }

        if (doc_type == 'NPC') {
            var upload_id_from_db = $("#upload_doc_id_NPC").val();
        }

        if (doc_type == 'PRC') {
            var upload_id_from_db = $("#Preg_upload_doc_id").val();
        }

        if (doc_type == 'UPDATERC') {
            var upload_id_from_db = $("#update_reg_upload_doc_id").val();
        }

        if (doc_type == 'UPDATEPRC') {
            var upload_id_from_db = $("#update_preg_upload_doc_id").val();
        }

        if (doc_type == 'UPDATENPC') {
            var upload_id_from_db = $("#update_npc_upload_doc_id").val();
        }

        if (doc_type == 'UPDATEMPC') {
            var upload_id_from_db = $("#update_upload_doc_id_PC").val();
        }

        if (doc_type == 'UPDATEMAC') {
            var upload_id_from_db = $("#update_upload_doc_id_AC").val();
        }

        var reg_upload_filename = $(".file-footer-caption").text();

        if (uploaded_file != '') {
            if (before_save_doc != '') {

                $('#before_save_doc_msg').hide();

                //var csrf_test_name = get_csrf_token();//$('#csrff').val();

                if ($('#server_error').find('p').length > 0) {
                    $("#upload_btn").prop("disabled", false);

                    $.blockUI({
                        baseZ: "2000",
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please click UPLOAD button after selecting another file with valid filename & Format!</h4>",
                        css: {
                            border: '0px',
                            width: '36%',
                            top: '30%',
                            zIndex: '20000'
                        },
                    });

                    setTimeout($.unblockUI, 2000);
                } else {

                    var r = confirm("Are you sure to upload this file ?");

                    if (r == true) {
                        $("#rc_modal").modal("hide");

                        if (doc_type == 'PC') {
                            //$("#uplaod_button_PC").hide();$("#size").html(file_size);
                            $("#uplaod_button_PC").html("Click Here to Change");
                            $("#uplaod_button_PC").show();

                            $("#uplaod_button_hide_PC").show();
                            var filename_hidden = $("#filename_PC").val();
                            var download_href_value = 'https://ngodarpan.gov.in/index.php/download/file_download/' + filename_hidden + '/PC';

                            $('#uplaod_button_hide_PC').attr('href', download_href_value);
                        } else if (doc_type == 'EPC') {
                            //$("#uplaod_button_PC").hide();$("#size").html(file_size);
                            $("#uplaod_button_EPC").html("Click Here to Change");
                            $("#uplaod_button_EPC").show();

                            $("#uplaod_button_hide_EPC").show();
                            var filename_hidden = $("#filename_EPC").val();
                            var download_href_value = 'https://ngodarpan.gov.in/index.php/download/file_download/' + filename_hidden + '/PC';

                            $('#uplaod_button_hide_EPC').attr('href', download_href_value);
                        } else if (doc_type == 'AC') {
                            $("#uplaod_button_AC").html("Click Here to Change");
                            $("#uplaod_button_AC").show();
                            $("#uplaod_button_hide_AC").show();
                            var filename_hidden = $("#filename_AC").val();
                            var download_href_value = 'https://ngodarpan.gov.in/index.php/download/file_download/' + filename_hidden + '/AC';

                            $('#uplaod_button_hide_AC').attr('href', download_href_value);
                        } else if (doc_type == 'EAC') {
                            $("#uplaod_button_EAC").html("Click Here to Change");
                            $("#uplaod_button_EAC").show();
                            $("#uplaod_button_hide_EAC").show();
                            var filename_hidden = $("#filename_EAC").val();
                            var download_href_value = 'https://ngodarpan.gov.in/index.php/download/file_download/' + filename_hidden + '/AC';

                            $('#uplaod_button_hide_EAC').attr('href', download_href_value);
                        } else if (doc_type == 'NPC') {
                            $('#uplaod_button_hide_NPC').css('margin', '0px 209px');
                            $("#uplaod_button_hide_NPC").show();
                            var filename_hidden = $("#filename_NPC").val();
                            var download_href_value = 'https://ngodarpan.gov.in/index.php/download/file_download/' + filename_hidden + '/NPC';

                            $('#uplaod_button_hide_NPC').attr('href', download_href_value);

                            $('#uplaod_button_NPC').html('Change Pan card');

                        } else if (doc_type == 'PRC') {
                            //$("#uplaod_button_NPC").hide();
                            $("#uplaod_button_hide_PRC").show();
                            var filename_hidden = $("#filename_PRC").val();
                            var download_href_value = 'https://ngodarpan.gov.in/index.php/download/file_download/' + filename_hidden + '/PRC';

                            $('#uplaod_button_hide_PRC').attr('href', download_href_value);

                            $('#uplaod_button').html('Change RC');

                        } else if (doc_type == 'UPDATEPRC') {
                            var filename_hidden = $("#filename_UPDATEPRC").val();
                            var download_href_value = 'https://ngodarpan.gov.in/index.php/download/file_download/' + filename_hidden + '/PRC';

                            $('#uplaod_button_hide_PRC').attr('href', download_href_value);
                        } else if (doc_type == 'UPDATENPC') {
                            var filename_hidden = $("#filename_UPDATENPC").val();
                            var download_href_value = 'https://ngodarpan.gov.in/index.php/download/file_download/' + filename_hidden + '/NPC';

                            $('#uplaod_button_hide_NPC').attr('href', download_href_value);
                        } else if (doc_type == 'UPDATERC') {
                            var filename_hidden = $("#update_reg_file_name").val();
                            var download_href_value = 'https://ngodarpan.gov.in/index.php/download/file_download/' + filename_hidden + '/RC';

                            $('#uplaod_button_hide_RC').attr('href', download_href_value);
                        } else if (doc_type == 'UPDATEMPC') {
                            var filename_hidden = $("#update_member_pan").val();
                            var download_href_value = 'https://ngodarpan.gov.in/index.php/download/file_download/' + filename_hidden + '/MPC';

                            $('#update_uplaod_button_hide_PC').attr('href', download_href_value);
                        } else if (doc_type == 'UPDATEMAC') {
                            var filename_hidden = $("#update_member_aadhaar").val();
                            var download_href_value = 'https://ngodarpan.gov.in/index.php/download/file_download/' + filename_hidden + '/MAC';

                            $('#update_uplaod_button_hide_AC').attr('href', download_href_value);
                        } else {
                            //$("#uplaod_button").hide();
                            $("#uplaod_button_hide").show();
                            var filename_hidden = $("#filename_RC").val();
                            var download_href_value = 'https://ngodarpan.gov.in/index.php/download/file_download/' + filename_hidden + '/RC';

                            $('#uplaod_button_hide').attr('href', download_href_value);
                        }


                    } else {

                        $('#upload_form')[0].reset();
                        $("#upload_btn").prop("disabled", false);
                        $('#progress-wrp').hide();
                        $('#output').hide();
                        $('#output_AC').hide();
                        $('#output_PC').hide();
                        $('#output_EAC').hide();
                        $('#output_EPC').hide();
                        $('#output_NPC').hide();
                        $('#output_PRC').hide();
                        $('#output_UPDATERC').hide();
                        $('#output_UPDATEMPC').hide();
                        $('#output_UPDATEMAC').hide();
                        $('#output_UPDATEPRC').hide();
                        $('#output_UPDATENPC').hide();
                        $('.file-preview').hide();

                        return false;
                    }
                }
            } else {
                $("#upload_btn").prop("disabled", false);
                $('#before_save_doc_msg').show();
                return false;
            }
        } else {

            $.blockUI({
                baseZ: "2000",
                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />You did not select a file to upload.!</h4>",
                css: {
                    border: '0px',
                    width: '36%',
                    top: '30%',
                    zIndex: '20000'
                },
            });

            setTimeout($.unblockUI, 2000);

            return false;
        }
    }

    function get_upload_modal(type) {
        $("#type_doc_in_modal").val(type);
        $("#rc_modal").modal("show");
        $('#confirm_certificate').attr("onclick", "fun_confirm_certificate('" + type + "');");
        return false;

    }

    function get_upload_cs_modal(id, doc_type, rej_id) {
        $('#confirm_cs_certificate').attr("onclick", "fun_cs_confirm_certificate('" + id + "," + doc_type + "');");
        $("#type_doc_in_cs_modal").val(doc_type);
        $("#upd_id").val(id);
        $("#rej_id").val(rej_id);
        $("#cs_modal").modal("show");
    }

    $("#upload_form").on("submit", function(event) {
        //configuration

        var max_file_size = 2000000;
        //var allowed_file_types                = ['image/png', 'image/gif', 'image/jpeg', 'image/pjpeg', 'application/pdf'];
        var allowed_file_types = ['image/jpeg', 'application/pdf'];
        var my_form_id = '#upload_form';
        var progress_bar_id = '#progress-wrp';

        var type_doc = $("#type_doc_in_modal").val();

        if (type_doc == 'AC') {
            var result_output = '#output_AC';
        }
        if (type_doc == 'EAC') {
            var result_output = '#output_EAC';
        }

        if (type_doc == 'PC') {
            var result_output = '#output_PC';
        }
        if (type_doc == 'EPC') {
            var result_output = '#output_EPC';
        }

        if (type_doc == 'RC') {
            var result_output = '#output';
        }

        if (type_doc == 'NPC') {
            var result_output = '#output_NPC';
        }

        if (type_doc == 'UPDATERC') {
            var result_output = '#output_UPDATERC';
        }

        if (type_doc == 'UPDATEMPC') {
            var result_output = '#output_UPDATEMPC';
        }

        if (type_doc == 'UPDATEMAC') {
            var result_output = '#output_UPDATEMAC';
        }

        if (type_doc == 'PRC') {
            var result_output = '#output_PRC';
        }

        if (type_doc == 'UPDATEPRC') {
            var result_output = '#output_UPDATEPRC';
        }

        if (type_doc == 'UPDATENPC') {
            var result_output = '#output_UPDATENPC';
        }


        event.preventDefault();
        var proceed = true; //set proceed flag
        var error = []; //errors
        var total_files_size = 0;

        //reset progressbar
        $(progress_bar_id + " .progress-bar").css("width", "0%");
        $(progress_bar_id + " .status").text("0%");

        var uploaded_file = $("#uploaded_file").val();

        if (!uploaded_file) {
            error.push("<strong>You did not select a file to upload.!</strong>");
            $('#upload_form')[0].reset();
            proceed = false;
        }

        //multiple file upload
        $(this.elements['__files[]'].files).each(function(i, ifile) {
            if (ifile.value !== "") {
                if (allowed_file_types.indexOf(ifile.type) === -1) {
                    error.push("<strong>" + ifile.name + "</strong> is unsupported file type!");
                    $('#upload_form')[0].reset();
                    proceed = false;
                }

                total_files_size = total_files_size + ifile.size;
            }
        });

        var total_selected_files = this.elements['__files[]'].files.length; //number of files

        //if total file size is greater than max file size
        if (total_files_size > max_file_size) {
            //var filesiz = max_file_size.substr(0,2);
            error.push("<strong>Please Try smaller file less than 2 MB!</strong>");
            $('#upload_form')[0].reset();
            proceed = false;
        }

        var submit_btn = $(this).find("input[type=submit]");

        //if everything looks good, proceed with jQuery Ajax
        if (proceed) {
            //submit_btn.val("Please Wait...").prop( "disabled", true); //disable submit button
            //$('#progress-wrp').show();

            $(result_output).hide();

            $.blockUI({
                message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait..</h4>",
                css: {
                    border: '0px',
                    width: '26%',
                    top: '30%'
                }
            });

            var csrf_test_name = get_csrf_token();
            $('#sfsdfsdfsddsddd').val(csrf_test_name);

            setTimeout($.unblockUI);

            var form_data_full = new FormData(this);
            //var form_data_full = form_data + csrf_test_name;
            //Type of document passed in controller function

            if (type_doc == 'PC') {
                var post_url = 'https://ngodarpan.gov.in/index.php/ajaxcontroller/upload_document/PC';
            }

            if (type_doc == 'EPC') {
                var post_url = 'https://ngodarpan.gov.in/index.php/ajaxcontroller/upload_document/PC';
            }

            if (type_doc == 'AC') {
                var post_url = 'https://ngodarpan.gov.in/index.php/ajaxcontroller/upload_document/AC';
            }

            if (type_doc == 'EAC') {
                var post_url = 'https://ngodarpan.gov.in/index.php/ajaxcontroller/upload_document/AC';
            }

            if (type_doc == 'RC') {
                var post_url = 'https://ngodarpan.gov.in/index.php/ajaxcontroller/upload_document/RC';
            }

            if (type_doc == 'PRC') {
                var post_url = 'https://ngodarpan.gov.in/index.php/ajaxcontroller/upload_document/PRC';
            }

            if (type_doc == 'NPC') {
                var post_url = 'https://ngodarpan.gov.in/index.php/ajaxcontroller/upload_document/NPC';
            }

            if (type_doc == 'UPDATERC') {
                var reg_id = $("#UPDATERC_ID").val();
                var post_url = 'https://ngodarpan.gov.in/index.php/ajaxcontroller/upload_document/UPDATERC/' + reg_id;
            }

            if (type_doc == 'UPDATEPRC') {
                var reg_id = $("#nr_id").val();
                var post_url = 'https://ngodarpan.gov.in/index.php/ajaxcontroller/upload_document/UPDATEPRC/' + reg_id;
            }

            if (type_doc == 'UPDATENPC') {
                var reg_id = $("#nr_id").val();
                var post_url = 'https://ngodarpan.gov.in/index.php/ajaxcontroller/upload_document/UPDATENPC/' + reg_id;
            }

            if (type_doc == 'UPDATEMPC') {
                //for updating uploading pan of membeer
                //$("input[id=update_upload_doc_id_PC]").val(doc_upload_id);
                var mem_id = $("#UPDATEMPC_ID").val();

                var post_url = 'https://ngodarpan.gov.in/index.php/ajaxcontroller/upload_document/UPDATEMPC/' + mem_id;
            }

            if (type_doc == 'UPDATEMAC') {
                var mem_id = $("#UPDATEMPC_ID").val();
                var post_url = 'https://ngodarpan.gov.in/index.php/ajaxcontroller/upload_document/UPDATEMAC/' + mem_id;
            }

            $("#upload_btn").buttonLoader('start');

            $.blockUI.defaults.baseZ = 4000;

            //jQuery Ajax to Post form data
            $.ajax({
                url: post_url,
                type: "POST",
                beforeSend: function(request) {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait..</h4>",
                        css: {
                            border: '0px',
                            width: '26%',
                            top: '30%'
                        }
                    });
                },
                error: function(data, error) {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                        css: {
                            border: '0px',
                            width: '40%',
                            top: '30%'
                        }
                    });
                    setTimeout($.unblockUI);
                    $("#upload_btn").buttonLoader('stop');
                    return false;
                },
                complete: function() {
                    setTimeout($.unblockUI);
                    $("#upload_btn").buttonLoader('stop');
                },
                data: form_data_full,
                contentType: false,
                cache: false,
                processData: false,
                xhr: function() {
                    //upload Progress
                    var xhr = $.ajaxSettings.xhr();
                    if (xhr.upload) {
                        xhr.upload.addEventListener('progress', function(event) {
                            var percent = 0;
                            var position = event.loaded || event.position;
                            var total = event.total;
                            if (event.lengthComputable) {
                                percent = Math.ceil(position / total * 100);
                            }
                            //update progressbar
                            $(progress_bar_id + " .progress-bar").css("width", +percent + "%");
                            $(progress_bar_id + " .status").text(percent + "%");
                        }, true);
                    }
                    return xhr;
                },
                mimeType: "multipart/form-data"
            }).done(function(res) {
                var obj = jQuery.parseJSON(res);
                var jsonString = JSON.stringify(res);
                //alert(obj.errors['error']);
                if (jsonString.indexOf("errors") > -1) {
                    $("#upload_btn").prop("disabled", false);
                    $('#progress-wrp').hide();
                    $(result_output).show();
                    $(result_output).append('<div class="alert alert-danger" id="server_error">' + obj.errors['error'] + "</div>");
                } else {
                    setTimeout($.unblockUI);

                    $("#upload_btn").buttonLoader('stop');

                    $("#upload_btn").prop("disabled", true);

                    $('#progress-wrp').show();
                    //$(".file-footer-caption").html(file_name);
                    //$("#size").html(file_size);
                    var doc_upload_id = obj.doc_upload_id;
                    var file_name = obj.file_name;
                    //var file_path = obj.file_path;
                    //var file_ext = obj.file_ext;
                    //var file_size = obj.file_size;


                    var update_reg_mode = $("#update_reg_mode").val();

                    var before_save_doc_value = Math.floor(Math.random() * ((10000 - 1) + 1) + 1);

                    $("input[id=before_save_doc]").val(before_save_doc_value);

                    if (type_doc == 'RC') {
                        $("input[id=reg_upload_doc_id]").val(doc_upload_id);
                        $("input[id=filename_RC]").val(file_name);
                    }

                    if (type_doc == 'UPDATERC') {
                        $("input[id=update_reg_upload_doc_id]").val(doc_upload_id);
                        $("input[id=update_reg_file_name]").val(file_name);

                    }

                    if (type_doc == 'AC') {
                        $("input[id=upload_doc_id_AC]").val(doc_upload_id);
                        $("input[id=filename_AC]").val(file_name);
                    }

                    if (type_doc == 'EAC') {
                        $("input[id=upload_doc_id_EAC]").val(doc_upload_id);
                        $("input[id=filename_EAC]").val(file_name);
                    }

                    if (type_doc == 'EPC') {
                        $("input[id=upload_doc_id_EPC]").val(doc_upload_id);
                        $("input[id=filename_EPC]").val(file_name);
                    }

                    if (type_doc == 'PC') {
                        $("input[id=upload_doc_id_PC]").val(doc_upload_id);
                        $("input[id=filename_PC]").val(file_name);
                    }

                    if (type_doc == 'NPC') {
                        $("input[id=upload_doc_id_NPC]").val(doc_upload_id);
                        $("input[id=filename_NPC]").val(file_name);

                    }

                    if (type_doc == 'UPDATENPC') {
                        //$("input[id=update_npc_upload_doc_id]").val(doc_upload_id);
                        $("input[id=upload_doc_id_NPC]").val(doc_upload_id);
                        $("input[id=filename_UPDATENPC]").val(file_name);

                    }

                    if (type_doc == 'UPDATEPRC') {
                        //$("input[id=update_preg_upload_doc_id]").val(doc_upload_id);
                        $("input[id=Preg_upload_doc_id]").val(doc_upload_id);
                        $("input[id=filename_UPDATEPRC]").val(file_name);

                    }

                    if (type_doc == 'PRC') {
                        $("input[id=Preg_upload_doc_id]").val(doc_upload_id);
                        $("input[id=filename_PRC]").val(file_name);

                    }

                    if (type_doc == 'UPDATEMPC') {
                        $("input[id=update_upload_doc_id_PC]").val(doc_upload_id);
                        $("input[id=update_member_pan]").val(file_name);

                    }

                    if (type_doc == 'UPDATEMAC') {
                        $("input[id=update_upload_doc_id_AC]").val(doc_upload_id);
                        $("input[id=update_member_aadhaar]").val(file_name);
                    }

                    var reg_doc_path = 'https://ngodarpan.gov.in/ngodocs/regdocs/' + '/' + file_name;

                    $('#reg_href').attr("onclick", "window.open('" + reg_doc_path + "','popUpWindow','height=400,width=600,left=10,top=10,,scrollbars=yes,menubar=no'); return false;");
                }

            });
        } else {
            $(result_output).show();
        }

        $(result_output).html("");
        $(error).each(function(i) {
            $(result_output).append('<div class="alert alert-danger" id="server_error">' + error[i] + "</div>");
        });
    });



    $("#upload_cs_form").on("submit", function(event) {
        var max_file_size = 2000000;
        var allowed_file_types = ['image/jpeg', 'application/pdf'];
        var my_form_id = '#upload_cs_form';
        var progress_bar_id = '#progress-cs-wrp';
        var result_output = '#output_cs';

        event.preventDefault();
        var proceed = true; //set proceed flag
        var error = []; //errors
        var total_files_size = 0;

        //reset progressbar
        $(progress_bar_id + " .progress-bar").css("width", "0%");
        $(progress_bar_id + " .status").text("0%");

        var uploaded_file = $("#uploaded_cs_file").val();

        var doc_type = $("#type_doc_in_cs_modal").val();

        var old_updocs_id = $("#upd_id").val();

        var rej_id = $("#rej_id").val();

        if (!uploaded_file) {
            error.push("<strong>You did not select a file to upload.!</strong>");
            $('#upload_cs_form')[0].reset();
            proceed = false;
        }

        //multiple file upload
        $(this.elements['__files[]'].files).each(function(i, ifile) {
            if (ifile.value !== "") {
                if (allowed_file_types.indexOf(ifile.type) === -1) {
                    error.push("<strong>" + ifile.name + "</strong> is unsupported file type!");
                    $('#upload_cs_form')[0].reset();
                    proceed = false;
                }

                total_files_size = total_files_size + ifile.size;
            }
        });

        var total_selected_files = this.elements['__files[]'].files.length; //number of files

        //if total file size is greater than max file size
        if (total_files_size > max_file_size) {
            //var filesiz = max_file_size.substr(0,2);
            error.push("<strong>Please Try smaller file less than 2 MB!</strong>");
            $('#upload_cs_form')[0].reset();
            proceed = false;
        }

        var submit_btn = $(this).find("input[type=submit]");

        //if everything looks good, proceed with jQuery Ajax
        if (proceed) {
            $('#progress-cs-wrp').show();

            $(result_output).hide();
            var csrf_test_name = get_csrf_token();
            $('#sfsdfsdfsddsddfgffgfggd').val(csrf_test_name);
            var form_data = new FormData(this);

            $("#upload_cs_btn").buttonLoader('start');

            if (doc_type == 'NP') {
                var post_url = 'https://ngodarpan.gov.in/index.php/ngo/upload_cs_document/NP/' + old_updocs_id + '/' + rej_id;
            }

            if (doc_type == 'NR') {
                var post_url = 'https://ngodarpan.gov.in/index.php/ngo/upload_cs_document/NR/' + old_updocs_id + '/' + rej_id;
            }

            if (doc_type == 'SR') {
                var post_url = 'https://ngodarpan.gov.in/index.php/ngo/upload_cs_document/SR/' + old_updocs_id + '/' + rej_id;
            }

            if (doc_type == 'MP') {
                var post_url = 'https://ngodarpan.gov.in/index.php/ngo/upload_cs_document/MP/' + old_updocs_id + '/' + rej_id;
            }

            if (doc_type == 'MA') {
                var post_url = 'https://ngodarpan.gov.in/index.php/ngo/upload_cs_document/MA/' + old_updocs_id + '/' + rej_id;
            }

            $.blockUI.defaults.baseZ = 4000;

            $.ajax({
                url: post_url,
                type: "POST",
                beforeSend: function(request) {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait..</h4>",
                        css: {
                            border: '0px',
                            width: '26%',
                            top: '30%'
                        }
                    });
                },
                error: function(data, error) {
                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                        css: {
                            border: '0px',
                            width: '40%',
                            top: '30%'
                        }
                    });
                    setTimeout($.unblockUI);
                    $("#upload_cs_btn").buttonLoader('stop');
                    return false;
                },
                complete: function() {
                    setTimeout($.unblockUI);
                    $("#upload_cs_btn").buttonLoader('stop');
                },
                data: form_data,
                contentType: false,
                cache: false,
                processData: false,
                xhr: function() {
                    //upload Progress
                    var xhr = $.ajaxSettings.xhr();
                    if (xhr.upload) {
                        xhr.upload.addEventListener('progress', function(event) {
                            var percent = 0;
                            var position = event.loaded || event.position;
                            var total = event.total;
                            if (event.lengthComputable) {
                                percent = Math.ceil(position / total * 100);
                            }
                            //update progressbar
                            $(progress_bar_id + " .progress-bar").css("width", +percent + "%");
                            $(progress_bar_id + " .status").text(percent + "%");
                        }, true);
                    }
                    return xhr;
                },
                mimeType: "multipart/form-data"
            }).done(function(res) {

                setTimeout($.unblockUI);

                $("#upload_cs_btn").buttonLoader('stop');

                var obj = jQuery.parseJSON(res);
                var jsonString = JSON.stringify(res);

                if (obj['status'] == 1) {
                    var before_save_doc_value = Math.floor(Math.random() * ((10000 - 1) + 1) + 1);

                    $("input[id=before_save_cs_doc]").val(before_save_doc_value);
                } else {
                    $('#upload_cs_form')[0].reset();

                    $('#progress-cs-wrp').hide();

                    $(result_output).html("");

                    $(result_output).show();
                    var msgcs = "Something Happened, Please Close Window & try again after Sometime!";

                    $(result_output).append('<div class="alert alert-danger" id="server_error">' + msgcs + '</div>');
                }

            });
        } else {
            $(result_output).show();
        }

        $(result_output).html("");
        $(error).each(function(i) {
            $(result_output).append('<div class="alert alert-danger" id="server_error">' + error[i] + "</div>");
        });
    });

    //Clear reg uploading form in modal 
    $('#rc_modal').on('hidden.bs.modal', function() {
        $('body').removeClass("modal-open-noscroll");
        // start -- on removing below code, when outer modal close, inside modal prevent scrlloing
        $('#add-modal-member').addClass('vex-open');
        $('#add-modal-member_aadhaar_exempt').addClass('vex-open');
        $('#add-modal').addClass('vex-open');
        $('#update_ngo_member_modal').addClass('vex-open');
        $('#update_ngo_reg_modal').addClass('vex-open');
        $('#test').addClass('vex-open');
        //End
        $(this).find('form').trigger('reset');
        $('#progress-wrp').hide();
        $('#output').hide();
        $('#output_AC').hide();
        $('#output_PC').hide();
        $('#output_EAC').hide();
        $('#output_EPC').hide();
        $('#output_NPC').hide();
        $('#output_PRC').hide();
        $('#output_UPDATERC').hide();
        $('#output_UPDATEMPC').hide();
        $('#output_UPDATEMAC').hide();
        $('#output_UPDATEPRC').hide();
        $('#output_UPDATENPC').hide();
        $("#upload_btn").prop("disabled", false);
        $('.file-preview').hide();
    })

    // $('#test').on('shown.bs.modal', function () {
    //     $(this).find('.modal-dialog').css({width:'auto',
    //                                height:'auto', 
    //                               'max-height':'100%'});
    // });

    //Clear cs uploading form in modal 
    $('#cs_modal').on('hidden.bs.modal', function() {
        $('body').removeClass("modal-open-noscroll");
        $(this).find('form').trigger('reset');
        $('#progress-cs-wrp').hide();
        $('#before_save_cs_doc_msg').hide();
        $('#output_cs').hide();
        $('.file-preview').hide();
    })

    $('#test').on('hidden.bs.modal', function() {
        $('body').removeClass("modal-open-noscroll");
        $('#test').addClass('vex-open');
        $(this).find('form').trigger('reset');
        $('#ngo_list').html('');
        $('#ngo_list_2').html('');
    })

    $('#test1').on('hidden.bs.modal', function() {
        $('body').removeClass("modal-open-noscroll");
        $('#ngo_list_2').html('');
    })

    $('#add-modal').on('hidden.bs.modal', function() {
        $('body').removeClass("modal-open-noscroll");
        $(this).find('form').trigger('reset');
        $("#uplaod_button").show();
        $("#uplaod_button_hide").hide();
        $("#uplaod_button_PC").show();
        $("#uplaod_button_hide_PC").hide();
        $("#uplaod_button_AC").show();
        $("#uplaod_button_hide_AC").hide();
    })

    $('#add-modal-member').on('hidden.bs.modal', function() {
        $('body').removeClass("modal-open-noscroll");
        $(this).find('form').trigger('reset');
        $("#uplaod_button").show();
        $("#uplaod_button_hide").hide();
        $("#uplaod_button_PC").show();
        $("#uplaod_button_hide_PC").hide();
        $("#uplaod_button_AC").show();
        $("#uplaod_button_hide_AC").hide();

        $('.member_name_error').hide();
        $('.member_gender_error').hide();
        $('.member_dob_error').hide();
        $('.member_designation_error').hide();
        $('.check_member_exists_error').hide();
        $('.check_member_exists_two_error').hide();
        $('.member_key_designation_error').hide();
        $('.member_pan_no_error').hide();
        $('.pan_name_error').hide();
        $('.uplaod_button_PC_error').hide();
        $('.pan_check_error').hide();
        $('.member_adhar_no_error').hide();
        $('.aadhaar_name_error').hide();
        $('.check_member_exists_three_error').hide();
        $('.upload_doc_id_AC_error').hide();
        $('.aadhar_check_error').hide();
        $('.member_mobile_no_error').hide();
        $('.member_email_error').hide();
        $('.member_active_from_error').hide();

    })

    $('#add-modal-member_aadhaar_exempt').on('hidden.bs.modal', function() {
        $('body').removeClass("modal-open-noscroll");
        $(this).find('form').trigger('reset');
        $("#uplaod_button").show();
        $("#uplaod_button_hide").hide();
        $("#uplaod_button_EPC").show();
        $("#uplaod_button_hide_EPC").hide();
        $("#uplaod_button_EAC").show();
        $("#uplaod_button_hide_EAC").hide();

        $('.member_name_exempt_error').hide();
        $('.member_gender_exempt_error').hide();
        $('.member_dob_exempt_error').hide();
        $('.member_designation_exempt_error').hide();
        $('.check_member_exists_exempt_error').hide();
        $('.check_member_exists_two_exempt_error').hide();
        $('.member_key_designation_exempt_error').hide();
        $('.member_pan_no_exempt_error').hide();
        $('.pan_name_exempt_error').hide();
        $('.uplaod_button_PC_error').hide();
        $('.pan_check_exempt_error').hide();
        $('.member_adhar_no_exempt_error').hide();
        $('.aadhaar_name_exempt_error').hide();
        $('.check_member_exists_three_exempt_error').hide();
        $('.upload_doc_id_AC_error').hide();
        $('.aadhar_check_exempt_error').hide();
        $('.member_mobile_no_exempt_error').hide();
        $('.member_email_exempt_error').hide();
        $('.member_active_from_exempt_error').hide();

    })

    $('#update_ngo_member_modal').on('hidden.bs.modal', function() {
        $(this).find('form').trigger('reset');
        $('.update_member_name_error').hide();
        $('.update_member_gender_error').hide();
        $('.update_member_dob_error').hide();
        $('.update_member_designation_error').hide();
        $('.update_member_key_designation_error').hide();
        $('.update_member_mobile_no_error').hide();
        $('.update_member_email_error').hide();
        $('.update_member_active_from_error').hide();
        $('.update_member_active_from_error').hide();
    })

    $('#add-source-fund').on('hidden.bs.modal', function() {
        $(this).find('form').trigger('reset');
    })

    function get_source_fund_by_id(id) {
        // Add ID to the hidden field for furture usage
        $.blockUI({
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
            css: {
                border: '0px',
                width: '18%',
                top: '30%'
            }
        });

        var csrf_test_name = get_csrf_token(); //$('#csrff').val();
        $("#hidden_source_fund_id").val(id);
        $.post("https://ngodarpan.gov.in/index.php/ngo/get_source_fund_by_id", {
                id: id,
                csrf_test_name: csrf_test_name
            },
            function(data, status) {
                // PARSE json data
                var dat = JSON.parse(data);

                // Assing existing values to the modal popup fields

                var from_date_year_arr = dat.datefrom.split('-');
                var to_date_year_arr = dat.dateto.split('-');
                var finacial_year = from_date_year_arr['0'] + "-" + to_date_year_arr['0'];


                $("#update_year").val(finacial_year);

                if (dat.isSOF == 'Y') {
                    $('input[name=update_sof_available][value="1"]').prop('checked', true);
                    $("#sof_available_div_u").show();
                } else {
                    $('input[name=update_sof_available][value="0"]').prop('checked', true);
                    $("#sof_available_div_u").hide();
                }

                $("#update_deptt_name").val(dat.deptt_name);
                $("#update_source").val(dat.source);

                $("#update_amount_sanctioned").val(dat.amount_sanctioned);
                $("#update_amount_spent").val(dat.amount_spent);
                $("#update_amount_avail").val(dat.amount_released);
                $("#update_project_name").val(dat.project_name);
                $("#update_project_location").val(dat.project_location);

                $("#update_soc_state").val(dat.state_id);
                $("#update_soc_district").val(dat.district_id);
                $("#update_pfms_id").val(dat.pfms_id);
                $("#update_scheme_id").val(dat.scheme_id);

                // alert(dat.ut_certificate);

                if (dat.ut_certificate == 'Y') {
                    $('input[name=update_ut_certificate][value="1"]').prop('checked', true);
                } else {
                    $('input[name=update_ut_certificate][value="0"]').prop('checked', true);
                }

                //$("#update_ut_certificate").val(dat.ut_certificate);

                $("#update_purpose").val(dat.purpose);
                $("#update_temp_request_id").val(dat.ngo_id)
            }
        );

        setTimeout($.unblockUI);
        // Open modal popup
        $("#update_source_fund_modal").modal("show");

    }


    function update_source_fund() {

        $("#update_sof_btn").prop("disabled", true);
        $("#update_sof_btn").html('Please wait...');


        $.blockUI({
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
            css: {
                border: '0px',
                width: '18%',
                top: '30%',
                'z-index': '1051'
            },
            overlayCSS: {
                'z-index': '1050'
            }
        });

        var csrf_test_name = get_csrf_token(); //$('#csrff').val();
        // get values
        var year = $("#update_year").val();

        var update_sof_available = $("input:radio[name=update_sof_available]:checked").val();

        //alert(update_sof_available);
        if (update_sof_available == '0') {
            sof_available = 'N';

            var deptt_name = 'NA';
            var source = 'N'
            var fcra_details = 'NA';
            var amount_sanctioned = '0';
            var amount_spent = '0';
            var amount_avail = '0';
            var project_name = 'NA'
            var project_location = 'NA';
            var ut_certificate = 'N';
            var pfms_id = '0';
            var soc_state = '0';
            var scheme_id = '0';
            var soc_district = '0';

        } else {
            sof_available = 'Y';

            var deptt_name = $("#update_deptt_name").val();
            var source = $("#update_source").val();
            var fcra_details = $("#update_fcra_details").val();
            var amount_sanctioned = $('#update_amount_sanctioned').val();
            var amount_spent = $('#update_amount_spent').val();
            var amount_avail = $('#update_amount_avail').val();
            var project_name = $('#update_project_name').val();
            var project_location = $('#update_project_location').val();
            var ut_certificate = $("input:radio[name=update_ut_certificate]:checked").val();

            if (ut_certificate == '0') {
                ut_certificate = 'N';
            } else {
                ut_certificate = 'Y';
            }
            // alert(ut_certificate);

            // return false;
            var pfms_id = $('#update_pfms_id').val();
            var soc_state = $('#update_soc_state').val();
            var scheme_id = $('#update_scheme_id').val();
            var soc_district = $('#update_soc_district').val();

        }

        var purpose = $("#update_purpose").val();
        var ngo_id = $("#update_temp_request_id").val();

        //var ut_certificate = $('#update_ut_certificate').val();

        // get hidden field value
        var id = $("#hidden_source_fund_id").val();

        // Update the details by requesting to the server using ajax
        $.post("https://ngodarpan.gov.in/index.php/ngo/save_source_fund_info/" + id, {
                id: id,
                year: year,
                sof_available: sof_available,
                deptt_name: deptt_name,
                source: source,
                purpose: purpose,
                ngo_id: ngo_id,
                amount_sanctioned: amount_sanctioned,
                amount_spent: amount_spent,
                amount_avail: amount_avail,
                project_name: project_name,
                project_location: project_location,
                ut_certificate: ut_certificate,
                fcra_details: fcra_details,
                pfms_id: pfms_id,
                soc_state: soc_state,
                scheme_id: scheme_id,
                soc_district: soc_district,
                csrf_test_name: csrf_test_name,
            },
            function(json) {

                $("#update_sof_btn").prop("disabled", false);
                $("#update_sof_btn").html('Save changes');

                var obj = jQuery.parseJSON(json);

                var jsonString = JSON.stringify(json);

                if (obj['success'] == 0) {
                    setTimeout($.unblockUI);
                    if (jsonString.indexOf("year") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['year'] + "</li></ul>";
                        $('.update_year_error').show();
                        $('.update_year_error').html(htmlstyle);
                    } else {
                        $('.update_year_error').hide();
                    }

                    if (jsonString.indexOf("deptt_name") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['deptt_name'] + "</li></ul>";
                        $('.update_deptt_name_error').show();
                        $('.update_deptt_name_error').html(htmlstyle);
                    } else {
                        $('.update_deptt_name_error').hide();
                    }

                    if (jsonString.indexOf("source") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['source'] + "</li></ul>";
                        $('.update_source_error').show();
                        $('.update_source_error').html(htmlstyle);
                    } else {
                        $('.update_source_error').hide();
                    }

                    if (jsonString.indexOf("fcra_details_text_error") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['fcra_details_text_error'] + "</li></ul>";
                        $('.fcra_details_text_error').show();
                        $('.fcra_details_text_error').html(htmlstyle);
                    } else {
                        $('.fcra_details_text_error').hide();
                    }

                    if (jsonString.indexOf("amount_sanctioned") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['amount_sanctioned'] + "</li></ul>";
                        $('.update_amount_sanctioned_error').show();
                        $('.update_amount_sanctioned_error').html(htmlstyle);
                    } else {
                        $('.update_amount_sanctioned_error').hide();
                    }

                    if (jsonString.indexOf("amount_spent") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['amount_spent'] + "</li></ul>";
                        $('.update_amount_spent_error').show();
                        $('.update_amount_spent_error').html(htmlstyle);
                    } else {
                        $('.update_amount_spent_error').hide();
                    }

                    if (jsonString.indexOf("amount_avail") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['amount_avail'] + "</li></ul>";
                        $('.update_amount_avail_error').show();
                        $('.update_amount_avail_error').html(htmlstyle);
                    } else {
                        $('.update_amount_avail_error').hide();
                    }

                    if (jsonString.indexOf("project_name") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['project_name'] + "</li></ul>";
                        $('.update_project_name_error').show();
                        $('.update_project_name_error').html(htmlstyle);
                    } else {
                        $('.update_project_name_error').hide();
                    }

                    if (jsonString.indexOf("project_location") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['project_location'] + "</li></ul>";
                        $('.update_project_location_error').show();
                        $('.update_project_location_error').html(htmlstyle);
                    } else {
                        $('.update_project_location_error').hide();
                    }

                    if (jsonString.indexOf("ut_certificate") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['ut_certificate'] + "</li></ul>";
                        $('.update_amount_sanctioned_error').show();
                        $('.update_amount_sanctioned_error').html(htmlstyle);
                    } else {
                        $('.update_amount_sanctioned_error').hide();
                    }

                    if (jsonString.indexOf("purpose") > -1) {
                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['purpose'] + "</li></ul>";
                        $('.update_purpose_error').show();
                        $('.update_purpose_error').html(htmlstyle);
                    } else {
                        $('.update_purpose_error').hide();
                    }
                } else {
                    // hide modal popup
                    $("#update_source_fund_modal").modal("hide");

                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                        css: {
                            border: '0px',
                            width: '18%',
                            top: '30%'
                        }
                    });

                    setTimeout(function() {
                        $.unblockUI({
                            onUnblock: function() {

                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Source of Funds Has been Updated!</h4>",
                                    css: {
                                        border: '0px',
                                        width: '34%',
                                        top: '30%'
                                    }
                                });
                                setTimeout(function() {
                                    $.unblockUI({
                                        onUnblock: function() {
                                            var url = "https://ngodarpan.gov.in/index.php/ngo/sourcefunds";
                                            $(location).attr('href', url);
                                        }
                                    });
                                }, 4000);
                            }
                        });
                    }, 3000);

                }

            }
        );

        get_source_fund_info();
    }

    function get_state_modal(nr_id) {

        $("#state-district-modal_" + nr_id).modal("show");

    }

    function get_state_modal_new() {
        $("#add-state-district-modal").modal("show");
    }

    function update_state_district_by_reg_id(nr_id) {
        var csrf_test_name = get_csrf_token(); //$('#csrff').val();

        var select_states_val = $("#select_states" + nr_id).select2("val");

        var select_district_val = $("#select_district" + nr_id).select2("val");


        $.post("https://ngodarpan.gov.in/index.php/ngo/update_state_district_by_reg_id", {
                reg_id: nr_id,
                states_val: select_states_val,
                district_val: select_district_val,
                csrf_test_name: csrf_test_name,

            },
            function(json) {
                var obj = jQuery.parseJSON(json);
                var jsonString = JSON.stringify(json);

                if (obj['success'] == 0) {
                    if (jsonString.indexOf("states_vals_error") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['states_vals_error'] + "</li></ul>";
                        $('.states_vals_error').show();
                        $('.states_vals_error').html(htmlstyle);
                    } else {
                        $('.states_vals_error').hide();
                    }

                    if (jsonString.indexOf("district_vals_error") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['district_vals_error'] + "</li></ul>";
                        $('.district_vals_error').show();
                        $('.district_vals_error').html(htmlstyle);
                    } else {
                        $('.district_vals_error').hide();
                    }
                } else {
                    $("#state-district-modal_" + nr_id).modal("hide");

                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                        css: {
                            border: '0px',
                            width: '18%',
                            top: '30%'
                        }
                    });

                    setTimeout(function() {
                        $.unblockUI({
                            onUnblock: function() {

                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Your States/District Activities has been saved!</h4>",
                                    css: {
                                        border: '0px',
                                        width: '34%',
                                        top: '30%'
                                    }
                                });

                                setTimeout(function() {
                                    $.unblockUI({
                                        onUnblock: function() {
                                            var url = "https://ngodarpan.gov.in/index.php/ngo/work";
                                            $(location).attr('href', url);
                                        }
                                    });
                                }, 4000);
                            }
                        });
                    }, 3000);
                }
            }
        );
    }

    function get_work_modal(nr_id) {

        $("#work-modal_" + nr_id).modal("show");

    }

    function update_work_issue_by_reg_id(nr_id) {
        var csrf_test_name = get_csrf_token(); // $('#csrff').val();

        var iss_val = $("#select_issues_" + nr_id).select2("val");

        $.post("https://ngodarpan.gov.in/index.php/ngo/update_work_issue_by_reg_id", {
                reg_id: nr_id,
                issues_id: iss_val,
                csrf_test_name: csrf_test_name,

            },
            function(json) {
                var obj = jQuery.parseJSON(json);
                var jsonString = JSON.stringify(json);

                if (obj['success'] == 0) {
                    if (jsonString.indexOf("work_issues_error") > -1) {

                        var htmlstyle = "<ul class='list-unstyled'><li>" + obj['errors']['work_issues_error'] + "</li></ul>";
                        $('.work_issues_error').show();
                        $('.work_issues_error').html(htmlstyle);
                    } else {
                        $('.work_issues_error').hide();
                    }
                } else {
                    $("#work-modal_" + nr_id).modal("hide");

                    $.blockUI({
                        message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                        css: {
                            border: '0px',
                            width: '18%',
                            top: '30%'
                        }
                    });

                    setTimeout(function() {
                        $.unblockUI({
                            onUnblock: function() {

                                $.blockUI({
                                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Your Working Areas has been saved!</h4>",
                                    css: {
                                        border: '0px',
                                        width: '34%',
                                        top: '30%'
                                    }
                                });

                                setTimeout(function() {
                                    $.unblockUI({
                                        onUnblock: function() {
                                            var url = "https://ngodarpan.gov.in/index.php/ngo/work";
                                            $(location).attr('href', url);
                                        }
                                    });
                                }, 4000);
                            }
                        });
                    }, 3000);
                }
            }
        );
    }
</script>
<script type="text/javascript">
    var text_max = 500;
    $('#count_message').html(text_max + ' characters remaining');

    $('#Best_Prac').keyup(function() {
        var text_length = $('#Best_Prac').val().length;
        var text_remaining = text_max - text_length;

        $('#count_message').html(text_remaining + ' characters remaining');
    });

    $('#count_message1').html(text_max + ' characters remaining');

    $('#count_message2').html(text_max + ' characters remaining');

    $('#Major_Activities1').keyup(function() {
        var text_length = $('#Major_Activities1').val().length;
        var text_remaining = text_max - text_length;

        $('#count_message1').html(text_remaining + ' characters remaining');
    });

    $('#purpose').keyup(function() {
        var text_length = $('#purpose').val().length;
        var text_remaining = text_max - text_length;

        $('#count_message2').html(text_remaining + ' characters remaining');
    });


    function get_csrf_token() {
        var csrf_token;
        var csrf_token1 = '';
        $.ajax({
            type: "GET",
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/get_csrf",
            dataType: "json",
            async: false,
            timeout: 5000,
            error: function(data, error) {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                    css: {
                        border: '0px',
                        width: '40%',
                        top: '30%'
                    }
                });
                setTimeout($.unblockUI, 2000);
            },
            success: function(data) {
                //setTimeout($.unblockUI,2000);
                csrf_token1 = data.csrf_token;

            }
        });

        return csrf_token1;
    }

    function get_ngo_pan_status() {
        var status;
        var ngo_id = "";
        $.ajax({
            'async': true,
            'type': "GET",
            'dataType': 'json',
            'url': "https://ngodarpan.gov.in/index.php/ajaxcontroller/get_csrf",
            async: false,
            'success': function(data) {
                csrf_token = data.csrf_token;
            }
        });
        return status;
    }


    function get_ngo_rec(uniid, srcele, tgtele, hdnele) {



        //alert('the value  of uniid is '+uniid);
        //alert($(eval('"#'+tgtele+'"')).html());
        var csfrData = {};

        $.blockUI({
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
            css: {
                border: '0px',
                width: '18%',
                top: '30%'
            }
        });

        //csfrData['csrf_test_name'] =  get_csrf_token();
        var csrf_token_name = "csrf_test_name";
        var csrf_token_value = get_csrf_token();
        setTimeout($.unblockUI);




        $.ajax({
            type: "POST",
            'async': true,
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/get_ngo_rec",
            beforeSend: function() {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });
                $(eval('"#' + tgtele + '"')).html("Please wait ....checking...Ngo details....");
                $(eval('"#' + hdnele + '"')).val('');
            },
            error: function(data, error) {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wrong, Please try Again!</h4>",
                    css: {
                        border: '0px',
                        width: '40%',
                        top: '30%'
                    }
                });
                setTimeout($.unblockUI);
                console.log(error);
            },
            data: csrf_token_name + "=" + csrf_token_value + "&uniid=" + uniid,

            success: function(json) {
                var obj = jQuery.parseJSON(json);

                var jsonString = JSON.stringify(json);
                setTimeout($.unblockUI);

                if (obj['success'] == 0) {

                    //alert('error returned');

                    //alert(obj['errors']);
                    $(eval('"#' + tgtele + '"')).removeClass('text-success');
                    $(eval('"#' + tgtele + '"')).addClass('text-danger');
                    $(eval('"#' + tgtele + '"')).html(obj['errors']);
                    $(eval('"#' + srcele + '"')).val('');
                    $(eval('"#' + hdnele + '"')).val('');
                } else {

                    //alert('ngoid returned');
                    //alert(obj['retngoid']);
                    var ngoinfo = obj['retngo'];
                    var arrngoinfo = ngoinfo.split('#');
                    $(eval('"#' + tgtele + '"')).removeClass('text-danger');
                    $(eval('"#' + tgtele + '"')).addClass('text-success');
                    $(eval('"#' + tgtele + '"')).html("<p>Ngo Name: &nbsp;" + arrngoinfo[1] + "<br />NGO UniqueID Validated !! click &nbsp;<a href='javascript:void(0);'  onclick=\"show_ngo_info('" + arrngoinfo[0] + "')\">here</a>&nbsp; to check NGO Details</p>");
                    $(eval('"#' + hdnele + '"')).val(uniid);
                    console.log('value of chkn inside ajax call ' + $(eval('"#' + hdnele + '"')).val());
                    $('#chktunivbit').val('1');
                    console.log('value of chktunivbit inside onblur, validity success, ajax call and after return from ajax  case-> ' + $('#chktunivbit').val());
                }

                //console.log('reaches in success');
                //alert(tgtlist);
                //$(eval('"#'+tgtele.name+'"')).html("data will be populated here ");
                //$(eval('"#'+tgtele.name+'"')).append(tgtlist);

            }
        });
    }


    function get_ngo_rec2(cltype, clval, srcele, tgtele, hdnele) {



        //alert('the value  of uniid is '+uniid);
        //alert($(eval('"#'+tgtele+'"')).html());
        var csfrData = {};

        $.blockUI({
            message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
            css: {
                border: '0px',
                width: '18%',
                top: '30%'
            }
        });

        //csfrData['csrf_test_name'] =  get_csrf_token();
        var csrf_token_name = "csrf_test_name";
        var csrf_token_value = get_csrf_token();
        setTimeout($.unblockUI);




        $.ajax({
            type: "POST",
            'async': true,
            url: "https://ngodarpan.gov.in/index.php/ajaxcontroller/get_ngo_rec2",
            beforeSend: function() {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Please wait...</h4>",
                    css: {
                        border: '0px',
                        width: '18%',
                        top: '30%'
                    }
                });
                $(eval('"#' + tgtele + '"')).html("Please wait ....checking...Ngo details....");
                $(eval('"#' + hdnele + '"')).val('');
            },
            error: function(data, error) {
                $.blockUI({
                    message: "<h4 style='margin: 10px 0;'><img  width='50px' height='50px' src='https://ngodarpan.gov.in/assets/images/load.png' />Something Went Wronggg, Please try Again!</h4>",
                    css: {
                        border: '0px',
                        width: '40%',
                        top: '30%'
                    }
                });
                setTimeout($.unblockUI);
                console.log(error);
            },
            data: csrf_token_name + "=" + csrf_token_value + "&cltype=" + cltype + "&clval=" + clval,

            success: function(json) {
                var obj = jQuery.parseJSON(json);

                var jsonString = JSON.stringify(json);
                setTimeout($.unblockUI);

                if (obj['success'] == 0) {

                    //alert('error returned');

                    //alert(obj['errors']);
                    $(eval('"#' + tgtele + '"')).removeClass('text-success');
                    $(eval('"#' + tgtele + '"')).addClass('text-danger');
                    $(eval('"#' + tgtele + '"')).html(obj['errors']);
                    $(eval('"#' + srcele + '"')).val('');
                    $(eval('"#' + hdnele + '"')).val('');
                    $('#chkn').val('');

                    console.log('value of chkn  from ajax  case error -> ' + $('#chkn').val());
                    $('#chknfdvbit').val('0');
                    console.log('value of chknfdvbit  after return from ajax  case error-> ' + $('#chknfdvbit').val());
                } else {

                    alert('ngoid returned');
                    alert(obj['retngoid']);
                    var ngoinfo = obj['retngo'];
                    var arrngoinfo = ngoinfo.split('#');
                    $(eval('"#' + tgtele + '"')).removeClass('text-danger');
                    $(eval('"#' + tgtele + '"')).addClass('text-success');
                    $(eval('"#' + tgtele + '"')).html("<p>Ngo Name: &nbsp;" + arrngoinfo[1] + "<br />NGO UniqueID Validated !! click &nbsp;<a href='javascript:void(0);'  onclick=\"show_ngo_info('" + arrngoinfo[0] + "')\">here</a>&nbsp; to check NGO Details</p>");
                    $('#orgname_registermkb').val(arrngoinfo[1]);
                    $('#fname_registermkb').val(arrngoinfo[2]);
                    $('#mname_registermkb').val(arrngoinfo[3]);
                    $('#lname_registermkb').val(arrngoinfo[4]);
                    $('#email_registermkb').val(arrngoinfo[5]);
                    $('#mobile_registermkb').val(arrngoinfo[6]);


                    //$(eval('"#'+hdnele+'"')).val(uniid);
                    //console.log('value of chkn inside ajax call '+$(eval('"#'+hdnele+'"')).val());
                    $('#chkn').val('1');

                    console.log('value of chkn  from ajax  case success -> ' + $('#chkn').val());
                    $('#chknfdvbit').val('1');
                    console.log('value of chknfdvbit  after return from ajax  case success-> ' + $('#chknfdvbit').val());
                }

                //console.log('reaches in success');
                //alert(tgtlist);
                //$(eval('"#'+tgtele.name+'"')).html("data will be populated here ");
                //$(eval('"#'+tgtele.name+'"')).append(tgtlist);

            }
        });
    }
</script>
</body>

</html>